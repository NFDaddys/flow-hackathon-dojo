(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[598],{520:function(e,n,d){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkin",function(){return d(6091)}])},6091:function(e,n,d){"use strict";d.r(n),d.d(n,{default:function(){return p}});var o=d(5893),s=d(7073),r=d(1163),c=d(9828),a=d(7294),l=d(3977);let i=(0,l.ZF)({apiKey:"AIzaSyBe2_mydq7MxewDn4RmrZw6IvuiZTy64vM",authDomain:"valorpdsapp.firebaseapp.com",projectId:"valorpdsapp",storageBucket:"valorpdsapp.appspot.com",messagingSenderId:"795252048936",appId:"1:795252048936:web:6ee93f33f82d12cb4da11d"}),t=(0,c.ad)(i),u=()=>{let e=(0,r.useRouter)(),{connect:n,user:d,executeScript:l,logout:i}=(0,s.Z_)(),[u,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!d.loggedIn)return;let e=async()=>{try{console.log("user ",d),f()}catch(e){console.error(e)}};e()},[d,l,e]);let g=()=>{console.log("we are checking in"),p(!0)},h=async()=>{(0,c.pl)((0,c.JU)(t,"members",d.addr),{address:d.addr,created:new Date}).then(e=>{console.log("we added a user")})},f=async()=>{let e=(0,c.JU)(t,"members",d.addr),n=await (0,c.QT)(e);if(n.exists()){let e=n.data();console.log("yooooo",e)}else h()};return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"hello world"}),!d.loggedIn&&(0,o.jsx)("div",{onClick:n,children:"Log-in"}),d.loggedIn&&(0,o.jsx)("div",{onClick:i,children:"Logout"}),d.loggedIn&&!u&&(0,o.jsx)("div",{onClick:g,children:"Checkin"}),d.loggedIn&&u&&(0,o.jsx)("div",{children:"Success!"}),d.loggedIn&&(0,o.jsxs)("div",{children:["Address: ",d.addr]})]})};var p=u}},function(e){e.O(0,[16,637,774,888,179],function(){return e(e.s=520)}),_N_E=e.O()}]);