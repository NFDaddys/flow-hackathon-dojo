(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{8126:function(e){let t;e.exports="function"==typeof queueMicrotask?queueMicrotask:e=>(t||(t=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))},8099:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7117);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function o(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function u(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function c(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function l(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function p(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),l(e/4294967296>>>0,t,r),l(e>>>0,t,r+4),t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),f(e>>>0,t,r),f(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=u,t.readUint32LE=c,t.writeUint32BE=l,t.writeInt32BE=l,t.writeUint32LE=f,t.writeInt32LE=f,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=s(e,t),n=s(e,t+4);return 4294967296*r+n-(n>>31)*4294967296},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=u(e,t);return 4294967296*u(e,t+4)+r-(r>>31)*4294967296},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r},t.writeUint64BE=p,t.writeInt64BE=p,t.writeUint64LE=h,t.writeInt64LE=h,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;o>=r;o--)n+=t[o]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintBE value must be an integer");for(var o=1,s=e/8+i-1;s>=i;s--)r[s]=t/o&255,o*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+e/8;s++)r[s]=t/o&255,o*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},5439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8099),i=r(7309);function o(e,t,r,o,s){if(void 0===s&&(s=0),32!==e.length)throw Error("ChaCha: key size must be 32 bytes");if(o.length<r.length)throw Error("ChaCha: destination is shorter than source");if(0===s){if(8!==t.length&&12!==t.length)throw Error("ChaCha nonce must be 8 or 12 bytes");u=(a=new Uint8Array(16)).length-t.length,a.set(t,u)}else{if(16!==t.length)throw Error("ChaCha nonce with counter must be 16 bytes");a=t,u=s}for(var a,u,c=new Uint8Array(64),l=0;l<r.length;l+=64){!function(e,t,r){for(var i=r[3]<<24|r[2]<<16|r[1]<<8|r[0],o=r[7]<<24|r[6]<<16|r[5]<<8|r[4],s=r[11]<<24|r[10]<<16|r[9]<<8|r[8],a=r[15]<<24|r[14]<<16|r[13]<<8|r[12],u=r[19]<<24|r[18]<<16|r[17]<<8|r[16],c=r[23]<<24|r[22]<<16|r[21]<<8|r[20],l=r[27]<<24|r[26]<<16|r[25]<<8|r[24],f=r[31]<<24|r[30]<<16|r[29]<<8|r[28],p=t[3]<<24|t[2]<<16|t[1]<<8|t[0],h=t[7]<<24|t[6]<<16|t[5]<<8|t[4],d=t[11]<<24|t[10]<<16|t[9]<<8|t[8],g=t[15]<<24|t[14]<<16|t[13]<<8|t[12],y=1634760805,v=857760878,m=2036477234,b=1797285236,w=i,_=o,E=s,x=a,S=u,I=c,R=l,k=f,D=p,A=h,C=d,O=g,T=0;T<20;T+=2)D^=y=y+w|0,w^=S=S+(D=D>>>16|D<<16)|0,w=w>>>20|w<<12,A^=v=v+_|0,_^=I=I+(A=A>>>16|A<<16)|0,_=_>>>20|_<<12,C^=m=m+E|0,E^=R=R+(C=C>>>16|C<<16)|0,E=E>>>20|E<<12,O^=b=b+x|0,x^=k=k+(O=O>>>16|O<<16)|0,x=x>>>20|x<<12,C^=m=m+E|0,E^=R=R+(C=C>>>24|C<<8)|0,E=E>>>25|E<<7,O^=b=b+x|0,x^=k=k+(O=O>>>24|O<<8)|0,x=x>>>25|x<<7,A^=v=v+_|0,_^=I=I+(A=A>>>24|A<<8)|0,_=_>>>25|_<<7,D^=y=y+w|0,w^=S=S+(D=D>>>24|D<<8)|0,w=w>>>25|w<<7,O^=y=y+_|0,_^=R=R+(O=O>>>16|O<<16)|0,_=_>>>20|_<<12,D^=v=v+E|0,E^=k=k+(D=D>>>16|D<<16)|0,E=E>>>20|E<<12,A^=m=m+x|0,x^=S=S+(A=A>>>16|A<<16)|0,x=x>>>20|x<<12,C^=b=b+w|0,w^=I=I+(C=C>>>16|C<<16)|0,w=w>>>20|w<<12,A^=m=m+x|0,x^=S=S+(A=A>>>24|A<<8)|0,x=x>>>25|x<<7,C^=b=b+w|0,w^=I=I+(C=C>>>24|C<<8)|0,w=w>>>25|w<<7,D^=v=v+E|0,E^=k=k+(D=D>>>24|D<<8)|0,E=E>>>25|E<<7,O^=y=y+_|0,_^=R=R+(O=O>>>24|O<<8)|0,_=_>>>25|_<<7;n.writeUint32LE(y+1634760805|0,e,0),n.writeUint32LE(v+857760878|0,e,4),n.writeUint32LE(m+2036477234|0,e,8),n.writeUint32LE(b+1797285236|0,e,12),n.writeUint32LE(w+i|0,e,16),n.writeUint32LE(_+o|0,e,20),n.writeUint32LE(E+s|0,e,24),n.writeUint32LE(x+a|0,e,28),n.writeUint32LE(S+u|0,e,32),n.writeUint32LE(I+c|0,e,36),n.writeUint32LE(R+l|0,e,40),n.writeUint32LE(k+f|0,e,44),n.writeUint32LE(D+p|0,e,48),n.writeUint32LE(A+h|0,e,52),n.writeUint32LE(C+d|0,e,56),n.writeUint32LE(O+g|0,e,60)}(c,a,e);for(var f=l;f<l+64&&f<r.length;f++)o[f]=r[f]^c[f-l];!function(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw Error("ChaCha: counter overflow")}(a,0,u)}return i.wipe(c),0===s&&i.wipe(a),o}t.streamXOR=o,t.stream=function(e,t,r,n){return void 0===n&&(n=0),i.wipe(r),o(e,t,r,r,n)}},5501:function(e,t,r){"use strict";var n=r(5439),i=r(3027),o=r(7309),s=r(8099),a=r(4153);t.Cv=32,t.WH=12,t.pg=16;var u=new Uint8Array(16),c=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,i){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var s,a=new Uint8Array(16);a.set(e,a.length-e.length);var u=new Uint8Array(32);n.stream(this._key,a,u,4);var c=t.length+this.tagLength;if(i){if(i.length!==c)throw Error("ChaCha20Poly1305: incorrect destination length");s=i}else s=new Uint8Array(c);return n.streamXOR(this._key,a,t,s,4),this._authenticate(s.subarray(s.length-this.tagLength,s.length),u,s.subarray(0,s.length-this.tagLength),r),o.wipe(a),s},e.prototype.open=function(e,t,r,i){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s,u=new Uint8Array(16);u.set(e,u.length-e.length);var c=new Uint8Array(32);n.stream(this._key,u,c,4);var l=new Uint8Array(this.tagLength);if(this._authenticate(l,c,t.subarray(0,t.length-this.tagLength),r),!a.equal(l,t.subarray(t.length-this.tagLength,t.length)))return null;var f=t.length-this.tagLength;if(i){if(i.length!==f)throw Error("ChaCha20Poly1305: incorrect destination length");s=i}else s=new Uint8Array(f);return n.streamXOR(this._key,u,t.subarray(0,t.length-this.tagLength),s,4),o.wipe(u),s},e.prototype.clean=function(){return o.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,n){var a=new i.Poly1305(t);n&&(a.update(n),n.length%16>0&&a.update(u.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(u.subarray(r.length%16));var c=new Uint8Array(8);n&&s.writeUint64LE(n.length,c),a.update(c),s.writeUint64LE(r.length,c),a.update(c);for(var l=a.digest(),f=0;f<l.length;f++)e[f]=l[f];a.clean(),o.wipe(l),o.wipe(c)},e}();t.OK=c},4153:function(e,t){"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},1050:function(e,t,r){"use strict";t.Xx=t._w=t.aP=t.KS=t.jQ=void 0,r(1416);let n=r(3350);function i(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}r(7309),t.jQ=64,t.KS=64,t.aP=32;let o=new Uint8Array(32);o[0]=9;let s=i(),a=i([1]),u=(i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222])),c=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]);function f(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function p(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function h(e,t,r){let n=~(r-1);for(let r=0;r<16;r++){let i=n&(e[r]^t[r]);e[r]^=i,t[r]^=i}}function d(e,t){let r=i(),n=i();for(let e=0;e<16;e++)n[e]=t[e];p(n),p(n),p(n);for(let e=0;e<2;e++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let e=r[15]>>16&1;r[14]&=65535,h(n,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&n[t],e[2*t+1]=n[t]>>8}i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function y(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function v(e,t,r){let n,i,o=0,s=0,a=0,u=0,c=0,l=0,f=0,p=0,h=0,d=0,g=0,y=0,v=0,m=0,b=0,w=0,_=0,E=0,x=0,S=0,I=0,R=0,k=0,D=0,A=0,C=0,O=0,T=0,N=0,P=0,L=0,U=r[0],M=r[1],B=r[2],j=r[3],F=r[4],z=r[5],q=r[6],G=r[7],W=r[8],H=r[9],V=r[10],K=r[11],J=r[12],$=r[13],Y=r[14],X=r[15];o+=(n=t[0])*U,s+=n*M,a+=n*B,u+=n*j,c+=n*F,l+=n*z,f+=n*q,p+=n*G,h+=n*W,d+=n*H,g+=n*V,y+=n*K,v+=n*J,m+=n*$,b+=n*Y,w+=n*X,s+=(n=t[1])*U,a+=n*M,u+=n*B,c+=n*j,l+=n*F,f+=n*z,p+=n*q,h+=n*G,d+=n*W,g+=n*H,y+=n*V,v+=n*K,m+=n*J,b+=n*$,w+=n*Y,_+=n*X,a+=(n=t[2])*U,u+=n*M,c+=n*B,l+=n*j,f+=n*F,p+=n*z,h+=n*q,d+=n*G,g+=n*W,y+=n*H,v+=n*V,m+=n*K,b+=n*J,w+=n*$,_+=n*Y,E+=n*X,u+=(n=t[3])*U,c+=n*M,l+=n*B,f+=n*j,p+=n*F,h+=n*z,d+=n*q,g+=n*G,y+=n*W,v+=n*H,m+=n*V,b+=n*K,w+=n*J,_+=n*$,E+=n*Y,x+=n*X,c+=(n=t[4])*U,l+=n*M,f+=n*B,p+=n*j,h+=n*F,d+=n*z,g+=n*q,y+=n*G,v+=n*W,m+=n*H,b+=n*V,w+=n*K,_+=n*J,E+=n*$,x+=n*Y,S+=n*X,l+=(n=t[5])*U,f+=n*M,p+=n*B,h+=n*j,d+=n*F,g+=n*z,y+=n*q,v+=n*G,m+=n*W,b+=n*H,w+=n*V,_+=n*K,E+=n*J,x+=n*$,S+=n*Y,I+=n*X,f+=(n=t[6])*U,p+=n*M,h+=n*B,d+=n*j,g+=n*F,y+=n*z,v+=n*q,m+=n*G,b+=n*W,w+=n*H,_+=n*V,E+=n*K,x+=n*J,S+=n*$,I+=n*Y,R+=n*X,p+=(n=t[7])*U,h+=n*M,d+=n*B,g+=n*j,y+=n*F,v+=n*z,m+=n*q,b+=n*G,w+=n*W,_+=n*H,E+=n*V,x+=n*K,S+=n*J,I+=n*$,R+=n*Y,k+=n*X,h+=(n=t[8])*U,d+=n*M,g+=n*B,y+=n*j,v+=n*F,m+=n*z,b+=n*q,w+=n*G,_+=n*W,E+=n*H,x+=n*V,S+=n*K,I+=n*J,R+=n*$,k+=n*Y,D+=n*X,d+=(n=t[9])*U,g+=n*M,y+=n*B,v+=n*j,m+=n*F,b+=n*z,w+=n*q,_+=n*G,E+=n*W,x+=n*H,S+=n*V,I+=n*K,R+=n*J,k+=n*$,D+=n*Y,A+=n*X,g+=(n=t[10])*U,y+=n*M,v+=n*B,m+=n*j,b+=n*F,w+=n*z,_+=n*q,E+=n*G,x+=n*W,S+=n*H,I+=n*V,R+=n*K,k+=n*J,D+=n*$,A+=n*Y,C+=n*X,y+=(n=t[11])*U,v+=n*M,m+=n*B,b+=n*j,w+=n*F,_+=n*z,E+=n*q,x+=n*G,S+=n*W,I+=n*H,R+=n*V,k+=n*K,D+=n*J,A+=n*$,C+=n*Y,O+=n*X,v+=(n=t[12])*U,m+=n*M,b+=n*B,w+=n*j,_+=n*F,E+=n*z,x+=n*q,S+=n*G,I+=n*W,R+=n*H,k+=n*V,D+=n*K,A+=n*J,C+=n*$,O+=n*Y,T+=n*X,m+=(n=t[13])*U,b+=n*M,w+=n*B,_+=n*j,E+=n*F,x+=n*z,S+=n*q,I+=n*G,R+=n*W,k+=n*H,D+=n*V,A+=n*K,C+=n*J,O+=n*$,T+=n*Y,N+=n*X,b+=(n=t[14])*U,w+=n*M,_+=n*B,E+=n*j,x+=n*F,S+=n*z,I+=n*q,R+=n*G,k+=n*W,D+=n*H,A+=n*V,C+=n*K,O+=n*J,T+=n*$,N+=n*Y,P+=n*X,w+=(n=t[15])*U,_+=n*M,E+=n*B,x+=n*j,S+=n*F,I+=n*z,R+=n*q,k+=n*G,D+=n*W,A+=n*H,C+=n*V,O+=n*K,T+=n*J,N+=n*$,P+=n*Y,L+=n*X,o+=38*_,s+=38*E,a+=38*x,u+=38*S,c+=38*I,l+=38*R,f+=38*k,p+=38*D,h+=38*A,d+=38*C,g+=38*O,y+=38*T,v+=38*N,m+=38*P,b+=38*L,i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,o+=i-1+37*(i-1),i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=u,e[4]=c,e[5]=l,e[6]=f,e[7]=p,e[8]=h,e[9]=d,e[10]=g,e[11]=y,e[12]=v,e[13]=m,e[14]=b,e[15]=w}function m(e,t){let r=i(),n=i(),o=i(),s=i(),a=i(),c=i(),l=i(),f=i(),p=i();y(r,e[1],e[0]),y(p,t[1],t[0]),v(r,r,p),g(n,e[0],e[1]),g(p,t[0],t[1]),v(n,n,p),v(o,e[3],t[3]),v(o,o,u),v(s,e[2],t[2]),g(s,s,s),y(a,n,r),y(c,s,o),g(l,s,o),g(f,n,r),v(e[0],a,c),v(e[1],f,l),v(e[2],l,c),v(e[3],a,f)}function b(e,t,r){for(let n=0;n<4;n++)h(e[n],t[n],r)}function w(e,t){let r=i(),n=i(),o=i();(function(e,t){let r;let n=i();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)v(n,n,n),2!==r&&4!==r&&v(n,n,t);for(r=0;r<16;r++)e[r]=n[r]})(o,t[2]),v(r,t[0],o),v(n,t[1],o),d(e,n),e[31]^=function(e){let t=new Uint8Array(32);return d(t,e),1&t[0]}(r)<<7}function _(e,t){let r=[i(),i(),i(),i()];f(r[0],c),f(r[1],l),f(r[2],a),v(r[3],c,l),function(e,t,r){f(e[0],s),f(e[1],a),f(e[2],a),f(e[3],s);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(7&n)&1;b(e,t,i),m(t,e),m(e,e),b(e,t,i)}}(e,r,t)}t._w=function(e){if(e.length!==t.aP)throw Error(`ed25519: seed must be ${t.aP} bytes`);let r=(0,n.hash)(e);r[0]&=248,r[31]&=127,r[31]|=64;let o=new Uint8Array(32),s=[i(),i(),i(),i()];_(s,r),w(o,s);let a=new Uint8Array(64);return a.set(e),a.set(o,32),{publicKey:o,secretKey:a}};let E=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function x(e,t){let r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*E[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(i=0,r=0;i<32;i++)t[i]+=r-(t[31]>>4)*E[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*E[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function S(e){let t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let t=0;t<64;t++)e[t]=0;x(e,t)}t.Xx=function(e,t){let r=new Float64Array(64),o=[i(),i(),i(),i()],s=(0,n.hash)(e.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;let a=new Uint8Array(64);a.set(s.subarray(32),32);let u=new n.SHA512;u.update(a.subarray(32)),u.update(t);let c=u.digest();u.clean(),S(c),_(o,c),w(a,o),u.reset(),u.update(a.subarray(0,32)),u.update(e.subarray(32)),u.update(t);let l=u.digest();S(l);for(let e=0;e<32;e++)r[e]=c[e];for(let e=0;e<32;e++)for(let t=0;t<32;t++)r[e+t]+=l[e]*s[t];return x(a.subarray(32),r),a}},9984:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},512:function(e,t,r){"use strict";var n=r(5629),i=r(7309),o=function(){function e(e,t,r,i){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var o=n.hmac(this._hash,r,t);this._hmac=new n.HMAC(e,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},e}();t.t=o},5629:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9984),i=r(4153),o=r(7309),s=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(var i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),n.isSerializableHash(this._inner)&&n.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),o.wipe(r)}return e.prototype.reset=function(){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){n.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),n.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!n.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!n.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=s,t.hmac=function(e,t,r){var n=new s(e,t);n.update(r);var i=n.digest();return n.clean(),i},t.equal=i.equal},7117:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},3027:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4153),i=r(7309);t.DIGEST_LENGTH=16;var o=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var o=e[6]|e[7]<<8;this._r[3]=(i>>>7|o<<9)&8191;var s=e[8]|e[9]<<8;this._r[4]=(o>>>4|s<<12)&255,this._r[5]=s>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(s>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var c=e[14]|e[15]<<8;this._r[8]=(u>>>8|c<<8)&8191,this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],o=this._h[1],s=this._h[2],a=this._h[3],u=this._h[4],c=this._h[5],l=this._h[6],f=this._h[7],p=this._h[8],h=this._h[9],d=this._r[0],g=this._r[1],y=this._r[2],v=this._r[3],m=this._r[4],b=this._r[5],w=this._r[6],_=this._r[7],E=this._r[8],x=this._r[9];r>=16;){var S,I=e[t+0]|e[t+1]<<8;i+=8191&I;var R=e[t+2]|e[t+3]<<8;o+=(I>>>13|R<<3)&8191;var k=e[t+4]|e[t+5]<<8;s+=(R>>>10|k<<6)&8191;var D=e[t+6]|e[t+7]<<8;a+=(k>>>7|D<<9)&8191;var A=e[t+8]|e[t+9]<<8;u+=(D>>>4|A<<12)&8191,c+=A>>>1&8191;var C=e[t+10]|e[t+11]<<8;l+=(A>>>14|C<<2)&8191;var O=e[t+12]|e[t+13]<<8;f+=(C>>>11|O<<5)&8191;var T=e[t+14]|e[t+15]<<8;p+=(O>>>8|T<<8)&8191,h+=T>>>5|n;var N=0;N=(S=0+i*d+o*(5*x)+s*(5*E)+a*(5*_)+u*(5*w))>>>13,S&=8191,S+=c*(5*b)+l*(5*m)+f*(5*v)+p*(5*y)+h*(5*g),N+=S>>>13,S&=8191;var P=N;P+=i*g+o*d+s*(5*x)+a*(5*E)+u*(5*_),N=P>>>13,P&=8191,P+=c*(5*w)+l*(5*b)+f*(5*m)+p*(5*v)+h*(5*y),N+=P>>>13,P&=8191;var L=N;L+=i*y+o*g+s*d+a*(5*x)+u*(5*E),N=L>>>13,L&=8191,L+=c*(5*_)+l*(5*w)+f*(5*b)+p*(5*m)+h*(5*v),N+=L>>>13,L&=8191;var U=N;U+=i*v+o*y+s*g+a*d+u*(5*x),N=U>>>13,U&=8191,U+=c*(5*E)+l*(5*_)+f*(5*w)+p*(5*b)+h*(5*m),N+=U>>>13,U&=8191;var M=N;M+=i*m+o*v+s*y+a*g+u*d,N=M>>>13,M&=8191,M+=c*(5*x)+l*(5*E)+f*(5*_)+p*(5*w)+h*(5*b),N+=M>>>13,M&=8191;var B=N;B+=i*b+o*m+s*v+a*y+u*g,N=B>>>13,B&=8191,B+=c*d+l*(5*x)+f*(5*E)+p*(5*_)+h*(5*w),N+=B>>>13,B&=8191;var j=N;j+=i*w+o*b+s*m+a*v+u*y,N=j>>>13,j&=8191,j+=c*g+l*d+f*(5*x)+p*(5*E)+h*(5*_),N+=j>>>13,j&=8191;var F=N;F+=i*_+o*w+s*b+a*m+u*v,N=F>>>13,F&=8191,F+=c*y+l*g+f*d+p*(5*x)+h*(5*E),N+=F>>>13,F&=8191;var z=N;z+=i*E+o*_+s*w+a*b+u*m,N=z>>>13,z&=8191,z+=c*v+l*y+f*g+p*d+h*(5*x),N+=z>>>13,z&=8191;var q=N;q+=i*x+o*E+s*_+a*w+u*b,N=q>>>13,q&=8191,q+=c*m+l*v+f*y+p*g+h*d,N+=q>>>13,q&=8191,S=8191&(N=(N=(N<<2)+N|0)+S|0),N>>>=13,P+=N,i=S,o=P,s=L,a=U,u=M,c=B,l=j,f=F,p=z,h=q,t+=16,r-=16}this._h[0]=i,this._h[1]=o,this._h[2]=s,this._h[3]=a,this._h[4]=u,this._h[5]=c,this._h[6]=l,this._h[7]=f,this._h[8]=p,this._h[9]=h},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,o,s=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=r,r=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,s[0]=this._h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this._h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(o=0,n=~n;o<10;o++)this._h[o]=this._h[o]&n|s[o];for(o=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,i=this._h[0]+this._pad[0],this._h[0]=65535&i;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(var i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=o,t.oneTimeAuth=function(e,t){var r=new o(e);r.update(t);var n=r.digest();return r.clean(),n},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&n.equal(e,r)}},1416:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;let n=r(6008),i=r(8099),o=r(7309);function s(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e=t.defaultRandomSource){let r=s(4,e),n=(0,i.readUint32LE)(r);return(0,o.wipe)(r),n};let a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(e,r=a,n=t.defaultRandomSource){if(r.length<2)throw Error("randomString charset is too short");if(r.length>256)throw Error("randomString charset is too long");let i="",u=r.length,c=256-256%u;for(;e>0;){let t=s(Math.ceil(256*e/c),n);for(let n=0;n<t.length&&e>0;n++){let o=t[n];o<c&&(i+=r.charAt(o%u),e--)}(0,o.wipe)(t)}return i}t.randomString=u,t.randomStringForEntropy=function(e,r=a,n=t.defaultRandomSource){let i=Math.ceil(e/(Math.log(r.length)/Math.LN2));return u(i,r,n)}},5455:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0,t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}},8871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;let n=r(7309);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let e=r(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let e=0;e<r.length;e++)r[e]=t[e];return(0,n.wipe)(t),r}}},6008:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;let n=r(5455),i=r(8871);t.SystemRandomSource=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new i.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},3294:function(e,t,r){"use strict";var n=r(8099),i=r(7309);t.k=32,t.cn=64;var o=function(){function e(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%64<56?64:128;this._buffer[r]=128;for(var o=r+1;o<i-8;o++)this._buffer[o]=0;n.writeUint32BE(t/536870912|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),a(this._temp,this._state,this._buffer,0,i),this._finished=!0}for(var o=0;o<this.digestLength/4;o++)n.writeUint32BE(this._state[o],e,4*o);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.mE=o;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,r,i,o){for(;o>=64;){for(var a=t[0],u=t[1],c=t[2],l=t[3],f=t[4],p=t[5],h=t[6],d=t[7],g=0;g<16;g++){var y=i+4*g;e[g]=n.readUint32BE(r,y)}for(var g=16;g<64;g++){var v=e[g-2],m=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,b=((v=e[g-15])>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;e[g]=(m+e[g-7]|0)+(b+e[g-16]|0)}for(var g=0;g<64;g++){var m=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&h)|0)+(d+(s[g]+e[g]|0)|0)|0,b=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&u^a&c^u&c)|0;d=h,h=p,p=f,f=l+m|0,l=c,c=u,u=a,a=m+b|0}t[0]+=a,t[1]+=u,t[2]+=c,t[3]+=l,t[4]+=f,t[5]+=p,t[6]+=h,t[7]+=d,i+=64,o-=64}return i}t.vp=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},3350:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8099),i=r(7309);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%128<112?128:256;this._buffer[r]=128;for(var o=r+1;o<i-8;o++)this._buffer[o]=0;n.writeUint32BE(t/536870912|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,i),this._finished=!0}for(var o=0;o<this.digestLength/8;o++)n.writeUint32BE(this._stateHi[o],e,8*o),n.writeUint32BE(this._stateLo[o],e,8*o+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=o;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,r,i,o,a,u){for(var c,l,f,p,h,d,g,y,v=r[0],m=r[1],b=r[2],w=r[3],_=r[4],E=r[5],x=r[6],S=r[7],I=i[0],R=i[1],k=i[2],D=i[3],A=i[4],C=i[5],O=i[6],T=i[7];u>=128;){for(var N=0;N<16;N++){var P=8*N+a;e[N]=n.readUint32BE(o,P),t[N]=n.readUint32BE(o,P+4)}for(var N=0;N<80;N++){var L=v,U=m,M=b,B=w,j=_,F=E,z=x,q=S,G=I,W=R,H=k,V=D,K=A,J=C,$=O,Y=T;if(c=S,h=65535&(l=T),d=l>>>16,g=65535&c,y=c>>>16,c=(_>>>14|A<<18)^(_>>>18|A<<14)^(A>>>9|_<<23),h+=65535&(l=(A>>>14|_<<18)^(A>>>18|_<<14)^(_>>>9|A<<23)),d+=l>>>16,g+=65535&c,y+=c>>>16,c=_&E^~_&x,h+=65535&(l=A&C^~A&O),d+=l>>>16,g+=65535&c,y+=c>>>16,c=s[2*N],h+=65535&(l=s[2*N+1]),d+=l>>>16,g+=65535&c,y+=c>>>16,c=e[N%16],h+=65535&(l=t[N%16]),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,f=65535&g|y<<16,p=65535&h|d<<16,c=f,h=65535&(l=p),d=l>>>16,g=65535&c,y=c>>>16,c=(v>>>28|I<<4)^(I>>>2|v<<30)^(I>>>7|v<<25),h+=65535&(l=(I>>>28|v<<4)^(v>>>2|I<<30)^(v>>>7|I<<25)),d+=l>>>16,g+=65535&c,y+=c>>>16,c=v&m^v&b^m&b,h+=65535&(l=I&R^I&k^R&k),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,q=65535&g|y<<16,Y=65535&h|d<<16,c=B,h=65535&(l=V),d=l>>>16,g=65535&c,y=c>>>16,c=f,h+=65535&(l=p),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,B=65535&g|y<<16,V=65535&h|d<<16,m=L,b=U,w=M,_=B,E=j,x=F,S=z,v=q,R=G,k=W,D=H,A=V,C=K,O=J,T=$,I=Y,N%16==15)for(var P=0;P<16;P++)c=e[P],h=65535&(l=t[P]),d=l>>>16,g=65535&c,y=c>>>16,c=e[(P+9)%16],h+=65535&(l=t[(P+9)%16]),d+=l>>>16,g+=65535&c,y+=c>>>16,c=((f=e[(P+1)%16])>>>1|(p=t[(P+1)%16])<<31)^(f>>>8|p<<24)^f>>>7,h+=65535&(l=(p>>>1|f<<31)^(p>>>8|f<<24)^(p>>>7|f<<25)),d+=l>>>16,g+=65535&c,y+=c>>>16,c=((f=e[(P+14)%16])>>>19|(p=t[(P+14)%16])<<13)^(p>>>29|f<<3)^f>>>6,h+=65535&(l=(p>>>19|f<<13)^(f>>>29|p<<3)^(p>>>6|f<<26)),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,e[P]=65535&g|y<<16,t[P]=65535&h|d<<16}c=v,h=65535&(l=I),d=l>>>16,g=65535&c,y=c>>>16,c=r[0],h+=65535&(l=i[0]),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,r[0]=v=65535&g|y<<16,i[0]=I=65535&h|d<<16,c=m,h=65535&(l=R),d=l>>>16,g=65535&c,y=c>>>16,c=r[1],h+=65535&(l=i[1]),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,r[1]=m=65535&g|y<<16,i[1]=R=65535&h|d<<16,c=b,h=65535&(l=k),d=l>>>16,g=65535&c,y=c>>>16,c=r[2],h+=65535&(l=i[2]),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,r[2]=b=65535&g|y<<16,i[2]=k=65535&h|d<<16,c=w,h=65535&(l=D),d=l>>>16,g=65535&c,y=c>>>16,c=r[3],h+=65535&(l=i[3]),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,r[3]=w=65535&g|y<<16,i[3]=D=65535&h|d<<16,c=_,h=65535&(l=A),d=l>>>16,g=65535&c,y=c>>>16,c=r[4],h+=65535&(l=i[4]),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,r[4]=_=65535&g|y<<16,i[4]=A=65535&h|d<<16,c=E,h=65535&(l=C),d=l>>>16,g=65535&c,y=c>>>16,c=r[5],h+=65535&(l=i[5]),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,r[5]=E=65535&g|y<<16,i[5]=C=65535&h|d<<16,c=x,h=65535&(l=O),d=l>>>16,g=65535&c,y=c>>>16,c=r[6],h+=65535&(l=i[6]),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,r[6]=x=65535&g|y<<16,i[6]=O=65535&h|d<<16,c=S,h=65535&(l=T),d=l>>>16,g=65535&c,y=c>>>16,c=r[7],h+=65535&(l=i[7]),d+=l>>>16,g+=65535&c,y+=c>>>16,d+=h>>>16,g+=d>>>16,y+=g>>>16,r[7]=S=65535&g|y<<16,i[7]=T=65535&h|d<<16,a+=128,u-=128}return a}t.hash=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},7309:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},7664:function(e,t,r){"use strict";t.gi=t.Au=t.KS=t.kz=void 0;let n=r(1416),i=r(7309);function o(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.kz=32,t.KS=32;let s=new Uint8Array(32);s[0]=9;let a=o([56129,1]);function u(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function c(e,t,r){let n=~(r-1);for(let r=0;r<16;r++){let i=n&(e[r]^t[r]);e[r]^=i,t[r]^=i}}function l(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function f(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function p(e,t,r){let n,i,o=0,s=0,a=0,u=0,c=0,l=0,f=0,p=0,h=0,d=0,g=0,y=0,v=0,m=0,b=0,w=0,_=0,E=0,x=0,S=0,I=0,R=0,k=0,D=0,A=0,C=0,O=0,T=0,N=0,P=0,L=0,U=r[0],M=r[1],B=r[2],j=r[3],F=r[4],z=r[5],q=r[6],G=r[7],W=r[8],H=r[9],V=r[10],K=r[11],J=r[12],$=r[13],Y=r[14],X=r[15];o+=(n=t[0])*U,s+=n*M,a+=n*B,u+=n*j,c+=n*F,l+=n*z,f+=n*q,p+=n*G,h+=n*W,d+=n*H,g+=n*V,y+=n*K,v+=n*J,m+=n*$,b+=n*Y,w+=n*X,s+=(n=t[1])*U,a+=n*M,u+=n*B,c+=n*j,l+=n*F,f+=n*z,p+=n*q,h+=n*G,d+=n*W,g+=n*H,y+=n*V,v+=n*K,m+=n*J,b+=n*$,w+=n*Y,_+=n*X,a+=(n=t[2])*U,u+=n*M,c+=n*B,l+=n*j,f+=n*F,p+=n*z,h+=n*q,d+=n*G,g+=n*W,y+=n*H,v+=n*V,m+=n*K,b+=n*J,w+=n*$,_+=n*Y,E+=n*X,u+=(n=t[3])*U,c+=n*M,l+=n*B,f+=n*j,p+=n*F,h+=n*z,d+=n*q,g+=n*G,y+=n*W,v+=n*H,m+=n*V,b+=n*K,w+=n*J,_+=n*$,E+=n*Y,x+=n*X,c+=(n=t[4])*U,l+=n*M,f+=n*B,p+=n*j,h+=n*F,d+=n*z,g+=n*q,y+=n*G,v+=n*W,m+=n*H,b+=n*V,w+=n*K,_+=n*J,E+=n*$,x+=n*Y,S+=n*X,l+=(n=t[5])*U,f+=n*M,p+=n*B,h+=n*j,d+=n*F,g+=n*z,y+=n*q,v+=n*G,m+=n*W,b+=n*H,w+=n*V,_+=n*K,E+=n*J,x+=n*$,S+=n*Y,I+=n*X,f+=(n=t[6])*U,p+=n*M,h+=n*B,d+=n*j,g+=n*F,y+=n*z,v+=n*q,m+=n*G,b+=n*W,w+=n*H,_+=n*V,E+=n*K,x+=n*J,S+=n*$,I+=n*Y,R+=n*X,p+=(n=t[7])*U,h+=n*M,d+=n*B,g+=n*j,y+=n*F,v+=n*z,m+=n*q,b+=n*G,w+=n*W,_+=n*H,E+=n*V,x+=n*K,S+=n*J,I+=n*$,R+=n*Y,k+=n*X,h+=(n=t[8])*U,d+=n*M,g+=n*B,y+=n*j,v+=n*F,m+=n*z,b+=n*q,w+=n*G,_+=n*W,E+=n*H,x+=n*V,S+=n*K,I+=n*J,R+=n*$,k+=n*Y,D+=n*X,d+=(n=t[9])*U,g+=n*M,y+=n*B,v+=n*j,m+=n*F,b+=n*z,w+=n*q,_+=n*G,E+=n*W,x+=n*H,S+=n*V,I+=n*K,R+=n*J,k+=n*$,D+=n*Y,A+=n*X,g+=(n=t[10])*U,y+=n*M,v+=n*B,m+=n*j,b+=n*F,w+=n*z,_+=n*q,E+=n*G,x+=n*W,S+=n*H,I+=n*V,R+=n*K,k+=n*J,D+=n*$,A+=n*Y,C+=n*X,y+=(n=t[11])*U,v+=n*M,m+=n*B,b+=n*j,w+=n*F,_+=n*z,E+=n*q,x+=n*G,S+=n*W,I+=n*H,R+=n*V,k+=n*K,D+=n*J,A+=n*$,C+=n*Y,O+=n*X,v+=(n=t[12])*U,m+=n*M,b+=n*B,w+=n*j,_+=n*F,E+=n*z,x+=n*q,S+=n*G,I+=n*W,R+=n*H,k+=n*V,D+=n*K,A+=n*J,C+=n*$,O+=n*Y,T+=n*X,m+=(n=t[13])*U,b+=n*M,w+=n*B,_+=n*j,E+=n*F,x+=n*z,S+=n*q,I+=n*G,R+=n*W,k+=n*H,D+=n*V,A+=n*K,C+=n*J,O+=n*$,T+=n*Y,N+=n*X,b+=(n=t[14])*U,w+=n*M,_+=n*B,E+=n*j,x+=n*F,S+=n*z,I+=n*q,R+=n*G,k+=n*W,D+=n*H,A+=n*V,C+=n*K,O+=n*J,T+=n*$,N+=n*Y,P+=n*X,w+=(n=t[15])*U,_+=n*M,E+=n*B,x+=n*j,S+=n*F,I+=n*z,R+=n*q,k+=n*G,D+=n*W,A+=n*H,C+=n*V,O+=n*K,T+=n*J,N+=n*$,P+=n*Y,L+=n*X,o+=38*_,s+=38*E,a+=38*x,u+=38*S,c+=38*I,l+=38*R,f+=38*k,p+=38*D,h+=38*A,d+=38*C,g+=38*O,y+=38*T,v+=38*N,m+=38*P,b+=38*L,i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,o+=i-1+37*(i-1),i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=u,e[4]=c,e[5]=l,e[6]=f,e[7]=p,e[8]=h,e[9]=d,e[10]=g,e[11]=y,e[12]=v,e[13]=m,e[14]=b,e[15]=w}function h(e,t){let r=new Uint8Array(32),n=new Float64Array(80),i=o(),s=o(),h=o(),d=o(),g=o(),y=o();for(let t=0;t<31;t++)r[t]=e[t];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t);for(let e=0;e<16;e++)s[e]=n[e];i[0]=d[0]=1;for(let e=254;e>=0;--e){let t=r[e>>>3]>>>(7&e)&1;c(i,s,t),c(h,d,t),l(g,i,h),f(i,i,h),l(h,s,d),f(s,s,d),p(d,g,g),p(y,i,i),p(i,h,i),p(h,s,g),l(g,i,h),f(i,i,h),p(s,i,i),f(h,d,y),p(i,h,a),l(i,i,d),p(h,h,i),p(i,d,y),p(d,s,n),p(s,g,g),c(i,s,t),c(h,d,t)}for(let e=0;e<16;e++)n[e+16]=i[e],n[e+32]=h[e],n[e+48]=s[e],n[e+64]=d[e];let v=n.subarray(32),m=n.subarray(16);!function(e,t){let r=o();for(let e=0;e<16;e++)r[e]=t[e];for(let e=253;e>=0;e--)p(r,r,r),2!==e&&4!==e&&p(r,r,t);for(let t=0;t<16;t++)e[t]=r[t]}(v,v),p(m,m,v);let b=new Uint8Array(32);return!function(e,t){let r=o(),n=o();for(let e=0;e<16;e++)n[e]=t[e];u(n),u(n),u(n);for(let e=0;e<2;e++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let e=r[15]>>16&1;r[14]&=65535,c(n,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&n[t],e[2*t+1]=n[t]>>8}(b,m),b}t.Au=function(e){let r=(0,n.randomBytes)(32,e),o=function(e){if(e.length!==t.KS)throw Error(`x25519: seed must be ${t.KS} bytes`);let r=new Uint8Array(e),n=h(r,s);return{publicKey:n,secretKey:r}}(r);return(0,i.wipe)(r),o},t.gi=function(e,r,n=!1){if(e.length!==t.kz)throw Error("X25519: incorrect secret key length");if(r.length!==t.kz)throw Error("X25519: incorrect public key length");let i=h(e,r);if(n){let e=0;for(let t=0;t<i.length;t++)e|=i[t];if(0===e)throw Error("X25519: invalid shared key")}return i}},1445:function(e,t,r){"use strict";r.r(t),r.d(t,{detectEnv:function(){return y},detectOS:function(){return v},formatIOSMobile:function(){return q},formatMobileRegistry:function(){return Y},formatMobileRegistryEntry:function(){return $},getClientMeta:function(){return L},getCrypto:function(){return T},getCryptoOrThrow:function(){return O},getDappRegistryUrl:function(){return J},getDocument:function(){return R},getDocumentOrThrow:function(){return I},getFromWindow:function(){return x},getFromWindowOrThrow:function(){return S},getLocal:function(){return j},getLocalStorage:function(){return P},getLocalStorageOrThrow:function(){return N},getLocation:function(){return C},getLocationOrThrow:function(){return A},getMobileLinkRegistry:function(){return H},getMobileRegistryEntry:function(){return W},getNavigator:function(){return D},getNavigatorOrThrow:function(){return k},getWalletRegistryUrl:function(){return K},isAndroid:function(){return m},isBrowser:function(){return E},isIOS:function(){return b},isMobile:function(){return w},isNode:function(){return _},mobileLinkChoiceKey:function(){return z},removeLocal:function(){return F},safeJsonParse:function(){return U},safeJsonStringify:function(){return M},saveMobileLinkInfo:function(){return G},setLocal:function(){return B}});var n=r(5755),i=r(2873),o=r(3454),s=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},a=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},u=function(e){this.version=e,this.type="node",this.name="node",this.os=o.platform},c=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},l=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},f=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},p=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function g(e){var t=""!==e&&h.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new l;var i=n[1]&&n[1].split(/[._]/).slice(0,3);i?i.length<3&&(i=s(i,function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-i.length))):i=[];var o=i.join("."),u=function(e){for(var t=0,r=d.length;t<r;t++){var n=d[t],i=n[0];if(n[1].exec(e))return i}return null}(e),f=p.exec(e);return f&&f[1]?new c(r,o,u,f[1]):new a(r,o,u)}function y(e){return e?g(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new f:"undefined"!=typeof navigator?g(navigator.userAgent):void 0!==o&&o.version?new u(o.version.slice(1)):null}function v(){let e=y();return e&&e.os?e.os:void 0}function m(){let e=v();return!!e&&e.toLowerCase().includes("android")}function b(){let e=v();return!!e&&(e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}function w(){let e=v();return!!e&&(m()||b())}function _(){let e=y(),t=!!e&&!!e.name&&"node"===e.name.toLowerCase();return t}function E(){let e=!_()&&!!D();return e}let x=i.getFromWindow,S=i.getFromWindowOrThrow,I=i.getDocumentOrThrow,R=i.getDocument,k=i.getNavigatorOrThrow,D=i.getNavigator,A=i.getLocationOrThrow,C=i.getLocation,O=i.getCryptoOrThrow,T=i.getCrypto,N=i.getLocalStorageOrThrow,P=i.getLocalStorage;function L(){return n.D()}let U=function(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch(t){return e}},M=function(e){return"string"==typeof e?e:JSON.stringify(e)};function B(e,t){let r=M(t),n=P();n&&n.setItem(e,r)}function j(e){let t=null,r=P();return r&&(t=r.getItem(e)),t?U(t):t}function F(e){let t=P();t&&t.removeItem(e)}let z="WALLETCONNECT_DEEPLINK_CHOICE";function q(e,t){let r=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${r}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function G(e){let t=e.href.split("?")[0];B(z,Object.assign(Object.assign({},e),{href:t}))}function W(e,t){return e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))[0]}function H(e,t){let r=e;return t&&(r=t.map(t=>W(e,t)).filter(Boolean)),r}let V="https://registry.walletconnect.com";function K(){return V+"/api/v2/wallets"}function J(){return V+"/api/v2/dapps"}function $(e,t="mobile"){var r;return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:null!==(r=e.image_url.sm)&&void 0!==r?r:"",universalLink:e[t].universal||"",deepLink:e[t].native||""}}function Y(e,t="mobile"){return Object.values(e).filter(e=>!!e[t].universal||!!e[t].native).map(e=>$(e,t))}},926:function(e,t,r){"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){let e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},8618:function(e,t,r){"use strict";var n=r(3454);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function o(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=o,t.isBrowser=function(){return!i()&&!o()}},1468:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(655);n.__exportStar(r(926),t),n.__exportStar(r(8618),t)},8200:function(e,t,r){"use strict";r.d(t,{q:function(){return n}});class n{}},997:function(e,t,r){"use strict";r.r(t),r.d(t,{IEvents:function(){return n.q}});var n=r(8200)},2568:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0;let n=r(6736);t.HEARTBEAT_INTERVAL=n.FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},3401:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(655);n.__exportStar(r(2568),t)},8969:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;let n=r(655),i=r(7187),o=r(6736),s=r(1614),a=r(3401);class u extends s.IHeartBeat{constructor(e){super(e),this.events=new i.EventEmitter,this.interval=a.HEARTBEAT_INTERVAL,this.interval=(null==e?void 0:e.interval)||a.HEARTBEAT_INTERVAL}static init(e){return n.__awaiter(this,void 0,void 0,function*(){let t=new u(e);return yield t.init(),t})}init(){return n.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return n.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),o.toMiliseconds(this.interval))})}pulse(){this.events.emit(a.HEARTBEAT_EVENTS.pulse)}}t.HeartBeat=u},772:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(655);n.__exportStar(r(8969),t),n.__exportStar(r(1614),t),n.__exportStar(r(3401),t)},4174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;let n=r(997);class i extends n.IEvents{constructor(e){super()}}t.IHeartBeat=i},1614:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(655);n.__exportStar(r(4174),t)},5885:function(e,t,r){"use strict";r.d(t,{IJsonRpcProvider:function(){return i.x0}});var n=r(4057);r.o(n,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return n.IJsonRpcProvider}}),r.o(n,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return n.isJsonRpcError}}),r.o(n,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return n.isJsonRpcRequest}}),r.o(n,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return n.isJsonRpcResponse}}),r.o(n,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return n.isJsonRpcResult}}),r.o(n,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return n.isLocalhostUrl}}),r.o(n,"isReactNative")&&r.d(t,{isReactNative:function(){return n.isReactNative}}),r.o(n,"isWsUrl")&&r.d(t,{isWsUrl:function(){return n.isWsUrl}});var i=r(3416),o=r(1948);r.o(o,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return o.isJsonRpcError}}),r.o(o,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return o.isJsonRpcRequest}}),r.o(o,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return o.isJsonRpcResponse}}),r.o(o,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return o.isJsonRpcResult}}),r.o(o,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return o.isLocalhostUrl}}),r.o(o,"isReactNative")&&r.d(t,{isReactNative:function(){return o.isReactNative}}),r.o(o,"isWsUrl")&&r.d(t,{isWsUrl:function(){return o.isWsUrl}})},4057:function(){},3416:function(e,t,r){"use strict";r.d(t,{x0:function(){return o}});class n{}class i extends n{constructor(){super()}}class o extends i{constructor(e){super()}}},1948:function(){},9806:function(e,t,r){"use strict";r.d(t,{CA:function(){return i},JV:function(){return a},O4:function(){return n},dQ:function(){return o},xK:function(){return s}});let n="INTERNAL_ERROR",i="SERVER_ERROR",o=[-32700,-32600,-32601,-32602,-32603],s={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[n]:{code:-32603,message:"Internal error"},[i]:{code:-32e3,message:"Server error"}},a=i},9698:function(e,t,r){"use strict";var n=r(1468);r.o(n,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return n.IJsonRpcProvider}}),r.o(n,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return n.formatJsonRpcError}}),r.o(n,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return n.formatJsonRpcRequest}}),r.o(n,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return n.formatJsonRpcResult}}),r.o(n,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return n.isJsonRpcError}}),r.o(n,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return n.isJsonRpcRequest}}),r.o(n,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return n.isJsonRpcResponse}}),r.o(n,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return n.isJsonRpcResult}}),r.o(n,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return n.isLocalhostUrl}}),r.o(n,"isReactNative")&&r.d(t,{isReactNative:function(){return n.isReactNative}}),r.o(n,"isWsUrl")&&r.d(t,{isWsUrl:function(){return n.isWsUrl}})},110:function(e,t,r){"use strict";r.d(t,{CX:function(){return a},L2:function(){return s},by:function(){return o},i5:function(){return i}});var n=r(9806);function i(e){return n.dQ.includes(e)}function o(e){return Object.keys(n.xK).includes(e)?n.xK[e]:n.xK[n.JV]}function s(e){let t=Object.values(n.xK).find(t=>t.code===e);return t||n.xK[n.JV]}function a(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}},1937:function(e,t,r){"use strict";r.d(t,{RI:function(){return a},sT:function(){return o},tm:function(){return s}});var n=r(110),i=r(9806);function o(e,t,r){return{id:r||function(){let e=1e3*Date.now();return e+Math.floor(1e3*Math.random())}(),jsonrpc:"2.0",method:e,params:t}}function s(e,t){return{id:e,jsonrpc:"2.0",result:t}}function a(e,t,r){var o;return{id:e,jsonrpc:"2.0",error:void 0===(o=t)?(0,n.by)(i.O4):("string"==typeof o&&(o=Object.assign(Object.assign({},(0,n.by)(i.CA)),{message:o})),void 0!==r&&(o.data=r),(0,n.i5)(o.code)&&(o=(0,n.L2)(o.code)),o)}}},6186:function(e,t,r){"use strict";r.d(t,{formatJsonRpcError:function(){return o.RI},formatJsonRpcRequest:function(){return o.sT},formatJsonRpcResult:function(){return o.tm},isJsonRpcError:function(){return u.jg},isJsonRpcRequest:function(){return u.DW},isJsonRpcResponse:function(){return u.u},isJsonRpcResult:function(){return u.k4},isLocalhostUrl:function(){return a.JF},isWsUrl:function(){return a.UZ},parseConnectionError:function(){return n.CX}}),r(9806);var n=r(110),i=r(9698);r.o(i,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return i.IJsonRpcProvider}}),r.o(i,"formatJsonRpcError")&&r.d(t,{formatJsonRpcError:function(){return i.formatJsonRpcError}}),r.o(i,"formatJsonRpcRequest")&&r.d(t,{formatJsonRpcRequest:function(){return i.formatJsonRpcRequest}}),r.o(i,"formatJsonRpcResult")&&r.d(t,{formatJsonRpcResult:function(){return i.formatJsonRpcResult}}),r.o(i,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return i.isJsonRpcError}}),r.o(i,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return i.isJsonRpcRequest}}),r.o(i,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return i.isJsonRpcResponse}}),r.o(i,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return i.isJsonRpcResult}}),r.o(i,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return i.isLocalhostUrl}}),r.o(i,"isReactNative")&&r.d(t,{isReactNative:function(){return i.isReactNative}}),r.o(i,"isWsUrl")&&r.d(t,{isWsUrl:function(){return i.isWsUrl}});var o=r(1937),s=r(6043);r.o(s,"IJsonRpcProvider")&&r.d(t,{IJsonRpcProvider:function(){return s.IJsonRpcProvider}}),r.o(s,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return s.isJsonRpcError}}),r.o(s,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return s.isJsonRpcRequest}}),r.o(s,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return s.isJsonRpcResponse}}),r.o(s,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return s.isJsonRpcResult}}),r.o(s,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return s.isLocalhostUrl}}),r.o(s,"isReactNative")&&r.d(t,{isReactNative:function(){return s.isReactNative}}),r.o(s,"isWsUrl")&&r.d(t,{isWsUrl:function(){return s.isWsUrl}});var a=r(6119),u=r(4733)},6043:function(e,t,r){"use strict";r.d(t,{IJsonRpcProvider:function(){return n.IJsonRpcProvider}});var n=r(5885);r.o(n,"isJsonRpcError")&&r.d(t,{isJsonRpcError:function(){return n.isJsonRpcError}}),r.o(n,"isJsonRpcRequest")&&r.d(t,{isJsonRpcRequest:function(){return n.isJsonRpcRequest}}),r.o(n,"isJsonRpcResponse")&&r.d(t,{isJsonRpcResponse:function(){return n.isJsonRpcResponse}}),r.o(n,"isJsonRpcResult")&&r.d(t,{isJsonRpcResult:function(){return n.isJsonRpcResult}}),r.o(n,"isLocalhostUrl")&&r.d(t,{isLocalhostUrl:function(){return n.isLocalhostUrl}}),r.o(n,"isReactNative")&&r.d(t,{isReactNative:function(){return n.isReactNative}}),r.o(n,"isWsUrl")&&r.d(t,{isWsUrl:function(){return n.isWsUrl}})},6119:function(e,t,r){"use strict";function n(e){return function(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&RegExp(t).test(r)}(e,"^wss?:")}function i(e){return RegExp("wss?://localhost(:d{2,5})?").test(e)}r.d(t,{JF:function(){return i},UZ:function(){return n}})},4733:function(e,t,r){"use strict";function n(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function i(e){return n(e)&&"method"in e}function o(e){return n(e)&&(s(e)||a(e))}function s(e){return"result"in e}function a(e){return"error"in e}r.d(t,{DW:function(){return i},jg:function(){return a},k4:function(){return s},u:function(){return o}})},5150:function(e,t,r){"use strict";let n=r(655),i=r(3954),o=n.__importDefault(r(653)),s=r(9728);t.ZP=class{constructor(){this.localStorage=o.default}getKeys(){return n.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return n.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(s.parseEntry)})}getItem(e){return n.__awaiter(this,void 0,void 0,function*(){let t=this.localStorage.getItem(e);if(null!==t)return i.safeJsonParse(t)})}setItem(e,t){return n.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,i.safeJsonStringify(t))})}removeItem(e){return n.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}}},653:function(e,t,r){"use strict";!function(){let t;function n(){}(t=n).prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},t.prototype.setItem=function(e,t){this[e]=String(t)},t.prototype.removeItem=function(e){delete this[e]},t.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},t.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),void 0!==r.g&&r.g.localStorage?e.exports=r.g.localStorage:"undefined"!=typeof window&&window.localStorage?e.exports=window.localStorage:e.exports=new n}()},9728:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(655);n.__exportStar(r(9076),t),n.__exportStar(r(496),t)},9076:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IKeyValueStorage=void 0,t.IKeyValueStorage=class{}},496:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEntry=void 0;let n=r(3954);t.parseEntry=function(e){var t;return[e[0],n.safeJsonParse(null!==(t=e[1])&&void 0!==t?t:"")]}},5727:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PINO_CUSTOM_CONTEXT_KEY=t.PINO_LOGGER_DEFAULTS=void 0,t.PINO_LOGGER_DEFAULTS={level:"info"},t.PINO_CUSTOM_CONTEXT_KEY="custom_context"},9107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pino=void 0;let n=r(655),i=n.__importDefault(r(6559));Object.defineProperty(t,"pino",{enumerable:!0,get:function(){return i.default}}),n.__exportStar(r(5727),t),n.__exportStar(r(8048),t)},8048:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateChildLogger=t.formatChildLoggerContext=t.getLoggerContext=t.setBrowserLoggerContext=t.getBrowserLoggerContext=t.getDefaultLoggerOptions=void 0;let n=r(5727);function i(e,t=n.PINO_CUSTOM_CONTEXT_KEY){return e[t]||""}function o(e,t,r=n.PINO_CUSTOM_CONTEXT_KEY){return e[r]=t,e}function s(e,t=n.PINO_CUSTOM_CONTEXT_KEY){return void 0===e.bindings?i(e,t):e.bindings().context||""}function a(e,t,r=n.PINO_CUSTOM_CONTEXT_KEY){let i=s(e,r),o=i.trim()?`${i}/${t}`:t;return o}t.getDefaultLoggerOptions=function(e){return Object.assign(Object.assign({},e),{level:(null==e?void 0:e.level)||n.PINO_LOGGER_DEFAULTS.level})},t.getBrowserLoggerContext=i,t.setBrowserLoggerContext=o,t.getLoggerContext=s,t.formatChildLoggerContext=a,t.generateChildLogger=function(e,t,r=n.PINO_CUSTOM_CONTEXT_KEY){let i=a(e,t,r),s=e.child({context:i});return o(s,i,r)}},4337:function(e,t,r){var n=r(3454);function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=r(1445),s=i(r(2592)),a=i(r(640)),u=r(7423);"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var c="walletconnect-wrapper",l="walletconnect-style-sheet",f="walletconnect-qrcode-modal",p="walletconnect-qrcode-text";function h(e){return u.createElement("div",{className:"walletconnect-modal__header"},u.createElement("img",{src:"data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",className:"walletconnect-modal__headerLogo"}),u.createElement("p",null,"WalletConnect"),u.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},u.createElement("div",{id:"walletconnect-qrcode-close",className:"walletconnect-modal__close__icon"},u.createElement("div",{className:"walletconnect-modal__close__line1"}),u.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function d(e){return u.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:"walletconnect-connect-button-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}function g(e){var t=e.color,r=e.href,n=e.name,i=e.logo,o=e.onClick;return u.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},u.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),u.createElement("div",{className:"walletconnect-modal__base__row__right"},u.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+i+"') "+t,backgroundSize:"100%"}}),u.createElement("img",{src:"data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E",className:"walletconnect-modal__base__row__right__caret"})))}function y(e){var t=e.color,r=e.href,n=e.name,i=e.logo,o=e.onClick,s=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return u.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:o,rel:"noopener noreferrer",target:"_blank"},u.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+i+"') "+t,backgroundSize:"100%"}}),u.createElement("div",{style:{fontSize:s},className:"walletconnect-connect__button__text"},n))}function v(e){var t=o.isAndroid(),r=u.useState(""),n=r[0],i=r[1],s=u.useState(""),a=s[0],c=s[1],l=u.useState(1),f=l[0],h=l[1],v=a?e.links.filter(function(e){return e.name.toLowerCase().includes(a.toLowerCase())}):e.links,m=e.errorMessage,b=a||v.length>5,w=Math.ceil(v.length/12),_=[(f-1)*12+1,12*f],E=v.length?v.filter(function(e,t){return t+1>=_[0]&&t+1<=_[1]}):[],x=void 0;return u.createElement("div",null,u.createElement("p",{id:p,className:"walletconnect-qrcode__text"},t?e.text.connect_mobile_wallet:e.text.choose_preferred_wallet),!t&&u.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:function(e){i(e.target.value),clearTimeout(x),e.target.value?x=setTimeout(function(){c(e.target.value),h(1)},1e3):(i(""),c(""),h(1))}}),u.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?"__android":b&&v.length?"__wrap":"")},t?u.createElement(d,{name:e.text.connect,color:"rgb(64, 153, 255)",href:e.uri,onClick:u.useCallback(function(){o.saveMobileLinkInfo({name:"Unknown",href:e.uri})},[])}):E.length?E.map(function(t){var r=t.color,n=t.name,i=t.shortName,s=t.logo,a=o.formatIOSMobile(e.uri,t),c=u.useCallback(function(){o.saveMobileLinkInfo({name:n,href:a})},[E]);return b?u.createElement(y,{color:r,href:a,name:i||n,logo:s,onClick:c}):u.createElement(g,{color:r,href:a,name:n,logo:s,onClick:c})}):u.createElement(u.Fragment,null,u.createElement("p",null,m.length?e.errorMessage:e.links.length&&!v.length?e.text.no_wallets_found:e.text.loading))),!!(!t&&w>1)&&u.createElement("div",{className:"walletconnect-modal__footer"},Array(w).fill(0).map(function(e,t){var r=t+1;return u.createElement("a",{style:{margin:"auto 10px",fontWeight:f===r?"bold":"normal"},onClick:function(){return h(r)}},r)})))}function m(e){var t=!!e.message.trim();return u.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}var b=function(e){try{var t="";return Promise.resolve(s.toString(e,{margin:0,type:"svg"})).then(function(e){return"string"==typeof e&&(t=e.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t})}catch(e){return Promise.reject(e)}};function w(e){var t=u.useState(""),r=t[0],n=t[1],i=u.useState(""),o=i[0],s=i[1];return u.useEffect(function(){try{return Promise.resolve(b(e.uri)).then(function(e){s(e)})}catch(e){Promise.reject(e)}},[]),u.createElement("div",null,u.createElement("p",{id:p,className:"walletconnect-qrcode__text"},e.text.scan_qrcode_with_wallet),u.createElement("div",{dangerouslySetInnerHTML:{__html:o}}),u.createElement("div",{className:"walletconnect-modal__footer"},u.createElement("a",{onClick:function(){a(e.uri)?(n(e.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))}},e.text.copy_to_clipboard)),u.createElement(m,{message:r}))}function _(e){var t=o.isAndroid(),r=o.isMobile(),n=r?e.qrcodeModalOptions&&e.qrcodeModalOptions.mobileLinks?e.qrcodeModalOptions.mobileLinks:void 0:e.qrcodeModalOptions&&e.qrcodeModalOptions.desktopLinks?e.qrcodeModalOptions.desktopLinks:void 0,i=u.useState(!1),s=i[0],a=i[1],c=u.useState(!1),l=c[0],p=c[1],d=u.useState(!r),g=d[0],y=d[1],m={mobile:r,text:e.text,uri:e.uri,qrcodeModalOptions:e.qrcodeModalOptions},b=u.useState(""),_=b[0],E=b[1],x=u.useState(!1),S=x[0],I=x[1],R=u.useState([]),k=R[0],D=R[1],A=u.useState(""),C=A[0],O=A[1],T=function(){l||s||n&&!n.length||k.length>0||u.useEffect(function(){!function(){try{if(t)return Promise.resolve();a(!0);var i=function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}(function(){var t=e.qrcodeModalOptions&&e.qrcodeModalOptions.registryUrl?e.qrcodeModalOptions.registryUrl:o.getWalletRegistryUrl();return Promise.resolve(fetch(t)).then(function(t){return Promise.resolve(t.json()).then(function(t){var i=t.listings,s=o.getMobileLinkRegistry(o.formatMobileRegistry(i,r?"mobile":"desktop"),n);a(!1),p(!0),O(s.length?"":e.text.no_supported_wallets),D(s);var u=1===s.length;u&&(E(o.formatIOSMobile(e.uri,s[0])),y(!0)),I(u)})})},function(t){a(!1),p(!0),O(e.text.something_went_wrong),console.error(t)});Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}()})};return T(),u.createElement("div",{id:f,className:"walletconnect-qrcode__base animated fadeIn"},u.createElement("div",{className:"walletconnect-modal__base"},u.createElement(h,{onClose:e.onClose}),S&&g?u.createElement("div",{className:"walletconnect-modal__single_wallet"},u.createElement("a",{onClick:function(){return o.saveMobileLinkInfo({name:k[0].name,href:_})},href:_,rel:"noopener noreferrer",target:"_blank"},e.text.connect_with+" "+(S?k[0].name:"")+" ›")):t||s||!s&&k.length?u.createElement("div",{className:"walletconnect-modal__mobile__toggle"+((r?g:!g)?" right__selected":"")},u.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?u.createElement(u.Fragment,null,u.createElement("a",{onClick:function(){return y(!1),T()}},e.text.mobile),u.createElement("a",{onClick:function(){return y(!0)}},e.text.qrcode)):u.createElement(u.Fragment,null,u.createElement("a",{onClick:function(){return y(!0)}},e.text.qrcode),u.createElement("a",{onClick:function(){return y(!1),T()}},e.text.desktop))):null,u.createElement("div",null,!g&&(t||s||k.length)?u.createElement(v,Object.assign({},m,{links:k,errorMessage:C})):u.createElement(w,Object.assign({},m)))))}var E={de:{choose_preferred_wallet:"W\xe4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xfctzten Wallet",no_wallets_found:"keine Wallet gefunden"},en:{choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},es:{choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xf3vil",scan_qrcode_with_wallet:"Escanea el c\xf3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xf3digo QR",mobile:"M\xf3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xf3 mal",no_supported_wallets:"Todav\xeda no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},fr:{choose_preferred_wallet:"Choisissez votre portefeuille pr\xe9f\xe9r\xe9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xe9!",connect_with:"Connectez-vous \xe0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xe9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xe9"},ko:{choose_preferred_wallet:"원하는 지갑을 선택하세요",connect_mobile_wallet:"모바일 지갑과 연결",scan_qrcode_with_wallet:"WalletConnect 지원 지갑에서 QR코드를 스캔하세요",connect:"연결",qrcode:"QR 코드",mobile:"모바일",desktop:"데스크탑",copy_to_clipboard:"클립보드에 복사",copied_to_clipboard:"클립보드에 복사되었습니다!",connect_with:"와 연결하다",loading:"로드 중...",something_went_wrong:"문제가 발생했습니다.",no_supported_wallets:"아직 지원되는 지갑이 없습니다",no_wallets_found:"지갑을 찾을 수 없습니다"},pt:{choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xe0 carteira m\xf3vel",scan_qrcode_with_wallet:"Ler o c\xf3digo QR com uma carteira compat\xedvel com WalletConnect",connect:"Conectar",qrcode:"C\xf3digo QR",mobile:"M\xf3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xe3o h\xe1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},zh:{choose_preferred_wallet:"选择你的钱包",connect_mobile_wallet:"连接至移动端钱包",scan_qrcode_with_wallet:"使用兼容 WalletConnect 的钱包扫描二维码",connect:"连接",qrcode:"二维码",mobile:"移动",desktop:"桌面",copy_to_clipboard:"复制到剪贴板",copied_to_clipboard:"复制到剪贴板成功！",connect_with:"通过以下方式连接",loading:"正在加载...",something_went_wrong:"出了问题",no_supported_wallets:"目前还没有支持的钱包",no_wallets_found:"没有找到钱包"},fa:{choose_preferred_wallet:"کیف پول مورد نظر خود را انتخاب کنید",connect_mobile_wallet:"به کیف پول موبایل وصل شوید",scan_qrcode_with_wallet:"کد QR را با یک کیف پول سازگار با WalletConnect اسکن کنید",connect:"اتصال",qrcode:"کد QR",mobile:"سیار",desktop:"دسکتاپ",copy_to_clipboard:"کپی به کلیپ بورد",copied_to_clipboard:"در کلیپ بورد کپی شد!",connect_with:"ارتباط با",loading:"...بارگذاری",something_went_wrong:"مشکلی پیش آمد",no_supported_wallets:"هنوز هیچ کیف پول پشتیبانی شده ای وجود ندارد",no_wallets_found:"هیچ کیف پولی پیدا نشد"}};function x(){var e=o.getDocumentOrThrow(),t=e.getElementById(f);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout(function(){var t=e.getElementById(c);t&&e.body.removeChild(t)},300))}var S=function(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node};e.exports={open:function(e,t,r){if(console.log(e),S())!function(e){s.toString(e,{type:"terminal"}).then(console.log)}(e);else{var n,i,a,f,p;(i=(n=o.getDocumentOrThrow()).getElementById(l))&&n.head.removeChild(i),(a=n.createElement("style")).setAttribute("id",l),a.innerText=':root {\n  --animation-duration: 300ms;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n#walletconnect-wrapper {\n  -webkit-user-select: none;\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  user-select: none;\n  width: 100%;\n  z-index: 99999999999999;\n}\n\n.walletconnect-modal__headerLogo {\n  height: 21px;\n}\n\n.walletconnect-modal__header p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n  align-items: flex-start;\n  display: flex;\n  flex: 1;\n  margin-left: 5px;\n}\n\n.walletconnect-modal__close__wrapper {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  z-index: 10000;\n  background: white;\n  border-radius: 26px;\n  padding: 6px;\n  box-sizing: border-box;\n  width: 26px;\n  height: 26px;\n  cursor: pointer;\n}\n\n.walletconnect-modal__close__icon {\n  position: relative;\n  top: 7px;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n}\n\n.walletconnect-modal__close__line1 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n}\n\n.walletconnect-modal__close__line2 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n  transform: rotate(90deg);\n}\n\n.walletconnect-qrcode__base {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background: rgba(37, 41, 46, 0.95);\n  height: 100%;\n  left: 0;\n  pointer-events: auto;\n  position: fixed;\n  top: 0;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  width: 100%;\n  will-change: opacity;\n  padding: 40px;\n  box-sizing: border-box;\n}\n\n.walletconnect-qrcode__text {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 10px 0 20px 0;\n  text-align: center;\n  width: 100%;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-qrcode__text {\n    font-size: 4vw;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-qrcode__text {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-qrcode__image {\n  width: calc(100% - 30px);\n  box-sizing: border-box;\n  cursor: none;\n  margin: 0 auto;\n}\n\n.walletconnect-qrcode__notification {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  font-size: 16px;\n  padding: 16px 20px;\n  border-radius: 16px;\n  text-align: center;\n  transition: all 0.1s ease-in-out;\n  background: white;\n  color: black;\n  margin-bottom: -60px;\n  opacity: 0;\n}\n\n.walletconnect-qrcode__notification.notification__show {\n  opacity: 1;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__header {\n    height: 130px;\n  }\n  .walletconnect-modal__base {\n    overflow: auto;\n  }\n}\n\n@media only screen and (min-device-width: 415px) and (max-width: 768px) {\n  #content {\n    max-width: 768px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 375px) and (max-width: 415px) {\n  #content {\n    max-width: 414px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 320px) and (max-width: 375px) {\n  #content {\n    max-width: 375px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  #content {\n    max-width: 320px;\n    box-sizing: border-box;\n  }\n}\n\n.walletconnect-modal__base {\n  -webkit-font-smoothing: antialiased;\n  background: #ffffff;\n  border-radius: 24px;\n  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);\n  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,\n    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n    "Open Sans", "Helvetica Neue", sans-serif;\n  margin-top: 41px;\n  padding: 24px 24px 22px;\n  pointer-events: auto;\n  position: relative;\n  text-align: center;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  will-change: transform;\n  overflow: visible;\n  transform: translateY(-50%);\n  top: 50%;\n  max-width: 500px;\n  margin: auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__base {\n    padding: 24px 12px;\n  }\n}\n\n.walletconnect-modal__base .hidden {\n  transform: translateY(150%);\n  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);\n}\n\n.walletconnect-modal__header {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  left: 0;\n  justify-content: space-between;\n  position: absolute;\n  top: -42px;\n  width: 100%;\n}\n\n.walletconnect-modal__base .wc-logo {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  margin-top: 15px;\n  padding-bottom: 15px;\n  pointer-events: auto;\n}\n\n.walletconnect-modal__base .wc-logo div {\n  background-color: #3399ff;\n  height: 21px;\n  margin-right: 5px;\n  mask-image: url("images/wc-logo.svg") center no-repeat;\n  width: 32px;\n}\n\n.walletconnect-modal__base .wc-logo p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n}\n\n.walletconnect-modal__base h2 {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 0 0 19px 0;\n  text-align: center;\n  width: 100%;\n}\n\n.walletconnect-modal__base__row {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  align-items: center;\n  border-radius: 20px;\n  cursor: pointer;\n  display: flex;\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 15px;\n  position: relative;\n  margin: 0px 0px 8px;\n  text-align: left;\n  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  will-change: transform;\n  text-decoration: none;\n}\n\n.walletconnect-modal__base__row:hover {\n  background: rgba(60, 66, 82, 0.06);\n}\n\n.walletconnect-modal__base__row:active {\n  background: rgba(60, 66, 82, 0.06);\n  transform: scale(0.975);\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.walletconnect-modal__base__row__h3 {\n  color: #25292e;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n  padding-bottom: 3px;\n}\n\n.walletconnect-modal__base__row__right {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.walletconnect-modal__base__row__right__app-icon {\n  border-radius: 8px;\n  height: 34px;\n  margin: 0 11px 2px 0;\n  width: 34px;\n  background-size: 100%;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-modal__base__row__right__caret {\n  height: 18px;\n  opacity: 0.3;\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  width: 8px;\n  will-change: opacity;\n}\n\n.walletconnect-modal__base__row:hover .caret,\n.walletconnect-modal__base__row:active .caret {\n  opacity: 0.6;\n}\n\n.walletconnect-modal__mobile__toggle {\n  width: 80%;\n  display: flex;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n  border-radius: 8px;\n  margin-bottom: 18px;\n  background: #d4d5d9;\n}\n\n.walletconnect-modal__single_wallet {\n  display: flex;\n  justify-content: center;\n  margin-top: 7px;\n  margin-bottom: 18px;\n}\n\n.walletconnect-modal__single_wallet a {\n  cursor: pointer;\n  color: rgb(64, 153, 255);\n  font-size: 21px;\n  font-weight: 800;\n  text-decoration: none !important;\n  margin: 0 auto;\n}\n\n.walletconnect-modal__mobile__toggle_selector {\n  width: calc(50% - 8px);\n  background: white;\n  position: absolute;\n  border-radius: 5px;\n  height: calc(100% - 8px);\n  top: 4px;\n  transition: all 0.2s ease-in-out;\n  transform: translate3d(4px, 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {\n  transform: translate3d(calc(100% + 12px), 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle a {\n  font-size: 12px;\n  width: 50%;\n  text-align: center;\n  padding: 8px;\n  margin: 0;\n  font-weight: 600;\n  z-index: 1;\n}\n\n.walletconnect-modal__footer {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__footer {\n    margin-top: 5vw;\n  }\n}\n\n.walletconnect-modal__footer a {\n  cursor: pointer;\n  color: #898d97;\n  font-size: 15px;\n  margin: 0 auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__footer a {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-connect__buttons__wrapper {\n  max-height: 44vh;\n}\n\n.walletconnect-connect__buttons__wrapper__android {\n  margin: 50% 0;\n}\n\n.walletconnect-connect__buttons__wrapper__wrap {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  margin: 10px 0;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__buttons__wrapper__wrap {\n    margin-top: 40px;\n  }\n}\n\n.walletconnect-connect__button {\n  background-color: rgb(64, 153, 255);\n  padding: 12px;\n  border-radius: 8px;\n  text-decoration: none;\n  color: rgb(255, 255, 255);\n  font-weight: 500;\n}\n\n.walletconnect-connect__button__icon_anchor {\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 8px;\n  width: 42px;\n  justify-self: center;\n  flex-direction: column;\n  text-decoration: none !important;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-connect__button__icon_anchor {\n    margin: 4px;\n  }\n}\n\n.walletconnect-connect__button__icon {\n  border-radius: 10px;\n  height: 42px;\n  margin: 0;\n  width: 42px;\n  background-size: cover !important;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-connect__button__text {\n  color: #424952;\n  font-size: 2.7vw;\n  text-decoration: none !important;\n  padding: 0;\n  margin-top: 1.8vw;\n  font-weight: 600;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__button__text {\n    font-size: 16px;\n    margin-top: 12px;\n  }\n}\n\n.walletconnect-search__input {\n  border: none;\n  background: #d4d5d9;\n  border-style: none;\n  padding: 8px 16px;\n  outline: none;\n  font-style: normal;\n  font-stretch: normal;\n  font-size: 16px;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  text-align: left;\n  border-radius: 8px;\n  width: calc(100% - 16px);\n  margin: 0;\n  margin-bottom: 8px;\n}\n',n.head.appendChild(a),(p=(f=o.getDocumentOrThrow()).createElement("div")).setAttribute("id",c),f.body.appendChild(p),u.render(u.createElement(_,{text:E[o.getNavigatorOrThrow().language.split("-")[0]||"en"]||E.en,uri:e,onClose:function(){x(),t&&t()},qrcodeModalOptions:r}),p)}},close:function(){S()||x()}}},1882:function(){},3014:function(){},6900:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(655);n.__exportStar(r(6869),t),n.__exportStar(r(8033),t)},6869:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},8033:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},6736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(655);n.__exportStar(r(4273),t),n.__exportStar(r(7001),t),n.__exportStar(r(2939),t),n.__exportStar(r(6900),t)},2939:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(655);n.__exportStar(r(8766),t)},8766:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0,t.IWatch=class{}},3207:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let n=r(6900);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},3873:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},4273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(655);n.__exportStar(r(3873),t),n.__exportStar(r(3207),t)},7001:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e),r=t.elapsed||Date.now()-t.started;return r}}t.Watch=r,t.default=r},6667:function(e,t){"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},8790:function(e,t,r){"use strict";t.D=void 0;let n=r(6667);t.D=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function i(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let n=r[e],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let o=((r=i("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),s=function(){let e=i("description","og:description","twitter:description","keywords");return e}(),a=t.origin,u=function(){let r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){let i=r[e],o=i.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e){if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let n=t.pathname.split("/");n.pop();let i=n.join("/");r+=i+"/"+e}n.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;n.push(r)}else n.push(e)}}}return n}();return{description:s,url:a,icons:u,name:o}}},2873:function(e,t){"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},5755:function(e,t,r){"use strict";t.D=void 0;let n=r(2873);t.D=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function i(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let n=r[e],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let o=((r=i("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),s=function(){let e=i("description","og:description","twitter:description","keywords");return e}(),a=t.origin,u=function(){let r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){let i=r[e],o=i.getAttribute("rel");if(o&&o.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e){if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let n=t.pathname.split("/");n.pop();let i=n.join("/");r+=i+"/"+e}n.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;n.push(r)}else n.push(e)}}}return n}();return{description:s,url:a,icons:u,name:o}}},9742:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=u(e),s=o[0],a=o[1],c=new i((s+a)*3/4-a),l=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(e,t,n){for(var i,o=[],s=t;s<n;s+=3)o.push(r[(i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8764:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|d(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(M(e,Uint8Array)){let t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(M(e,ArrayBuffer)||e&&M(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(M(e,SharedArrayBuffer)||e&&M(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);let i=function(e){var t;if(a.isBuffer(e)){let t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),s(e<0?0:0|h(e))}function f(e){let t=e.length<0?0:0|h(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function h(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||M(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return L(e).length;default:if(i)return n?-1:P(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=B[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var o,s;return o=t,s=r,0===o&&s===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function y(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else -1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return -1}function b(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(u=(31&t)<<6|63&r)>127&&(o=u);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(u=(15&t)<<12|(63&r)<<6|63&n)>2047&&(u<55296||u>57343)&&(o=u);break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],(192&r)==128&&(192&n)==128&&(192&a)==128&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a)>65535&&u<1114112&&(o=u)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,i){C(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function x(e,t,r,n,i){C(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function S(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function I(e,t,r,n,o){return t=+t,r>>>=0,o||S(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function R(e,t,r,n,o){return t=+t,r>>>=0,o||S(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(M(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),M(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(M(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(M(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,s=r-t,u=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<u;++e)if(c[e]!==l[e]){o=c[e],s=l[e];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){var i,o,s,a,u,c,l,f;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let p=this.length-t;if((void 0===r||r>p)&&(r=p),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let h=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let s=t.length;for(n>s/2&&(n=s/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,U(P(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,U(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return u=t,c=r,U(L(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=r,U(function(e,t){let r,n;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=j(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&T(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=j(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&T(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=j(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&T(e,this.length-8);let n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),a.prototype.readBigInt64BE=j(function(e){O(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&T(e,this.length-8);let n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;_(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=j(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=j(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);_(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=j(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=j(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return R(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return R(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=a.isBuffer(e)?e:a.from(e,n),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};let k={};function D(e,t,r){k[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function A(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function C(e,t,r,n,i,o){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new k.ERR_OUT_OF_RANGE("value",n,e)}O(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&T(i,n.length-(o+1))}function O(e,t){if("number"!=typeof e)throw new k.ERR_INVALID_ARG_TYPE(t,"number",e)}function T(e,t,r){if(Math.floor(e)!==e)throw O(e,r),new k.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new k.ERR_BUFFER_OUT_OF_BOUNDS;throw new k.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),D("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=A(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=A(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let N=/[^+/0-9A-Za-z-_]/g;function P(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function L(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function M(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let B=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function j(e){return"undefined"==typeof BigInt?F:e}function F(){throw Error("BigInt not supported")}},640:function(e,t,r){"use strict";var n=r(1742),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var r,o,s,a,u,c,l,f,p=!1;t||(t={}),s=t.debug||!1;try{if(u=n(),c=document.createRange(),l=document.getSelection(),(f=document.createElement("span")).textContent=e,f.ariaHidden="true",f.style.all="unset",f.style.position="fixed",f.style.top=0,f.style.clip="rect(0, 0, 0, 0)",f.style.whiteSpace="pre",f.style.webkitUserSelect="text",f.style.MozUserSelect="text",f.style.msUserSelect="text",f.style.userSelect="text",f.addEventListener("copy",function(r){if(r.stopPropagation(),t.format){if(r.preventDefault(),void 0===r.clipboardData){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var n=i[t.format]||i.default;window.clipboardData.setData(n,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e)}t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))}),document.body.appendChild(f),c.selectNodeContents(f),l.addRange(c),!document.execCommand("copy"))throw Error("copy command was unsuccessful");p=!0}catch(n){s&&console.error("unable to copy using execCommand: ",n),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),p=!0}catch(n){s&&console.error("unable to copy using clipboardData: ",n),s&&console.error("falling back to prompt"),r="message"in t?t.message:"Copy to clipboard: #{key}, Enter",o=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",a=r.replace(/#{\s*key\s*}/g,o),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges()),f&&document.body.removeChild(f),u()}return p}},4020:function(e){"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),n=RegExp("("+t+")+","gi");e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},i=n.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var o=function(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(e){}if(1===t.length)return t;r=r||1;var n=t.slice(0,r),i=t.slice(r);return Array.prototype.concat.call([],e(n),e(i))})(t,n).join("")).match(r)||[];return e}}(i[0]);o!==i[0]&&(t[i[0]]=o)}i=n.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];e=e.replace(RegExp(u,"g"),t[u])}return e}(e)}}},5987:function(e){"use strict";var t={single_source_shortest_paths:function(e,r,n){var i,o,s,a,u,c,l,f={},p={};p[r]=0;var h=t.PriorityQueue.make();for(h.push(r,0);!h.empty();)for(s in o=(i=h.pop()).value,a=i.cost,u=e[o]||{})u.hasOwnProperty(s)&&(c=a+u[s],l=p[s],(void 0===p[s]||l>c)&&(p[s]=c,h.push(s,c),f[s]=o));if(void 0!==n&&void 0===p[n])throw Error(["Could not find a path from ",r," to ",n,"."].join(""));return f},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,r,n){var i=t.single_source_shortest_paths(e,r,n);return t.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var r,n=t.PriorityQueue,i={};for(r in e=e||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},7187:function(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&"function"==typeof e.on&&g(e,"error",i,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,c=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):d(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function d(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else for(var c=u.length,l=d(u,c),r=0;r<c;++r)n(l[r],this,t);return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2806:function(e){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var s=n[o],a=e[s];(i?-1!==t.indexOf(s):t(s,a,e))&&(r[s]=a)}return r}},645:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,f=r?i-1:0,p=r?-1:1,h=e[t+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:(h?-1:1)*(1/0);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?5960464477539062e-23:0,h=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?t+=p/u:t+=p*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=d,s/=256,c-=8);e[r+h-d]|=128*g}},5826:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2307:function(e,t,r){e=r.nmd(e);var n,i,o,s="__lodash_hash_undefined__",a="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",p="[object Function]",h="[object Map]",d="[object Number]",g="[object Object]",y="[object Promise]",v="[object RegExp]",m="[object Set]",b="[object String]",w="[object WeakMap]",_="[object ArrayBuffer]",E="[object DataView]",x=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[a]=I[u]=I[_]=I[c]=I[E]=I[l]=I[f]=I[p]=I[h]=I[d]=I[g]=I[v]=I[m]=I[b]=I[w]=!1;var R="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,k="object"==typeof self&&self&&self.Object===Object&&self,D=R||k||Function("return this")(),A=t&&!t.nodeType&&t,C=A&&e&&!e.nodeType&&e,O=C&&C.exports===A,T=O&&R.process,N=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),P=N&&N.isTypedArray;function L(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function U(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var M=Array.prototype,B=Function.prototype,j=Object.prototype,F=D["__core-js_shared__"],z=B.toString,q=j.hasOwnProperty,G=(n=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",W=j.toString,H=RegExp("^"+z.call(q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=O?D.Buffer:void 0,K=D.Symbol,J=D.Uint8Array,$=j.propertyIsEnumerable,Y=M.splice,X=K?K.toStringTag:void 0,Q=Object.getOwnPropertySymbols,Z=V?V.isBuffer:void 0,ee=(i=Object.keys,o=Object,function(e){return i(o(e))}),et=eI(D,"DataView"),er=eI(D,"Map"),en=eI(D,"Promise"),ei=eI(D,"Set"),eo=eI(D,"WeakMap"),es=eI(Object,"create"),ea=eD(et),eu=eD(er),ec=eD(en),el=eD(ei),ef=eD(eo),ep=K?K.prototype:void 0,eh=ep?ep.valueOf:void 0;function ed(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function eg(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ey(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ev(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ey;++t<r;)this.add(e[t])}function em(e){var t=this.__data__=new eg(e);this.size=t.size}function eb(e,t){for(var r=e.length;r--;)if(eA(e[r][0],t))return r;return -1}function ew(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=q.call(e,X),r=e[X];try{e[X]=void 0;var n=!0}catch(e){}var i=W.call(e);return n&&(t?e[X]=r:delete e[X]),i}(e):W.call(e)}function e_(e){return eU(e)&&ew(e)==a}function eE(e,t,r,n,i,o){var s=1&r,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,f=!0,p=2&r?new ev:void 0;for(o.set(e,t),o.set(t,e);++l<a;){var h=e[l],d=t[l];if(n)var g=s?n(d,h,l,t,e,o):n(h,d,l,e,t,o);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}(t,function(e,t){if(!p.has(t)&&(h===e||i(h,e,r,n,o)))return p.push(t)})){f=!1;break}}else if(!(h===d||i(h,d,r,n,o))){f=!1;break}}return o.delete(e),o.delete(t),f}function ex(e){var t;return t=function(e){return null!=e&&eP(e.length)&&!eN(e)?function(e,t){var r,n,i=eO(e),o=!i&&eC(e),s=!i&&!o&&eT(e),a=!i&&!o&&!s&&eM(e),u=i||o||s||a,c=u?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=c.length;for(var f in e)q.call(e,f)&&!(u&&("length"==f||s&&("offset"==f||"parent"==f)||a&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||(r=f,(n=null==(n=l)?9007199254740991:n)&&("number"==typeof r||S.test(r))&&r>-1&&r%1==0&&r<n)))&&c.push(f);return c}(e):function(e){if(r="function"==typeof(t=e&&e.constructor)&&t.prototype||j,e!==r)return ee(e);var t,r,n=[];for(var i in Object(e))q.call(e,i)&&"constructor"!=i&&n.push(i);return n}(e)}(e),eO(e)?t:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(t,eR(e))}function eS(e,t){var r,n=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?n["string"==typeof t?"string":"hash"]:n.map}function eI(e,t){var r=null==e?void 0:e[t];return!(!eL(r)||G&&G in r)&&(eN(r)?H:x).test(eD(r))?r:void 0}ed.prototype.clear=function(){this.__data__=es?es(null):{},this.size=0},ed.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ed.prototype.get=function(e){var t=this.__data__;if(es){var r=t[e];return r===s?void 0:r}return q.call(t,e)?t[e]:void 0},ed.prototype.has=function(e){var t=this.__data__;return es?void 0!==t[e]:q.call(t,e)},ed.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=es&&void 0===t?s:t,this},eg.prototype.clear=function(){this.__data__=[],this.size=0},eg.prototype.delete=function(e){var t=this.__data__,r=eb(t,e);return!(r<0)&&(r==t.length-1?t.pop():Y.call(t,r,1),--this.size,!0)},eg.prototype.get=function(e){var t=this.__data__,r=eb(t,e);return r<0?void 0:t[r][1]},eg.prototype.has=function(e){return eb(this.__data__,e)>-1},eg.prototype.set=function(e,t){var r=this.__data__,n=eb(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ey.prototype.clear=function(){this.size=0,this.__data__={hash:new ed,map:new(er||eg),string:new ed}},ey.prototype.delete=function(e){var t=eS(this,e).delete(e);return this.size-=t?1:0,t},ey.prototype.get=function(e){return eS(this,e).get(e)},ey.prototype.has=function(e){return eS(this,e).has(e)},ey.prototype.set=function(e,t){var r=eS(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ev.prototype.add=ev.prototype.push=function(e){return this.__data__.set(e,s),this},ev.prototype.has=function(e){return this.__data__.has(e)},em.prototype.clear=function(){this.__data__=new eg,this.size=0},em.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},em.prototype.get=function(e){return this.__data__.get(e)},em.prototype.has=function(e){return this.__data__.has(e)},em.prototype.set=function(e,t){var r=this.__data__;if(r instanceof eg){var n=r.__data__;if(!er||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ey(n)}return r.set(e,t),this.size=r.size,this};var eR=Q?function(e){return null==e?[]:function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}(Q(e=Object(e)),function(t){return $.call(e,t)})}:function(){return[]},ek=ew;function eD(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eA(e,t){return e===t||e!=e&&t!=t}(et&&ek(new et(new ArrayBuffer(1)))!=E||er&&ek(new er)!=h||en&&ek(en.resolve())!=y||ei&&ek(new ei)!=m||eo&&ek(new eo)!=w)&&(ek=function(e){var t=ew(e),r=t==g?e.constructor:void 0,n=r?eD(r):"";if(n)switch(n){case ea:return E;case eu:return h;case ec:return y;case el:return m;case ef:return w}return t});var eC=e_(function(){return arguments}())?e_:function(e){return eU(e)&&q.call(e,"callee")&&!$.call(e,"callee")},eO=Array.isArray,eT=Z||function(){return!1};function eN(e){if(!eL(e))return!1;var t=ew(e);return t==p||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eP(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function eL(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eU(e){return null!=e&&"object"==typeof e}var eM=P?function(e){return P(e)}:function(e){return eU(e)&&eP(e.length)&&!!I[ew(e)]};e.exports=function(e,t){return function e(t,r,n,i,o){return t===r||(null!=t&&null!=r&&(eU(t)||eU(r))?function(e,t,r,n,i,o){var s=eO(e),p=eO(t),y=s?u:ek(e),w=p?u:ek(t);y=y==a?g:y,w=w==a?g:w;var x=y==g,S=w==g,I=y==w;if(I&&eT(e)){if(!eT(t))return!1;s=!0,x=!1}if(I&&!x)return o||(o=new em),s||eM(e)?eE(e,t,r,n,i,o):function(e,t,r,n,i,o,s){switch(r){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case _:if(e.byteLength!=t.byteLength||!o(new J(e),new J(t)))break;return!0;case c:case l:case d:return eA(+e,+t);case f:return e.name==t.name&&e.message==t.message;case v:case b:return e==t+"";case h:var a=L;case m:var u=1&n;if(a||(a=U),e.size!=t.size&&!u)break;var p=s.get(e);if(p)return p==t;n|=2,s.set(e,t);var g=eE(a(e),a(t),n,i,o,s);return s.delete(e),g;case"[object Symbol]":if(eh)return eh.call(e)==eh.call(t)}return!1}(e,t,y,r,n,i,o);if(!(1&r)){var R=x&&q.call(e,"__wrapped__"),k=S&&q.call(t,"__wrapped__");if(R||k){var D=R?e.value():e,A=k?t.value():t;return o||(o=new em),i(D,A,r,n,o)}}return!!I&&(o||(o=new em),function(e,t,r,n,i,o){var s=1&r,a=ex(e),u=a.length;if(u!=ex(t).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in t:q.call(t,l)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var p=!0;o.set(e,t),o.set(t,e);for(var h=s;++c<u;){var d=e[l=a[c]],g=t[l];if(n)var y=s?n(g,d,l,t,e,o):n(d,g,l,e,t,o);if(!(void 0===y?d===g||i(d,g,r,n,o):y)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var v=e.constructor,m=t.constructor;v!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m)&&(p=!1)}return o.delete(e),o.delete(t),p}(e,t,r,n,i,o))}(t,r,n,i,e,o):t!=t&&r!=r)}(e,t)}},3454:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(7663)},6840:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(6505)}])},6516:function(e,t,r){"use strict";var n=r(3454);let i=n.env.NEXT_PUBLIC_API_ROOT||"https://monster-maker.vercel.app";t.Z={HOME:"/",CHECKIN:"/checkin",SCAN:"/scan",API_SIGN_AS_MINTER:"".concat(i,"/api/signAsMinter"),API_SIGN_AS_MINTER_INFO:"".concat(i,"/api/signAsMinter/info")}},7073:function(e,t,r){"use strict";r.d(t,{vP:function(){return dZ},Z_:function(){return dQ}});var n,i,o,s,a,u,c,l,f,p,h,d,g,y,v,m,b,w,_,E,x,S,I,R,k,D,A,C,O,T,N,P,L,U,M,B,j,F,z,q,G,W,H,V,K,J,$,Y,X,Q,Z,ee,et,er,en,ei,eo,es,ea,eu,ec,el,ef,ep,eh,ed,eg,ey,ev,em,eb,ew,e_,eE,ex,eS,eI,eR,ek={};r.r(ek),r.d(ek,{Address:function(){return sM},Array:function(){return sz},Bool:function(){return sU},Character:function(){return sL},Dictionary:function(){return sq},Enum:function(){return sV},Event:function(){return sG},Fix64:function(){return sN},Identity:function(){return sp},Int:function(){return sd},Int128:function(){return sS},Int16:function(){return sm},Int256:function(){return sR},Int32:function(){return sw},Int64:function(){return sE},Int8:function(){return sy},Optional:function(){return sj},Path:function(){return sK},Reference:function(){return sF},Resource:function(){return sW},String:function(){return sP},Struct:function(){return sH},UFix64:function(){return sT},UInt:function(){return sh},UInt128:function(){return sx},UInt16:function(){return sv},UInt256:function(){return sI},UInt32:function(){return sb},UInt64:function(){return s_},UInt8:function(){return sg},Void:function(){return sB},Word16:function(){return sD},Word32:function(){return sA},Word64:function(){return sC},Word8:function(){return sk},_Array:function(){return sz}});var eD={};r.r(eD),r.d(eD,{identity:function(){return cX}});var eA={};r.r(eA),r.d(eA,{base2:function(){return cQ}});var eC={};r.r(eC),r.d(eC,{base8:function(){return cZ}});var eO={};r.r(eO),r.d(eO,{base10:function(){return c0}});var eT={};r.r(eT),r.d(eT,{base16:function(){return c1},base16upper:function(){return c2}});var eN={};r.r(eN),r.d(eN,{base32:function(){return c3},base32hex:function(){return c4},base32hexpad:function(){return c9},base32hexpadupper:function(){return le},base32hexupper:function(){return c7},base32pad:function(){return c6},base32padupper:function(){return c8},base32upper:function(){return c5},base32z:function(){return lt}});var eP={};r.r(eP),r.d(eP,{base36:function(){return lr},base36upper:function(){return ln}});var eL={};r.r(eL),r.d(eL,{base58btc:function(){return li},base58flickr:function(){return lo}});var eU={};r.r(eU),r.d(eU,{base64:function(){return ls},base64pad:function(){return la},base64url:function(){return lu},base64urlpad:function(){return lc}});var eM={};r.r(eM),r.d(eM,{base256emoji:function(){return lh}});var eB={};r.r(eB),r.d(eB,{sha256:function(){return lS},sha512:function(){return lI}});var ej={};r.r(ej),r.d(ej,{identity:function(){return lk}});var eF={};r.r(eF),r.d(eF,{code:function(){return lA},decode:function(){return lO},encode:function(){return lC},name:function(){return lD}});var ez={};r.r(ez),r.d(ez,{code:function(){return lL},decode:function(){return lM},encode:function(){return lU},name:function(){return lP}});var eq=r(5893);function eG(e){if(Array.isArray(e))return e}function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eH(e,t){if(e){if("string"==typeof e)return eW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eW(e,t)}}function eV(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eK(e,t){return eG(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||eH(e,t)||eV()}function eJ(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(e){r(e);return}a.done?t(u):Promise.resolve(u).then(n,i)}function e$(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function s(e){eJ(o,n,i,s,a,"next",e)}function a(e){eJ(o,n,i,s,a,"throw",e)}s(void 0)})}}var eY=r(4687),eX=r.n(eY);function eQ(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function eZ(e){return eG(e)||eQ(e)||eH(e)||eV()}function e0(e){return(e0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e1(e){var t=function(e,t){if("object"!==e0(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e0(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e0(t)?t:String(t)}function e2(e,t,r){return(t=e1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e3(Object(r),!0).forEach(function(t){e2(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e6(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=eH(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}var e8=r(8126),e4=r.n(e8),e7=function(){var e,t=[];return{deliver:function(r){return e$(eX().mark(function n(){return eX().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.push(r),e&&(e(t.shift()),e=void 0);case 2:case"end":return n.stop()}},n)}))()},receive:function(){return new Promise(function(r){var n=t.shift();if(n)return r(n);e=r})}}},e9="INIT",te="SUBSCRIBE",tt="UNSUBSCRIBE",tr="UPDATED",tn="SNAPSHOT",ti="TERMINATE",to=("undefined"==typeof self?"undefined":e0(self))==="object"&&self.self===self&&self||(void 0===r.g?"undefined":e0(r.g))==="object"&&r.g.global===r.g&&r.g||("undefined"==typeof window?"undefined":e0(window))==="object"&&window.window===window&&window;to.FCL_REGISTRY=null==to.FCL_REGISTRY?{}:to.FCL_REGISTRY;var ts=0,ta=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(i,o){var s=n.expectReply||!1,a=null!=n.timeout?n.timeout:5e3;s&&a&&setTimeout(function(){return o(Error("Timeout: ".concat(a,"ms passed without a response.")))},a);var u={to:e,from:n.from,tag:t,data:r,timeout:a,reply:i,reject:o};try{to.FCL_REGISTRY[e]&&to.FCL_REGISTRY[e].mailbox.deliver(u),s||i(!0)}catch(t){console.error("FCL.Actor -- Could Not Deliver Message",u,to.FCL_REGISTRY[e],t)}})},tu=function(e){delete to.FCL_REGISTRY[e]},tc=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=e$(eX().mark(function e(r){var n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t[e9]){e.next=3;break}return e.next=3,t[e9](r);case 3:return e.next=6,r.receive();case 6:if(n=e.sent,e.prev=7,"EXIT"!==n.tag){e.next=13;break}if("function"!=typeof t[ti]){e.next=12;break}return e.next=12,t[ti](r,n,n.data||{});case 12:return e.abrupt("break",25);case 13:return e.next=15,t[n.tag](r,n,n.data||{});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.error("".concat(r.self()," Error"),n,e.t0);case 20:return e.prev=20,e.abrupt("continue",3);case 23:e.next=3;break;case 25:case"end":return e.stop()}},e,null,[[7,17,20,23]])})),function(t){return e.apply(this,arguments)}},tl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t&&(t=++ts),null!=to.FCL_REGISTRY[t])return t;to.FCL_REGISTRY[t]={addr:t,mailbox:e7(),subs:new Set,kvs:{},error:null};var r={self:function(){return t},receive:function(){return to.FCL_REGISTRY[t].mailbox.receive()},send:function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i.from=t,ta(e,r,n,i)},sendSelf:function(e,r,n){to.FCL_REGISTRY[t]&&ta(t,e,r,n)},broadcast:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.from=t;var i,o=e6(to.FCL_REGISTRY[t].subs);try{for(o.s();!(i=o.n()).done;){var s=i.value;ta(s,e,r,n)}}catch(e){o.e(e)}finally{o.f()}},subscribe:function(e){return null!=e&&to.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&to.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return to.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!to.FCL_REGISTRY[t].subs.size},put:function(e,r){null!=e&&(to.FCL_REGISTRY[t].kvs[e]=r)},get:function(e,r){var n=to.FCL_REGISTRY[t].kvs[e];return null==n?r:n},delete:function(e){delete to.FCL_REGISTRY[t].kvs[e]},update:function(e,r){null!=e&&(to.FCL_REGISTRY[t].kvs[e]=r(to.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(to.FCL_REGISTRY[t].kvs)},all:function(){return to.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(to.FCL_REGISTRY[t].kvs).reduce(function(r,n){return e.test(n)?e5(e5({},r),{},e2({},n,to.FCL_REGISTRY[t].kvs[n])):r},{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach(function(r){return to.FCL_REGISTRY[t].kvs[r]=e[r]})},fatalError:function(e){to.FCL_REGISTRY[t].error=e;var r,n=e6(to.FCL_REGISTRY[t].subs);try{for(n.s();!(r=n.n()).done;){var i=r.value;ta(i,tr)}}catch(e){n.e(e)}finally{n.f()}}};return"object"===e0(e)&&(e=tc(e)),e4()(e$(eX().mark(function n(){return eX().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(r);case 2:tu(t);case 3:case"end":return n.stop()}},n)}))),t};function tf(e,t,r){t(e);var n,i="@EXIT",o=tl((n=e$(eX().mark(function t(n){var o,s;return eX().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.send(e,te);case 1:return t.next=4,n.receive();case 4:if(o=t.sent,s=to.FCL_REGISTRY[e].error,o.tag!==i){t.next=9;break}return n.send(e,tt),t.abrupt("return");case 9:if(!s){t.next=13;break}return r(null,s),n.send(e,tt),t.abrupt("return");case 13:r(o.data,null),t.next=1;break;case 16:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)}));return function(){return ta(o,i)}}function tp(e,t){return t(e),ta(e,tn,null,{expectReply:!0,timeout:0})}var th="config",td="PUT_CONFIG",tg="GET_CONFIG",ty="GET_ALL_CONFIG",tv="UPDATE_CONFIG",tm="DELETE_CONFIG",tb="CLEAR_CONFIG",tw="WHERE_CONFIG",t_="CONFIG/UPDATED",tE=function(e){return e},tx=(e2(em={},td,function(e,t,r){var n=r.key,i=r.value;if(null==n)throw Error("Missing 'key' for config/put.");e.put(n,i),e.broadcast(t_,e5({},e.all()))}),e2(em,tg,function(e,t,r){var n=r.key,i=r.fallback;if(null==n)throw Error("Missing 'key' for config/get");t.reply(e.get(n,i))}),e2(em,ty,function(e,t){t.reply(e5({},e.all()))}),e2(em,tv,function(e,t,r){var n=r.key,i=r.fn;if(null==n)throw Error("Missing 'key' for config/update");e.update(n,i||tE),e.broadcast(t_,e5({},e.all()))}),e2(em,tm,function(e,t,r){var n=r.key;if(null==n)throw Error("Missing 'key' for config/delete");e.delete(n),e.broadcast(t_,e5({},e.all()))}),e2(em,tb,function(e,t){for(var r=Object.keys(e.all()),n=0;n<r.length;n++){var i=r[n];e.delete(i)}e.broadcast(t_,e5({},e.all()))}),e2(em,tw,function(e,t,r){var n=r.pattern;if(null==n)throw Error("Missing 'pattern' for config/where");t.reply(e.where(n))}),e2(em,te,function(e,t){e.subscribe(t.from),e.send(t.from,t_,e5({},e.all()))}),e2(em,tt,function(e,t){e.unsubscribe(t.from)}),em);function tS(e,t){return ta(th,td,{key:e,value:t}),tP()}function tI(e,t){return ta(th,tg,{key:e,fallback:t},{expectReply:!0,timeout:10})}function tR(){return tk.apply(this,arguments)}function tk(){return(tk=e$(eX().mark(function e(){var t,r,n,i,o,s,a=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:[],r=a.length>1?a[1]:void 0,t.length){e.next=4;break}return e.abrupt("return",r);case 4:return i=(n=eZ(t))[0],o=n.slice(1),e.next=7,tI(i);case 7:if(null!=(s=e.sent)){e.next=10;break}return e.abrupt("return",tR(o,r));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function tD(){return ta(th,ty,null,{expectReply:!0,timeout:10})}function tA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tE;return ta(th,tv,{key:e,fn:t}),tP()}function tC(e){return ta(th,tm,{key:e}),tP()}function tO(e){return ta(th,tw,{pattern:e},{expectReply:!0,timeout:10})}function tT(e){return tf(th,function(){return tl(tx,th)},e)}function tN(e){return ta(th,tb).then(tP(e))}function tP(e){return null!=e&&"object"===e0(e)&&Object.keys(e).map(function(t){return tS(t,e[t])}),{put:tS,get:tI,all:tD,first:tR,update:tA,delete:tC,where:tO,subscribe:tT,overload:tU}}tl(tx,th),tP.put=tS,tP.get=tI,tP.all=tD,tP.first=tR,tP.update=tA,tP.delete=tC,tP.where=tO,tP.subscribe=tT,tP.overload=tU;var tL=function(e){return e};function tU(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tL;return new Promise((e=e$(eX().mark(function e(n,i){var o,s;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tD();case 2:return o=e.sent,e.prev=3,tP(t),e.t0=r,e.next=8,tD();case 8:return e.t1=e.sent,e.next=11,(0,e.t0)(e.t1);case 11:return s=e.sent,e.next=14,tN(o);case 14:n(s),e.next=22;break;case 17:return e.prev=17,e.t2=e.catch(3),e.next=21,tN(o);case 21:i(e.t2);case 22:case"end":return e.stop()}},e,null,[[3,17]])})),function(t,r){return e.apply(this,arguments)}))}function tM(e,t){if(!e){var r,n=Error("INVARIANT ".concat(t));n.stack=n.stack.split("\n").filter(function(e){return!/at invariant/.test(e)}).join("\n");for(var i=arguments.length,o=Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];throw(r=console).error.apply(r,["\n\n---\n\n",n,"\n\n"].concat(o,["\n\n---\n\n"])),n}}function tB(e){return function(e){if(Array.isArray(e))return eW(e)}(e)||eQ(e)||eH(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tj=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),tF=function(e){var t=e.title,r=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(r,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},tz=(n=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c,l,f,p,h;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.title,u=t.message,c=t.level,f=void 0!==(l=t.always)&&l,e.next=3,tP.get("logger.level",tj.warn);case 3:if(p=e.sent,!(!f&&p<c)){e.next=6;break}return e.abrupt("return");case 6:h=tF({title:a,message:u}),e.t0=c,e.next=e.t0===tj.debug?10:e.t0===tj.info?12:e.t0===tj.warn?14:e.t0===tj.error?16:18;break;case 10:return(r=console).debug.apply(r,tB(h)),e.abrupt("break",19);case 12:return(n=console).info.apply(n,tB(h)),e.abrupt("break",19);case 14:return(i=console).warn.apply(i,tB(h)),e.abrupt("break",19);case 16:return(o=console).error.apply(o,tB(h)),e.abrupt("break",19);case 18:(s=console).log.apply(s,tB(h));case 19:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});tz.deprecate=function(e){var t=e.pkg,r=e.subject,n=e.transition,i=e.level,o=void 0===i?tj.warn:i,s=e.message,a=void 0===s?"":s,u=e.callback,c=void 0===u?null:u,l=function(){return tz({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat(r.charAt(0).toUpperCase()+r.slice(1)," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(a?"\n"+a:"").concat(n?"\nYou can learn more (including a guide on common transition paths) here: ".concat(n):"","\n    ").trim(),level:o})};return"function"==typeof c?e$(eX().mark(function e(){var t=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.next=4,c.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)})):l()};var tq=r(8764);function tG(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(tG(e[r]));var n=tq.Buffer.concat(t);return tq.Buffer.concat([tW(n.length,192),n])}var i=function(e){if(!tq.Buffer.isBuffer(e)){var t,r;if("string"==typeof e)return tH(e)?tq.Buffer.from((t="string"!=typeof e?e:tH(e)?e.slice(2):e).length%2?"0"+t:t,"hex"):tq.Buffer.from(e);if("number"==typeof e)return e?(r=tV(e),tq.Buffer.from(r,"hex")):tq.Buffer.from([]);if(null==e)return tq.Buffer.from([]);if(e instanceof Uint8Array)return tq.Buffer.from(e);else throw Error("invalid type")}return e}(e);return 1===i.length&&i[0]<128?i:tq.Buffer.concat([tW(i.length,128),i])}function tW(e,t){if(e<56)return tq.Buffer.from([e+t]);var r=tV(e),n=tV(t+55+r.length/2);return tq.Buffer.from(n+r,"hex")}function tH(e){return"0x"===e.slice(0,2)}function tV(e){if(e<0)throw Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function tK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e1(n.key),n)}}function tJ(e,t){return(tJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function t$(e){return(t$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tY(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function tX(e,t,r){return(tX=tY()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&tJ(i,r.prototype),i}).apply(null,arguments)}function tQ(e){var t="function"==typeof Map?new Map:void 0;return(tQ=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return tX(e,arguments,t$(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),tJ(r,e)})(e)}var tZ=r(3300),t0=r.n(tZ);function t1(e){return null==e?null:e.replace(/^0x/,"").replace(/^Fx/,"")}function t2(e){return null==e?null:"0x"+t1(e)}var t3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tJ(e,t)}(a,e);var t,r,n,i,o,s=(t=a,r=tY(),function(){var e,n=t$(t);if(r){var i=t$(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===e0(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){var t,r=e.error,n=e.hostname,i=e.path,o=e.method,u=e.requestBody,c=e.responseBody,l=e.responseStatusText,f=e.statusCode;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);var p="\n      HTTP Request Error: An error occurred when interacting with the Access API.\n      ".concat(r?"error=".concat(r):"","\n      ").concat(n?"hostname=".concat(n):"","\n      ").concat(i?"path=".concat(i):"","\n      ").concat(o?"method=".concat(o):"","\n      ").concat(u?"requestBody=".concat(u):"","\n      ").concat(c?"responseBody=".concat(c):"","\n      ").concat(l?"responseStatusText=".concat(l):"","\n      ").concat(f?"statusCode=".concat(f):"","\n    ");return(t=s.call(this,p)).name="HTTP Request Error",t.statusCode=f,t.errorMessage=r,t}return n=a,i&&tK(n.prototype,i),o&&tK(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}(tQ(Error));function t5(e){return t6.apply(this,arguments)}function t6(){return(t6=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c,l,f,p,h,d;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d=function(){return(d=e$(eX().mark(function e(){var t,r,n=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:0,e.prev=1,e.next=4,p();case 4:return r=e.sent,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(1),![408,429,500,502,503,504].includes(e.t0.statusCode)){e.next=17;break}return e.next=14,new Promise(function(r,n){t<u?(console.warn("Access node unavailable, retrying in ".concat(l," ms...")),setTimeout(function(){r(h(t+1))},l)):n(e.t0)});case 14:return e.abrupt("return",e.sent);case 17:throw e.t0;case 18:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)},h=function(){return d.apply(this,arguments)},p=function(){return t0()("".concat(r).concat(n),{method:i,body:f,headers:s}).then(function(){var e=e$(eX().mark(function e(t){var o,s;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(!t.body){e.next=8;break}return e.next=5,t.text();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:throw s=function(e){try{return JSON.parse(e)}catch(e){return null}}(o=e.t0),new t3({error:null==s?void 0:s.message,hostname:r,path:n,method:i,requestBody:f,responseBody:o,responseStatusText:t.statusText,statusCode:t.status});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof t3)){e.next=2;break}throw t;case 2:return e.next=4,tz({title:"Access Node Error",message:"The provided access node ".concat(r," does not appear to be a valid REST/HTTP access node.\nPlease verify that you are not unintentionally using a GRPC access node.\nSee more here: https://docs.onflow.org/fcl/reference/sdk-guidelines/#connect"),level:tj.error});case 4:throw new t3({error:null==t?void 0:t.message,hostname:r,path:n,method:i,requestBody:f});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},r=t.hostname,n=t.path,i=t.method,o=t.body,s=t.headers,u=void 0===(a=t.retryLimit)?5:a,l=void 0===(c=t.retryIntervalMs)?1e3:c,f=o?JSON.stringify(o):null,e.next=7,h();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function t8(){return(t8=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/scripts?block_id=".concat(t.block.id),method:"POST",body:{script:r.Buffer.from(t.message.cadence).toString("base64"),arguments:t.message.arguments.map(function(e){return r.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")})}});case 3:return o=e.sent,e.abrupt("return",t9(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function t4(){return(t4=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/scripts?block_height=".concat(t.block.height),method:"POST",body:{script:r.Buffer.from(t.message.cadence).toString("base64"),arguments:t.message.arguments.map(function(e){return r.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")})}});case 3:return o=e.sent,e.abrupt("return",t9(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function t7(){return(t7=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/scripts?block_height=sealed",method:"POST",body:{script:r.Buffer.from(t.message.cadence).toString("base64"),arguments:t.message.arguments.map(function(e){return r.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")})}});case 3:return o=e.sent,e.abrupt("return",t9(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function t9(e,t,r){var n=t.response();return n.tag=e.tag,n.encodedData=JSON.parse(t.Buffer.from(r,"base64").toString()),n}function re(){return(re=e$(eX().mark(function e(t){var r,n,i=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},tM((n=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Execute Script Error: opts.node must be defined."),tM(r.response,"SDK Send Execute Script Error: context.response must be defined."),tM(r.Buffer,"SDK Send Execute Script Error: context.Buffer must be defined."),e.next=7,t;case 7:if(!(t=e.sent).block.id){e.next=14;break}return e.next=11,function(e,t,r){return t8.apply(this,arguments)}(t,r,n);case 11:case 17:case 22:return e.abrupt("return",e.sent);case 14:if(!t.block.height){e.next=20;break}return e.next=17,function(e,t,r){return t4.apply(this,arguments)}(t,r,n);case 20:return e.next=22,function(e,t,r){return t7.apply(this,arguments)}(t,r,n);case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}var rt={SHA2_256:1,SHA2_384:2,SHA3_256:3,SHA3_384:4,KMAC128_BLS_BLS12_381:5},rr={ECDSA_P256:1,ECDSA_secp256k1:2,BLS_BLS12_381:3};function rn(){return(rn=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/accounts/".concat(t.account.addr,"?block_height=").concat(t.block.height,"&expand=contracts,keys"),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",ro(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ri(){return(ri=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/accounts/".concat(t.account.addr,"?block_height=sealed&expand=contracts,keys"),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",ro(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ro(e,t,r){var n,i,o=t.response();return o.tag=e.tag,o.account={address:r.address,balance:Number(r.balance),code:"",contracts:function(e){var r={};if(!e)return r;for(var n=0,i=Object.keys(e);n<i.length;n++){var o=i[n];r[o]=t.Buffer.from(e[o],"base64").toString()}return r}(r.contracts),keys:null!==(n=null===(i=r.keys)||void 0===i?void 0:i.map(function(e){return{index:Number(e.index),publicKey:e.public_key.replace(/^0x/,""),signAlgo:rr[e.signing_algorithm],signAlgoString:e.signing_algorithm,hashAlgo:rt[e.hashing_algorithm],hashAlgoString:e.hashing_algorithm,sequenceNumber:Number(e.sequence_number),weight:Number(e.weight),revoked:e.revoked}}))&&void 0!==n?n:[]},o}function rs(){return(rs=e$(eX().mark(function e(t){var r,n,i=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},tM((n=i.length>2&&void 0!==i[2]?i[2]:{}).node,"SDK Send Get Account Error: opts.node must be defined."),tM(r.response,"SDK Send Get Account Error: context.response must be defined."),tM(r.Buffer,"SDK Send Get Account Error: context.Buffer must be defined."),e.next=7,t;case 7:if(!(null!==(t=e.sent).block.height)){e.next=14;break}return e.next=11,function(e,t,r){return rn.apply(this,arguments)}(t,r,n);case 11:case 16:return e.abrupt("return",e.sent);case 14:return e.next=16,function(e,t,r){return ri.apply(this,arguments)}(t,r,n);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ra(){return(ra=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/blocks/".concat(t.block.id),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",rl(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ru(){return(ru=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/blocks?height=".concat(t.block.height),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",rl(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rc(){return(rc=e$(eX().mark(function e(t,r,n){var i,o,s,a;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.httpRequest||t5,s=null!==(i=t.block)&&void 0!==i&&i.isSealed?"sealed":"finalized",e.next=4,o({hostname:n.node,path:"/v1/blocks?height=".concat(s),method:"GET",body:null});case 4:return a=e.sent,e.abrupt("return",rl(t,r,a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rl(e,t,r){var n=r.length?r[0]:null,i=t.response();return i.tag=e.tag,i.blockHeader={id:n.header.id,parentId:n.header.parent_id,height:Number(n.header.height),timestamp:n.header.timestamp},i}function rf(){return(rf=e$(eX().mark(function e(t){var r,n,i,o,s=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},tM((n=s.length>2&&void 0!==s[2]?s[2]:{}).node,"SDK Send Get Block Header Error: opts.node must be defined."),tM(r.response,"SDK Send Get Block Header Error: context.response must be defined."),e.next=6,t;case 6:if(i=null!==(t=e.sent).block.id,o=null!==t.block.height,!i){e.next=15;break}return e.next=12,function(e,t,r){return ra.apply(this,arguments)}(t,r,n);case 12:case 18:case 23:return e.abrupt("return",e.sent);case 15:if(!o){e.next=21;break}return e.next=18,function(e,t,r){return ru.apply(this,arguments)}(t,r,n);case 21:return e.next=23,function(e,t,r){return rc.apply(this,arguments)}(t,r,n);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rp(){return(rp=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/blocks/".concat(t.block.id,"?expand=payload"),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",rg(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rh(){return(rh=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/blocks?height=".concat(t.block.height,"&expand=payload"),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",rg(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rd(){return(rd=e$(eX().mark(function e(t,r,n){var i,o,s,a;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.httpRequest||t5,s=null!==(i=t.block)&&void 0!==i&&i.isSealed?"sealed":"final",e.next=4,o({hostname:n.node,path:"/v1/blocks?height=".concat(s,"&expand=payload"),method:"GET",body:null});case 4:return a=e.sent,e.abrupt("return",rg(t,r,a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rg(e,t,r){var n=r.length?r[0]:null,i=t.response();return i.tag=e.tag,i.block={id:n.header.id,parentId:n.header.parent_id,height:Number(n.header.height),timestamp:n.header.timestamp,collectionGuarantees:n.payload.collection_guarantees.map(function(e){return{collectionId:e.collection_id,signerIds:e.signer_ids}}),blockSeals:n.payload.block_seals.map(function(e){return{blockId:e.block_id,executionReceiptId:e.result_id}})},i}function ry(){return(ry=e$(eX().mark(function e(t){var r,n,i,o,s=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},tM((n=s.length>2&&void 0!==s[2]?s[2]:{}).node,"SDK Send Get Block Error: opts.node must be defined."),tM(r.response,"SDK Send Get Block Error: context.response must be defined."),e.next=6,t;case 6:if(i=null!==(t=e.sent).block.id,o=null!==t.block.height,!i){e.next=15;break}return e.next=12,function(e,t,r){return rp.apply(this,arguments)}(t,r,n);case 12:case 18:case 23:return e.abrupt("return",e.sent);case 15:if(!o){e.next=21;break}return e.next=18,function(e,t,r){return rh.apply(this,arguments)}(t,r,n);case 21:return e.next=23,function(e,t,r){return rd.apply(this,arguments)}(t,r,n);case 24:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rv(){return(rv=e$(eX().mark(function e(t){var r,n,i,o,s,a=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},tM((n=a.length>2&&void 0!==a[2]?a[2]:{}).node,"SDK Send Get Collection Error: opts.node must be defined."),tM(r.response,"SDK Send Get Collection Error: context.response must be defined."),i=n.httpRequest||t5,e.next=7,i({hostname:n.node,path:"/v1/collections/".concat(t.collection.id,"?expand=transactions"),method:"GET",body:null});case 7:return o=e.sent,(s=r.response()).tag=t.tag,s.collection={id:o.id,transactionIds:o.transactions.map(function(e){return e.id})},e.abrupt("return",s);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rm(){return(rm=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/events?type=".concat(t.events.eventType,"&start_height=").concat(t.events.start,"&end_height=").concat(t.events.end),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",rw(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rb(){return(rb=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.httpRequest||t5,e.next=3,i({hostname:n.node,path:"/v1/events?type=".concat(t.events.eventType,"&block_ids=").concat(t.events.blockIds.join(",")),method:"GET",body:null});case 3:return o=e.sent,e.abrupt("return",rw(t,r,o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rw(e,t,r){var n=t.response();return n.tag=e.tag,n.events=[],r.forEach(function(e){return e.events?e.events.forEach(function(r){return n.events.push({blockId:e.block_id,blockHeight:Number(e.block_height),blockTimestamp:e.block_timestamp,type:r.type,transactionId:r.transaction_id,transactionIndex:Number(r.transaction_index),eventIndex:Number(r.event_index),payload:JSON.parse(t.Buffer.from(r.payload,"base64").toString())})}):null}),n}function r_(){return(r_=e$(eX().mark(function e(t){var r,n,i,o,s=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},tM((n=s.length>2&&void 0!==s[2]?s[2]:{}).node,"SDK Send Get Events Error: opts.node must be defined."),tM(r.response,"SDK Send Get Events Error: context.response must be defined."),tM(r.Buffer,"SDK Send Get Events Error: context.Buffer must be defined."),e.next=7,t;case 7:if(i=null!==(t=e.sent).events.start,o=Array.isArray(t.events.blockIds)&&t.events.blockIds.length>0,tM(i||o,"SendGetEventsError: Unable to determine which get events request to send. Either a block height range, or block IDs must be specified."),!i){e.next=17;break}return e.next=14,function(e,t,r){return rm.apply(this,arguments)}(t,r,n);case 14:case 19:return e.abrupt("return",e.sent);case 17:return e.next=19,function(e,t,r){return rb.apply(this,arguments)}(t,r,n);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rE(){return(rE=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},tM((n=c.length>2&&void 0!==c[2]?c[2]:{}).node,"SDK Send Get Transaction Error: opts.node must be defined."),tM(r.response,"SDK Send Get Transaction Error: context.response must be defined."),tM(r.Buffer,"SDK Send Get Transaction Error: context.Buffer must be defined."),i=n.httpRequest||t5,e.next=8,t;case 8:return t=e.sent,e.next=11,i({hostname:n.node,path:"/v1/transactions/".concat(t.transaction.id),method:"GET",body:null});case 11:var l;return o=e.sent,s=function(e){return{address:e.address,keyId:Number(e.key_index),signature:e.signature}},a=function(e){return JSON.parse(r.Buffer.from(e,"base64").toString())},(u=r.response()).tag=t.tag,u.transaction={script:r.Buffer.from(o.script,"base64").toString(),args:tB(o.arguments.map(a)),referenceBlockId:o.reference_block_id,gasLimit:Number(o.gas_limit),payer:o.payer,proposalKey:o.proposal_key?{address:(l=o.proposal_key).address,keyId:Number(l.key_id),sequenceNumber:Number(l.sequence_number)}:o.proposal_key,authorizers:o.authorizers,payloadSignatures:tB(o.payload_signatures.map(s)),envelopeSignatures:tB(o.envelope_signatures.map(s))},e.abrupt("return",u);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}var rx={UNKNOWN:0,PENDING:1,FINALIZED:2,EXECUTED:3,SEALED:4,EXPIRED:5};function rS(){return(rS=e$(eX().mark(function e(t){var r,n,i,o,s,a=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},tM((n=a.length>2&&void 0!==a[2]?a[2]:{}).node,"SDK Send Get Transaction Status Error: opts.node must be defined."),tM(r.response,"SDK Send Get Transaction Status Error: context.response must be defined."),tM(r.Buffer,"SDK Send Get Transaction Status Error: context.Buffer must be defined."),i=n.httpRequest||t5,e.next=8,t;case 8:return t=e.sent,e.next=11,i({hostname:n.node,path:"/v1/transaction_results/".concat(t.transaction.id),method:"GET",body:null});case 11:return o=e.sent,(s=r.response()).tag=t.tag,s.transactionStatus={blockId:o.block_id,status:rx[o.status.toUpperCase()]||"",statusString:o.status.toUpperCase(),statusCode:o.status_code,errorMessage:o.error_message,events:o.events.map(function(e){return{type:e.type,transactionId:e.transaction_id,transactionIndex:Number(e.transaction_index),eventIndex:Number(e.event_index),payload:JSON.parse(r.Buffer.from(e.payload,"base64").toString())}})},e.abrupt("return",s);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rI(){return(rI=e$(eX().mark(function e(t){var r,n,i,o,s=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},tM((n=s.length>2&&void 0!==s[2]?s[2]:{}).node,"SDK Send Ping Error: opts.node must be defined."),tM(r.response,"SDK Send Ping Error: context.response must be defined."),i=n.httpRequest||t5,e.next=7,i({hostname:n.node,path:"/v1/blocks?height=sealed",method:"GET",body:null});case 7:return(o=r.response()).tag=t.tag,e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rR(){return(rR=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c,l,f,p,h,d,g,y,v,m=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:{},tM((n=m.length>2&&void 0!==m[2]?m[2]:{}).node,"SDK Send Transaction Error: opts.node must be defined."),tM(r.response,"SDK Send Transaction Error: context.response must be defined."),tM(r.Buffer,"SDK Send Transaction Error: context.Buffer must be defined."),i=n.httpRequest||t5,e.next=8,t;case 8:t=e.sent,o=[],s=0,a=Object.values(t.accounts);case 11:if(!(s<a.length)){e.next=24;break}u=a[s],e.prev=13,u.role.payer||null==u.signature||o.push({address:t1(u.addr),key_index:String(u.keyId),signature:r.Buffer.from(u.signature,"hex").toString("base64")}),e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(13),console.error("SDK HTTP Send Error: Trouble applying payload signature",{acct:u,ix:t}),e.t0;case 21:s++,e.next=11;break;case 24:c={},l=0,f=Object.values(t.accounts);case 26:if(!(l<f.length)){e.next=39;break}if(p=f[l],e.prev=28,p.role.payer&&null!=p.signature){var b;c[h=p.tempId||(b=p,"".concat(withPrefix(b.addr),"-").concat(b.keyId))]=c[h]||{address:t1(p.addr),key_index:String(p.keyId),signature:r.Buffer.from(p.signature,"hex").toString("base64")}}e.next=36;break;case 32:throw e.prev=32,e.t1=e.catch(28),console.error("SDK HTTP Send Error: Trouble applying envelope signature",{acct:p,ix:t}),e.t1;case 36:l++,e.next=26;break;case 39:return c=Object.values(c),d=Date.now(),e.next=43,i({hostname:n.node,path:"/v1/transactions",method:"POST",body:{script:r.Buffer.from(t.message.cadence).toString("base64"),arguments:tB(t.message.arguments.map(function(e){return r.Buffer.from(JSON.stringify(t.arguments[e].asArgument)).toString("base64")})),reference_block_id:t.message.refBlock?t.message.refBlock:null,gas_limit:String(t.message.computeLimit),payer:t1(t.accounts[Array.isArray(t.payer)?t.payer[0]:t.payer].addr),proposal_key:{address:t1(t.accounts[t.proposer].addr),key_index:String(t.accounts[t.proposer].keyId),sequence_number:String(t.accounts[t.proposer].sequenceNum)},authorizers:t.authorizations.map(function(e){return t.accounts[e].addr}).reduce(function(e,t){return e.find(function(e){return e===t})?e:[].concat(tB(e),[t])},[]).map(t1),payload_signatures:o,envelope_signatures:c}});case 43:return g=e.sent,y=Date.now(),(v=r.response()).tag=t.tag,v.transactionId=g.id,"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("FLOW::TX",{detail:{txId:v.transactionId,delta:y-d}})),e.abrupt("return",v);case 50:case"end":return e.stop()}},e,null,[[13,17],[28,32]])}))).apply(this,arguments)}var rk=(i=e$(eX().mark(function e(t){var r,n,i=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},tM((n=i.length>2&&void 0!==i[2]?i[2]:{}).node,'SDK Send Error: Either opts.node or "accessNode.api" in config must be defined.'),tM(r.ix,"SDK Send Error: context.ix must be defined."),e.next=6,t;case 6:t=e.sent,e.t0=!0,e.next=e.t0===r.ix.isTransaction(t)?10:e.t0===r.ix.isGetTransactionStatus(t)?11:e.t0===r.ix.isGetTransaction(t)?12:e.t0===r.ix.isScript(t)?13:e.t0===r.ix.isGetAccount(t)?14:e.t0===r.ix.isGetEvents(t)?15:e.t0===r.ix.isGetBlock(t)?16:e.t0===r.ix.isGetBlockHeader(t)?17:e.t0===r.ix.isGetCollection(t)?18:e.t0===r.ix.isPing(t)?19:20;break;case 10:return e.abrupt("return",n.sendTransaction?n.sendTransaction(t,r,n):function(e){return rR.apply(this,arguments)}(t,r,n));case 11:return e.abrupt("return",n.sendGetTransactionStatus?n.sendGetTransactionStatus(t,r,n):function(e){return rS.apply(this,arguments)}(t,r,n));case 12:return e.abrupt("return",n.sendGetTransaction?n.sendGetTransaction(t,r,n):function(e){return rE.apply(this,arguments)}(t,r,n));case 13:return e.abrupt("return",n.sendExecuteScript?n.sendExecuteScript(t,r,n):function(e){return re.apply(this,arguments)}(t,r,n));case 14:return e.abrupt("return",n.sendGetAccount?n.sendGetAccount(t,r,n):function(e){return rs.apply(this,arguments)}(t,r,n));case 15:return e.abrupt("return",n.sendGetEvents?n.sendGetEvents(t,r,n):function(e){return r_.apply(this,arguments)}(t,r,n));case 16:return e.abrupt("return",n.sendGetBlock?n.sendGetBlock(t,r,n):function(e){return ry.apply(this,arguments)}(t,r,n));case 17:return e.abrupt("return",n.sendGetBlockHeader?n.sendGetBlockHeader(t,r,n):function(e){return rf.apply(this,arguments)}(t,r,n));case 18:return e.abrupt("return",n.sendGetCollection?n.sendGetCollection(t,r,n):function(e){return rv.apply(this,arguments)}(t,r,n));case 19:return e.abrupt("return",n.sendPing?n.sendPing(t,r,n):function(e){return rI.apply(this,arguments)}(t,r,n));case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)});r(5682);var rD="function"==typeof queueMicrotask?queueMicrotask:function(e){return(eb||(eb=Promise.resolve())).then(e).catch(function(e){return setTimeout(function(){throw e},0)})},rA=function(){var e,t=[];return{deliver:function(r){return e$(eX().mark(function n(){return eX().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.push(r),e&&(e(t.shift()),e=void 0);case 2:case"end":return n.stop()}},n)}))()},receive:function(){return new Promise(function(r){var n=t.shift();if(n)return r(n);e=r})}}},rC="INIT",rO="SUBSCRIBE",rT="UNSUBSCRIBE",rN="TERMINATE",rP=("undefined"==typeof self?"undefined":e0(self))==="object"&&self.self===self&&self||(void 0===r.g?"undefined":e0(r.g))==="object"&&r.g.global===r.g&&r.g||("undefined"==typeof window?"undefined":e0(window))==="object"&&window.window===window&&window;rP.FCL_REGISTRY=null==rP.FCL_REGISTRY?{}:rP.FCL_REGISTRY;var rL=0,rU=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(i,o){var s=n.expectReply||!1,a=null!=n.timeout?n.timeout:5e3;s&&a&&setTimeout(function(){return o(Error("Timeout: ".concat(a,"ms passed without a response.")))},a);var u={to:e,from:n.from,tag:t,data:r,timeout:a,reply:i,reject:o};try{rP.FCL_REGISTRY[e]&&rP.FCL_REGISTRY[e].mailbox.deliver(u),s||i(!0)}catch(t){console.error("FCL.Actor -- Could Not Deliver Message",u,rP.FCL_REGISTRY[e],t)}})},rM=function(e){delete rP.FCL_REGISTRY[e]},rB=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=e$(eX().mark(function e(r){var n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t[rC]){e.next=3;break}return e.next=3,t[rC](r);case 3:return e.next=6,r.receive();case 6:if(n=e.sent,e.prev=7,"EXIT"!==n.tag){e.next=13;break}if("function"!=typeof t[rN]){e.next=12;break}return e.next=12,t[rN](r,n,n.data||{});case 12:return e.abrupt("break",25);case 13:return e.next=15,t[n.tag](r,n,n.data||{});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.error("".concat(r.self()," Error"),n,e.t0);case 20:return e.prev=20,e.abrupt("continue",3);case 23:e.next=3;break;case 25:case"end":return e.stop()}},e,null,[[7,17,20,23]])})),function(t){return e.apply(this,arguments)}},rj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t&&(t=++rL),null!=rP.FCL_REGISTRY[t])return t;rP.FCL_REGISTRY[t]={addr:t,mailbox:rA(),subs:new Set,kvs:{},error:null};var r={self:function(){return t},receive:function(){return rP.FCL_REGISTRY[t].mailbox.receive()},send:function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i.from=t,rU(e,r,n,i)},sendSelf:function(e,r,n){rP.FCL_REGISTRY[t]&&rU(t,e,r,n)},broadcast:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.from=t;var i,o=e6(rP.FCL_REGISTRY[t].subs);try{for(o.s();!(i=o.n()).done;){var s=i.value;rU(s,e,r,n)}}catch(e){o.e(e)}finally{o.f()}},subscribe:function(e){return null!=e&&rP.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&rP.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return rP.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!rP.FCL_REGISTRY[t].subs.size},put:function(e,r){null!=e&&(rP.FCL_REGISTRY[t].kvs[e]=r)},get:function(e,r){var n=rP.FCL_REGISTRY[t].kvs[e];return null==n?r:n},delete:function(e){delete rP.FCL_REGISTRY[t].kvs[e]},update:function(e,r){null!=e&&(rP.FCL_REGISTRY[t].kvs[e]=r(rP.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(rP.FCL_REGISTRY[t].kvs)},all:function(){return rP.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(rP.FCL_REGISTRY[t].kvs).reduce(function(r,n){return e.test(n)?e5(e5({},r),{},e2({},n,rP.FCL_REGISTRY[t].kvs[n])):r},{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach(function(r){return rP.FCL_REGISTRY[t].kvs[r]=e[r]})},fatalError:function(e){rP.FCL_REGISTRY[t].error=e;var r,n=e6(rP.FCL_REGISTRY[t].subs);try{for(n.s();!(r=n.n()).done;){var i=r.value;rU(i,"UPDATED")}}catch(e){n.e(e)}finally{n.f()}}};return"object"===e0(e)&&(e=rB(e)),rD(e$(eX().mark(function n(){return eX().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(r);case 2:rM(t);case 3:case"end":return n.stop()}},n)}))),t},rF="config",rz="PUT_CONFIG",rq="GET_CONFIG",rG="GET_ALL_CONFIG",rW="UPDATE_CONFIG",rH="DELETE_CONFIG",rV="CLEAR_CONFIG",rK="WHERE_CONFIG",rJ="CONFIG/UPDATED",r$=function(e){return e},rY=(e2(ew={},rz,function(e,t,r){var n=r.key,i=r.value;if(null==n)throw Error("Missing 'key' for config/put.");e.put(n,i),e.broadcast(rJ,e5({},e.all()))}),e2(ew,rq,function(e,t,r){var n=r.key,i=r.fallback;if(null==n)throw Error("Missing 'key' for config/get");t.reply(e.get(n,i))}),e2(ew,rG,function(e,t){t.reply(e5({},e.all()))}),e2(ew,rW,function(e,t,r){var n=r.key,i=r.fn;if(null==n)throw Error("Missing 'key' for config/update");e.update(n,i||r$),e.broadcast(rJ,e5({},e.all()))}),e2(ew,rH,function(e,t,r){var n=r.key;if(null==n)throw Error("Missing 'key' for config/delete");e.delete(n),e.broadcast(rJ,e5({},e.all()))}),e2(ew,rV,function(e,t){for(var r=Object.keys(e.all()),n=0;n<r.length;n++){var i=r[n];e.delete(i)}e.broadcast(rJ,e5({},e.all()))}),e2(ew,rK,function(e,t,r){var n=r.pattern;if(null==n)throw Error("Missing 'pattern' for config/where");t.reply(e.where(n))}),e2(ew,rO,function(e,t){e.subscribe(t.from),e.send(t.from,rJ,e5({},e.all()))}),e2(ew,rT,function(e,t){e.unsubscribe(t.from)}),ew);function rX(e,t){return rU(rF,rz,{key:e,value:t}),r8()}function rQ(e,t){return rU(rF,rq,{key:e,fallback:t},{expectReply:!0,timeout:10})}function rZ(){return r0.apply(this,arguments)}function r0(){return(r0=e$(eX().mark(function e(){var t,r,n,i,o,s,a=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:[],r=a.length>1?a[1]:void 0,t.length){e.next=4;break}return e.abrupt("return",r);case 4:return i=(n=eZ(t))[0],o=n.slice(1),e.next=7,rQ(i);case 7:if(null!=(s=e.sent)){e.next=10;break}return e.abrupt("return",rZ(o,r));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function r1(){return rU(rF,rG,null,{expectReply:!0,timeout:10})}function r2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r$;return rU(rF,rW,{key:e,fn:t}),r8()}function r3(e){return rU(rF,rH,{key:e}),r8()}function r5(e){return rU(rF,rK,{pattern:e},{expectReply:!0,timeout:10})}function r6(e){var t,r,n;return rj(rY,rF),t="@EXIT",n=rj((r=e$(eX().mark(function r(n){var i,o;return eX().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n.send(rF,rO);case 1:return r.next=4,n.receive();case 4:if(i=r.sent,o=rP.FCL_REGISTRY[rF].error,i.tag!==t){r.next=9;break}return n.send(rF,rT),r.abrupt("return");case 9:if(!o){r.next=13;break}return e(null,o),n.send(rF,rT),r.abrupt("return");case 13:e(i.data,null),r.next=1;break;case 16:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)})),function(){return rU(n,t)}}function r8(e){return null!=e&&"object"===e0(e)&&Object.keys(e).map(function(t){return rX(t,e[t])}),{put:rX,get:rQ,all:r1,first:rZ,update:r2,delete:r3,where:r5,subscribe:r6,overload:r7}}rj(rY,rF),r8.put=rX,r8.get=rQ,r8.all=r1,r8.first=rZ,r8.update=r2,r8.delete=r3,r8.where=r5,r8.subscribe=r6,r8.overload=r7;var r4=function(e){return e};function r7(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r4;return new Promise((e=e$(eX().mark(function e(n,i){var o,s;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r1();case 2:return o=e.sent,e.prev=3,r8(t),e.t0=r,e.next=8,r1();case 8:return e.t1=e.sent,e.next=11,(0,e.t0)(e.t1);case 11:return s=e.sent,e.next=14,rU(rF,rV);case 14:return e.next=16,r8(o);case 16:n(s),e.next=26;break;case 19:return e.prev=19,e.t2=e.catch(3),e.next=23,rU(rF,rV);case 23:return e.next=25,r8(o);case 25:i(e.t2);case 26:case"end":return e.stop()}},e,null,[[3,19]])})),function(t,r){return e.apply(this,arguments)}))}var r9=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),ne=function(e){var t=e.title,r=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(r,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},nt=(o=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c,l,f,p,h;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.title,u=t.message,c=t.level,f=void 0!==(l=t.always)&&l,e.next=3,r8.get("logger.level",r9.warn);case 3:if(p=e.sent,!(!f&&p<c)){e.next=6;break}return e.abrupt("return");case 6:h=ne({title:a,message:u}),e.t0=c,e.next=e.t0===r9.debug?10:e.t0===r9.info?12:e.t0===r9.warn?14:e.t0===r9.error?16:18;break;case 10:return(r=console).debug.apply(r,tB(h)),e.abrupt("break",19);case 12:return(n=console).info.apply(n,tB(h)),e.abrupt("break",19);case 14:return(i=console).warn.apply(i,tB(h)),e.abrupt("break",19);case 16:return(o=console).error.apply(o,tB(h)),e.abrupt("break",19);case 18:(s=console).log.apply(s,tB(h));case 19:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)});function nr(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return"string"==typeof e?function(){return e}:Array.isArray(e)?function(t){return(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!t.length&&!r.length||!t.length)return n;if(!r.length)return[].concat(tB(n),[t[0]]);var i=eZ(t),o=i[0],s=i.slice(1),a=eZ(r),u=a[0],c=a.slice(1);return void 0!==o&&n.push(o),void 0!==u&&n.push(u),e(s,c,n)})(e,r.map(function e(t){return function(r){return"function"==typeof r?(nt.deprecate({pkg:"FCL/SDK",subject:"Interopolation of functions into template literals",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params"}),e(t)(r(t))):String(r)}}(t))).join("").trim()}:e}nt.deprecate=function(e){var t=e.pkg,r=e.subject,n=e.transition,i=e.level,o=void 0===i?r9.warn:i,s=e.message,a=void 0===s?"":s,u=e.callback,c=void 0===u?null:u,l=function(){return nt({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat(r.charAt(0).toUpperCase()+r.slice(1)," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(a?"\n"+a:"").concat(n?"\nYou can learn more (including a guide on common transition paths) here: ".concat(n):"","\n    ").trim(),level:o})};return"function"==typeof c?e$(eX().mark(function e(){var t=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.next=4,c.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)})):l()};var nn="UNKNOWN",ni="SCRIPT",no="TRANSACTION",ns="GET_TRANSACTION_STATUS",na="GET_ACCOUNT",nu="GET_EVENTS",nc="PING",nl="GET_TRANSACTION",nf="GET_BLOCK",np="GET_BLOCK_HEADER",nh="GET_COLLECTION",nd="ACCOUNT",ng="PARAM",ny="ARGUMENT",nv="authorizer",nm="payer",nb="proposer",nw='{\n  "kind":"'.concat(nd,'",\n  "tempId":null,\n  "addr":null,\n  "keyId":null,\n  "sequenceNum":null,\n  "signature":null,\n  "signingFunction":null,\n  "resolve":null,\n  "role": {\n    "proposer":false,\n    "authorizer":false,\n    "payer":false,\n    "param":false\n  }\n}'),n_='{\n  "kind":"'.concat(ny,'",\n  "tempId":null,\n  "value":null,\n  "asArgument":null,\n  "xform":null,\n  "resolve": null,\n  "resolveArgument": null\n}'),nE='{\n  "tag":"'.concat(nn,'",\n  "assigns":{},\n  "status":"').concat("OK",'",\n  "reason":null,\n  "accounts":{},\n  "params":{},\n  "arguments":{},\n  "message": {\n    "cadence":null,\n    "refBlock":null,\n    "computeLimit":null,\n    "proposer":null,\n    "payer":null,\n    "authorizations":[],\n    "params":[],\n    "arguments":[]\n  },\n  "proposer":null,\n  "authorizations":[],\n  "payer":[],\n  "events": {\n    "eventType":null,\n    "start":null,\n    "end":null,\n    "blockIds":[]\n  },\n  "transaction": {\n    "id":null\n  },\n  "block": {\n    "id":null,\n    "height":null,\n    "isSealed":null\n  },\n  "account": {\n    "addr":null\n  },\n  "collection": {\n    "id":null\n  }\n}'),nx=new Set(Object.keys(JSON.parse(nE))),nS=function(){return JSON.parse(nE)},nI="abcdefghijklmnopqrstuvwxyz0123456789".split(""),nR=function(){return nI[~~(Math.random()*nI.length)]},nk=function(){return Array.from({length:10},nR).join("")},nD=function(e){return"number"==typeof e},nA=function(e){return Array.isArray(e)},nC=function(e){return null!==e&&"object"===e0(e)},nO=function(e){return null==e},nT=function(e){return"function"==typeof e},nN=function(e){if(!nC(e)||nO(e)||nD(e))return!1;var t,r=e6(nx);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!e.hasOwnProperty(n))return!1}}catch(e){r.e(e)}finally{r.f()}return!0},nP=function(e){return e.status="OK",e},nL=function(e,t){return e.status="BAD",e.reason=t,e},nU=function(e){return function(t){return t.tag=e,nP(t)}},nM=function(e){return null==e.keyId?e:(tM(!isNaN(parseInt(e.keyId)),"account.keyId must be an integer"),e5(e5({},e),{},{keyId:parseInt(e.keyId)}))},nB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){tM("function"==typeof e||"object"===e0(e),"prepAccount must be passed an authorization function or an account object"),tM(null!=t.role,"Account must have a role");var n=JSON.parse(nw),i=t.role,o=nk();e.authorization&&nT(e.authorization)&&(e={resolve:e.authorization}),!e.authorization&&nT(e)&&(e={resolve:e});var s=e.resolve;return s&&(e.resolve=function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return[s,nM].reduce((t=e$(eX().mark(function e(t,r){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=void 0,e.next=4,t;case 4:return e.t2=e.sent,e.t3=[e.t2].concat(n),e.abrupt("return",e.t0.apply.call(e.t0,e.t1,e.t3));case 7:case"end":return e.stop()}},e)})),function(e,r){return t.apply(this,arguments)}),e)}),e=nM(e),r.accounts[o]=e5(e5(e5({},n),{},{tempId:o},e),{},{role:e5(e5(e5({},n.role),"object"===e0(e.role)?e.role:{}),{},e2({},i,!0))}),i===nv?r.authorizations.push(o):i===nm?r.payer.push(o):r[i]=o,r}},nj=function(e){return function(t){var r=nk();return t.message.arguments.push(r),t.arguments[r]=JSON.parse(n_),t.arguments[r].tempId=r,t.arguments[r].value=e.value,t.arguments[r].asArgument=e.asArgument,t.arguments[r].xform=e.xform,t.arguments[r].resolve=e.resolve,t.arguments[r].resolveArgument=nT(e.resolveArgument)?e.resolveArgument.bind(e):e.resolveArgument,nP(t)}},nF=nU(nn),nz=nU(ni),nq=nU(no),nG=nU(ns),nW=nU(nl),nH=nU(na),nV=nU(nu),nK=nU(nc),nJ=nU(nf),n$=nU(np),nY=nU(nh),nX=function(e){return function(t){return t.tag===e}},nQ=nX(nn),nZ=nX(ni),n0=nX(no),n1=nX(ns),n2=nX(nl),n3=nX(na),n5=nX(nu),n6=nX(nc),n8=nX(nf),n4=nX(np),n7=nX(nh),n9=function(e){return"BAD"===e.status},ie=function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if(!nx.has(n))throw Error('"'.concat(n,'" is an invalid root level Interaction property.'))}return e},it=(s=e$(eX().mark(function e(t){var r,n,i,o,s,a=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:[],e.prev=1,e.t0=ie,e.next=5,t;case 5:if(e.t1=e.sent,!n9(t=(0,e.t0)(e.t1))){e.next=9;break}throw Error("Interaction Error: ".concat(t.reason));case 9:if(r.length){e.next=11;break}return e.abrupt("return",t);case 11:return i=(n=eZ(r))[0],o=n.slice(1),e.next=14,i;case 14:if(!nT(s=e.sent)){e.next=17;break}return e.abrupt("return",it(s(t),o));case 17:if(!(nO(s)||!s)){e.next=19;break}return e.abrupt("return",it(t,o));case 19:if(!nN(s)){e.next=21;break}return e.abrupt("return",it(s,o));case 21:throw Error("Invalid Interaction Composition");case 24:throw e.prev=24,e.t2=e.catch(1),e.t2;case 27:case"end":return e.stop()}},e,null,[[1,24]])})),function(e){return s.apply(this,arguments)}),ir=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],o=r[1];return nA(i)&&null==o?function(t){return e(t,i)}:it(i,o)},ii=function(e){return e},io=function(e,t,r){return null==e.assigns[t]?r:e.assigns[t]},is=function(e,t){return function(r){return r.assigns[e]=t,nP(r)}},ia=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ii;return function(r){return r.assigns[e]=t(r.assigns[e],r),nP(r)}},iu=Object.freeze({__proto__:null,UNKNOWN:nn,SCRIPT:ni,TRANSACTION:no,GET_TRANSACTION_STATUS:ns,GET_ACCOUNT:na,GET_EVENTS:nu,PING:nc,GET_TRANSACTION:nl,GET_BLOCK:nf,GET_BLOCK_HEADER:np,GET_COLLECTION:nh,BAD:"BAD",OK:"OK",ACCOUNT:nd,PARAM:ng,ARGUMENT:ny,AUTHORIZER:nv,PAYER:nm,PROPOSER:nb,interaction:nS,uuid:nk,isNumber:nD,isArray:nA,isObj:nC,isNull:nO,isFn:nT,isInteraction:nN,Ok:nP,Bad:nL,prepAccount:nB,makeArgument:nj,makeUnknown:nF,makeScript:nz,makeTransaction:nq,makeGetTransactionStatus:nG,makeGetTransaction:nW,makeGetAccount:nH,makeGetEvents:nV,makePing:nK,makeGetBlock:nJ,makeGetBlockHeader:n$,makeGetCollection:nY,isUnknown:nQ,isScript:nZ,isTransaction:n0,isGetTransactionStatus:n1,isGetTransaction:n2,isGetAccount:n3,isGetEvents:n5,isPing:n6,isGetBlock:n8,isGetBlockHeader:n4,isGetCollection:n7,isOk:function(e){return"OK"===e.status},isBad:n9,why:function(e){return e.reason},isAccount:function(e){return e.kind===nd},isParam:function(e){return e.kind===ng},isArgument:function(e){return e.kind===ny},pipe:ir,get:io,put:is,update:ia,destroy:function(e){return function(t){return delete t.assigns[e],nP(t)}}});function ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ir(nS(),e)}var il=function(){return JSON.parse('{\n    "tag":null,\n    "transaction":null,\n    "transactionStatus":null,\n    "transactionId":null,\n    "encodedData":null,\n    "events":null,\n    "account":null,\n    "block":null,\n    "blockHeader":null,\n    "latestBlock":null,\n    "collection":null\n}')};function ip(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ir([nJ,function(t){return t.block.isSealed=e,nP(t)}])}function ih(e){return ir([nH,function(t){return t.account.addr=t1(e),nP(t)}])}var id=function(){tz.deprecate({pkg:"@onflow/decode",subject:"Operating upon data of the latestBlock field of the response object",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field"})},ig=(a=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),iy=(u=e$(eX().mark(function e(){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)})),function(){return u.apply(this,arguments)}),iv=(c=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.staticType);case 1:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),im=(l=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{domain:t.domain,identifier:t.identifier});case 1:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),ib=(f=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{path:t.path,address:t.address,borrowType:t.borrowType});case 1:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)}),iw=(p=e$(eX().mark(function e(t,r,n){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,ik(t,r,n);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=null;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e)})),function(e,t,r){return p.apply(this,arguments)}),i_=(h=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{address:t.address,type:t.type});case 1:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)}),iE=(d=e$(eX().mark(function e(t,r,n){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(e){return new Promise(function(){var t=e$(eX().mark(function t(i){return eX().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=i,t.next=3,ik(e,r,[].concat(tB(n),[e.type]));case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t,r){return d.apply(this,arguments)}),ix=(g=e$(eX().mark(function e(t,r,n){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.reduce(function(){var e=e$(eX().mark(function e(t,i){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return t=e.sent,e.next=5,ik(i.key,r,[].concat(tB(n),[i.key]));case 5:return e.t0=e.sent,e.next=8,ik(i.value,r,[].concat(tB(n),[i.key]));case 8:return t[e.t0]=e.sent,e.abrupt("return",t);case 10:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve({}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t,r){return g.apply(this,arguments)}),iS=(y=e$(eX().mark(function e(t,r,n){var i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fields.reduce(function(){var e=e$(eX().mark(function e(t,i){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return t=e.sent,e.next=5,ik(i.value,r,[].concat(tB(n),[i.name]));case 5:return t[i.name]=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve({}));case 2:if(i=e.sent,!(o=t.id&&iR(r,t.id))){e.next=10;break}return e.next=7,o(i);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e)})),function(e,t,r){return y.apply(this,arguments)}),iI={UInt:ig,Int:ig,UInt8:ig,Int8:ig,UInt16:ig,Int16:ig,UInt32:ig,Int32:ig,UInt64:ig,Int64:ig,UInt128:ig,Int128:ig,UInt256:ig,Int256:ig,Word8:ig,Word16:ig,Word32:ig,Word64:ig,UFix64:ig,Fix64:ig,String:ig,Character:ig,Bool:ig,Address:ig,Void:iy,Optional:iw,Reference:i_,Array:iE,Dictionary:ix,Event:iS,Resource:iS,Struct:iS,Enum:iS,Type:iv,Path:im,Capability:ib},iR=function(e,t){var r=Object.keys(e).find(function(e){return/^\/.*\/$/.test(e)?RegExp(e.substring(1,e.length-1)).test(t):e===t});return t&&r&&e[r]},ik=(v=e$(eX().mark(function e(t,r,n){var i;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=iR(r,t.type)){e.next=3;break}throw Error("Undefined Decoder Error: ".concat(t.type,"@").concat(n.join(".")));case 3:return e.next=5,i(t.value,r,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)})),function(e,t,r){return v.apply(this,arguments)}),iD=(m=e$(eX().mark(function e(t){var r,n,i,o=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n=o.length>2&&void 0!==o[2]?o[2]:[],i=e5(e5({},Object.keys(iI).filter(function(e){return!Object.keys(r).find(function(t){return RegExp(t).test(e)})}).reduce(function(e,t){return e[t]=iI[t],e},r)),r),e.abrupt("return",ik(t,i,n));case 5:case"end":return e.stop()}},e)})),function(e){return m.apply(this,arguments)}),iA=(b=e$(eX().mark(function e(t){var r,n=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:{},!t.encodedData){e.next=5;break}return e.abrupt("return",iD(t.encodedData,r));case 5:if(!t.transactionStatus){e.next=16;break}return e.t0=e5,e.t1=e5({},t.transactionStatus),e.t2={},e.next=11,Promise.all(t.transactionStatus.events.map(function(){var e=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.type,e.t1=t.transactionId,e.t2=t.transactionIndex,e.t3=t.eventIndex,e.next=6,iD(t.payload,r);case 6:return e.t4=e.sent,e.abrupt("return",{type:e.t0,transactionId:e.t1,transactionIndex:e.t2,eventIndex:e.t3,data:e.t4});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 11:return e.t3=e.sent,e.t4={events:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 16:if(!t.transaction){e.next=20;break}return e.abrupt("return",t.transaction);case 20:if(!t.events){e.next=26;break}return e.next=23,Promise.all(t.events.map(function(){var e=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.blockId,e.t1=t.blockHeight,e.t2=t.blockTimestamp,e.t3=t.type,e.t4=t.transactionId,e.t5=t.transactionIndex,e.t6=t.eventIndex,e.next=9,iD(t.payload,r);case 9:return e.t7=e.sent,e.abrupt("return",{blockId:e.t0,blockHeight:e.t1,blockTimestamp:e.t2,type:e.t3,transactionId:e.t4,transactionIndex:e.t5,eventIndex:e.t6,data:e.t7});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 23:return e.abrupt("return",e.sent);case 26:if(!t.account){e.next=30;break}return e.abrupt("return",t.account);case 30:if(!t.block){e.next=34;break}return e.abrupt("return",t.block);case 34:if(!t.blockHeader){e.next=38;break}return e.abrupt("return",t.blockHeader);case 38:if(!t.latestBlock){e.next=43;break}return id(),e.abrupt("return",t.latestBlock);case 43:if(!t.transactionId){e.next=47;break}return e.abrupt("return",t.transactionId);case 47:if(!t.collection){e.next=49;break}return e.abrupt("return",t.collection);case 49:return e.abrupt("return",null);case 50:case"end":return e.stop()}},e)})),function(e){return b.apply(this,arguments)}),iC=function(e){return"function"==typeof e},iO=function(e){return"string"==typeof e};function iT(){return(iT=e$(eX().mark(function e(t){var r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n0(t)||nZ(t))){e.next=11;break}if(tM(iC(r=io(t,"ix.cadence"))||iO(r),"Cadence needs to be a function or a string."),!iC(r)){e.next=7;break}return e.next=6,r({});case 6:r=e.sent;case 7:return tM(iO(r),"Cadence needs to be a string at this point."),e.next=10,tP().where(/^0x/).then(function(e){return Object.entries(e).reduce(function(e,t){var r=eK(t,2),n=r[0],i=r[1],o=RegExp("(\\b"+n+"\\b)","g");return e.replace(o,i)},r)});case 10:t.message.cadence=e.sent;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var iN=function(e){return"function"==typeof e};function iP(e){return iL.apply(this,arguments)}function iL(){return(iL=e$(eX().mark(function e(t){var r,n,i=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(tM((r=i.length>1&&void 0!==i[1]?i[1]:3)>0,"Argument Resolve Recursion Limit Exceeded for Arg: ".concat(t.tempId)),!iN(t.resolveArgument)){e.next=9;break}return e.next=5,t.resolveArgument();case 5:return n=e.sent,e.abrupt("return",iP(n,r-1));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function iU(){return(iU=e$(eX().mark(function e(t){var r,n,i,o,s,a;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n0(t)||nZ(t))){e.next=11;break}r=0,n=Object.entries(t.arguments);case 2:if(!(r<n.length)){e.next=11;break}return o=(i=eK(n[r],2))[0],s=i[1],e.next=6,iP(s);case 6:tM(null!=e0((a=e.sent).xform),"No type specified for argument: ".concat(a.value)),t.arguments[o].asArgument=iN(a.xform)?a.xform(a.value):iN(a.xform.asArgument)?a.xform.asArgument(a.value):void tM(!1,"Invalid Argument",a);case 8:r++,e.next=2;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var iM=function(e,t){return tq.Buffer.from(e.padStart(2*t,0),"hex")},iB=(w=tq.Buffer.from("FLOW-V0.0-transaction").toString("hex"),tq.Buffer.from(w.padEnd(64,0),"hex")).toString("hex"),ij=function(e){return iB+e},iF=function(e){return iM(e,8)},iz=function(e){return tq.Buffer.from(JSON.stringify(e),"utf8")},iq=function(e){return tG(e).toString("hex")},iG=function(e){var t;return iV(e),[(t=e.cadence,tq.Buffer.from(t,"utf8")),e.arguments.map(iz),iM(e.refBlock,32),e.computeLimit,iF(t1(e.proposalKey.address)),e.proposalKey.keyId,e.proposalKey.sequenceNum,iF(t1(e.payer)),e.authorizers.map(function(e){return iF(t1(e))})]},iW=function(e){var t=iH(e);return e.payloadSigs.map(function(e){return{signerIndex:t.get(e.address),keyId:e.keyId,sig:e.sig}}).sort(function(e,t){return e.signerIndex>t.signerIndex?1:e.signerIndex<t.signerIndex?-1:e.keyId>t.keyId?1:e.keyId<t.keyId?-1:void 0}).map(function(e){var t;return[e.signerIndex,e.keyId,(t=e.sig,tq.Buffer.from(t,"hex"))]})},iH=function(e){var t=new Map,r=0,n=function(e){!t.has(e)&&(t.set(e,r),r++)};return n(e.proposalKey.address),n(e.payer),e.authorizers.forEach(n),t},iV=function(e){iQ.forEach(function(t){return i2(e,t)}),iZ.forEach(function(t){return i2(e.proposalKey,t,"proposalKey")})},iK=function(e){i0.forEach(function(t){return i2(e,t)}),e.payloadSigs.forEach(function(e,t){i1.forEach(function(r){return i2(e,r,"payloadSigs",t)})})},iJ=function(e){return"number"==typeof e},i$=function(e){return"string"==typeof e},iY=function(e){return null!==e&&"object"===e0(e)},iX=function(e){return iY(e)&&e instanceof Array},iQ=[{name:"cadence",check:i$},{name:"arguments",check:iX},{name:"refBlock",check:i$,defaultVal:"0"},{name:"computeLimit",check:iJ},{name:"proposalKey",check:iY},{name:"payer",check:i$},{name:"authorizers",check:iX}],iZ=[{name:"address",check:i$},{name:"keyId",check:iJ},{name:"sequenceNum",check:iJ}],i0=[{name:"payloadSigs",check:iX}],i1=[{name:"address",check:i$},{name:"keyId",check:iJ},{name:"sig",check:i$}],i2=function(e,t,r,n){var i=t.name,o=t.check,s=t.defaultVal;if(null==e[i]&&null!=s&&(e[i]=s),null==e[i])throw i5(i,r,n);if(!o(e[i]))throw i6(i,r,n)},i3=function(e,t,r){return t?null==r?"".concat(t,".").concat(e):"".concat(t,".").concat(r,".").concat(e):e},i5=function(e,t,r){return Error("Missing field ".concat(i3(e,t,r)))},i6=function(e,t,r){return Error("Invalid field ".concat(i3(e,t,r)))};function i8(e){var t=new Set(e.authorizations);return t.add(e.proposer),Array.isArray(e.payer)?e.payer.forEach(function(e){return t.delete(e)}):t.delete(e.payer),Array.from(t)}function i4(e){return Array.from(new Set(Array.isArray(e.payer)?e.payer:[e.payer]))}var i7=function(e){var t;return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(function(t){return e.arguments[t].asArgument}),proposalKey:{address:t2(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:t2(e.accounts[Array.isArray(e.payer)?e.payer[0]:e.payer].addr),authorizers:(t=e.authorizations.map(function(t){return t2(e.accounts[t].addr)}).reduce(function(e,t){return e.find(function(e){return e===t})?e:[].concat(tB(e),[t])},[]))[0]?t:[],payloadSigs:i8(e).map(function(t){return{address:t2(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}}),envelopeSigs:i4(e).map(function(t){return{address:t2(e.accounts[t].addr),keyId:e.accounts[t].keyId,sig:e.accounts[t].signature}})}},i9=function(e){return"".concat(t2(e.addr),"-").concat(e.keyId)};function oe(e,t,r){return ot.apply(this,arguments)}function ot(){return(ot=e$(eX().mark(function e(t,r,n){var i,o,s,a,u,c,l=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:tM(i=l.length>3&&void 0!==l[3]?l[3]:3,"Account Resolve Recursion Limit Exceeded",{ix:t,accounts:r}),o=[],s=e6(r),e.prev=4,u=eX().mark(function e(){var r,s,u,l;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=(r=a.value).resolve,r.resolve=null,c=n||r,"function"!=typeof s){e.next=8;break}return e.next=7,s(r,function(e,t){try{return{f_type:"PreSignable",f_vsn:"1.0.1",roles:e.role,cadence:t.message.cadence,args:t.message.arguments.map(function(e){return t.arguments[e].asArgument}),data:{},interaction:t,voucher:i7(t)}}catch(e){throw console.error("buildPreSignable",e),e}}(r,t));case 7:r=e.sent;case 8:if(!Array.isArray(r)){e.next=13;break}return e.next=11,oe(t,r,c,i-1);case 11:e.next=30;break;case 13:if(r.addr&&(r.addr=t1(r.addr)),null!=r.addr&&null!=r.keyId&&(r.tempId=i9(r)),t.accounts[r.tempId]=t.accounts[r.tempId]||r,t.accounts[r.tempId].role.proposer=t.accounts[r.tempId].role.proposer||r.role.proposer,t.accounts[r.tempId].role.payer=t.accounts[r.tempId].role.payer||r.role.payer,t.accounts[r.tempId].role.authorizer=t.accounts[r.tempId].role.authorizer||r.role.authorizer,t.accounts[r.tempId].role.proposer&&t.proposer===c.tempId&&(t.proposer=r.tempId),!t.accounts[r.tempId].role.payer||(Array.isArray(t.payer)?t.payer=Array.from(new Set([].concat(tB(t.payer),[r.tempId]).map(function(e){return e===c.tempId?r.tempId:e}))):t.payer=Array.from(new Set([t.payer,r.tempId].map(function(e){return e===c.tempId?r.tempId:e}))),!(t.payer.length>1))||(u=[],l=[],t.payer=t.payer.reduce(function(e,r){var n=t.accounts[r].addr,i=i9(t.accounts[r]);return(l.push(n),u.includes(i))?e:(u.push(i),[].concat(tB(e),[r]))},[]),!(Array.from(new Set(l)).length>1))){e.next=29;break}throw Error("Payer can not be different accounts");case 29:t.accounts[r.tempId].role.authorizer&&(n?o=Array.from(new Set([].concat(tB(o),[r.tempId]))):t.authorizations=t.authorizations.map(function(e){return e===c.tempId?r.tempId:e}));case 30:c.tempId!=r.tempId&&delete t.accounts[c.tempId];case 31:case"end":return e.stop()}},e)}),s.s();case 7:if((a=s.n()).done){e.next=11;break}return e.delegateYield(u(),"t0",9);case 9:e.next=7;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),s.e(e.t1);case 16:return e.prev=16,s.f(),e.finish(16);case 19:n&&(t.authorizations=t.authorizations.map(function(e){return e===n.tempId?o:e}).reduce(function(e,t){return Array.isArray(t)?[].concat(tB(e),tB(t)):[].concat(tB(e),[t])},[]));case 20:case"end":return e.stop()}},e,null,[[4,13,16,19]])}))).apply(this,arguments)}function or(){return(or=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n0(t)){e.next=13;break}return Array.isArray(t.payer)||tz.deprecate({pkg:"FCL",subject:'"ix.payer" must be an array. Support for ix.payer as a singular',message:"See changelog for more info."}),e.prev=2,e.next=5,oe(t,Object.values(t.accounts));case 5:return e.next=7,oe(t,Object.values(t.accounts));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),console.error("=== SAD PANDA ===\n\n",e.t0,"\n\n=== SAD PANDA ==="),e.t0;case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}},e,null,[[2,9]])}))).apply(this,arguments)}function on(){return(on=e$(eX().mark(function e(t){var r,n,i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n0(t)){e.next=16;break}return e.prev=1,r=i8(t),n=ij(iq(iG(oo(t)))),e.next=6,Promise.all(r.map(oi(t,n)));case 6:var s;return i=i4(t),o=ij(iq((iK(s=e5(e5({},oo(t)),{},{payloadSigs:r.map(function(e){return{address:t.accounts[e].addr,keyId:t.accounts[e].keyId,sig:t.accounts[e].signature}})})),[iG(s),iW(s)]))),e.next=10,Promise.all(i.map(oi(t,o)));case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.error("Signatures",e.t0,{ix:t}),e.t0;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function oi(e,t){var r;return r=e$(eX().mark(function r(n){var i,o;return eX().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null!=(i=e.accounts[n]).signature)){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,i.signingFunction(function(e,t,r){try{return{f_type:"Signable",f_vsn:"1.0.1",message:t,addr:t1(e.addr),keyId:e.keyId,roles:e.role,cadence:r.message.cadence,args:r.message.arguments.map(function(e){return r.arguments[e].asArgument}),data:{},interaction:r,voucher:i7(r)}}catch(e){throw console.error("buildSignable",e),e}}(i,t,e));case 5:o=r.sent.signature,e.accounts[n].signature=o;case 8:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}}function oo(e){var t=t1((Array.isArray(e.payer)?e.accounts[e.payer[0]]:e.accounts[e.payer]).addr);return{cadence:e.message.cadence,refBlock:e.message.refBlock||null,computeLimit:e.message.computeLimit,arguments:e.message.arguments.map(function(t){return e.arguments[t].asArgument}),proposalKey:{address:t1(e.accounts[e.proposer].addr),keyId:e.accounts[e.proposer].keyId,sequenceNum:e.accounts[e.proposer].sequenceNum},payer:t,authorizers:e.authorizations.map(function(t){return t1(e.accounts[t].addr)}).reduce(function(e,t){return e.find(function(e){return e===t})?e:[].concat(tB(e),[t])},[])}}function os(){return(os=e$(eX().mark(function e(t){var r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=io(t,"ix.validators",[]),e.abrupt("return",ir(t,r.map(function(e){return function(t){return e(t,{Ok:nP,Bad:nL})}})));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oa(){return(oa=e$(eX().mark(function e(t){var r,n,i;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0,n=Object.keys(t.accounts);r<n.length;r++)i=n[r],t.accounts[i].addr=t1(t.accounts[i].addr);return e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ou(){return(ou=e$(eX().mark(function e(t){var r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!nT(r=io(t,"ix.voucher-intercept"))){e.next=4;break}return e.next=4,r(i7(t));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oc(){return(oc=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n0(t)){e.next=8;break}if(e.t0=t.message.computeLimit,e.t0){e.next=6;break}return e.next=5,tP.get("fcl.limit");case 5:e.t0=e.sent;case 6:t.message.computeLimit=e.t0,t.message.computeLimit||(tz.deprecate({pkg:"FCL/SDK",subject:"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit"}),t.message.computeLimit=100);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ol=function(e){return e},of=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ol;return t=e$(eX().mark(function t(n){var i,o;return eX().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(e){return["\nAccounts:",{proposer:e.proposer,authorizations:e.authorizations,payer:e.payer},"\n\nDetails:",e.accounts].filter(Boolean)},o=function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];(t=console).log.apply(t,["debug[".concat(e,"] ---\n")].concat(n,["\n\n\n---"]))},t.next=5,tP.get("debug.".concat(e));case 5:if(!t.sent){t.next=8;break}return t.next=8,r(n,o,i);case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}},op=ir([function(e){return iT.apply(this,arguments)},of("cadence",function(e,t){return t(e.message.cadence)}),function(e){return oc.apply(this,arguments)},of("compute limit",function(e,t){return t(e.message.computeLimit)}),function(e){return iU.apply(this,arguments)},of("arguments",function(e,t){return t(e.message.arguments,e.message)}),function(e){return or.apply(this,arguments)},of("accounts",function(e,t,r){return t.apply(void 0,tB(r(e)))}),function(e){return oh.apply(this,arguments)},function(e){return od.apply(this,arguments)},function(e){return on.apply(this,arguments)},of("signatures",function(e,t,r){return t.apply(void 0,tB(r(e)))}),function(e){return oa.apply(this,arguments)},function(e){return os.apply(this,arguments)},function(e){return ou.apply(this,arguments)},of("resolved",function(e,t){return t(e)})]);function oh(){return(oh=e$(eX().mark(function e(t){var r,n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n0(t)&&null==t.message.refBlock)){e.next=11;break}return e.next=3,tP().get("accessNode.api");case 3:return r=e.sent,e.next=6,tP.first(["sdk.transport","sdk.send"],rk);case 6:return tM(n=e.sent,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),e.next=10,n(ic([ip()]),{config:tP,response:il,Buffer:tq.Buffer,ix:iu},{node:r}).then(iA);case 10:t.message.refBlock=e.sent.id;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function od(){return(od=e$(eX().mark(function e(t){var r,n,i;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n0(t)||(tM(r=Object.values(t.accounts).find(function(e){return e.role.proposer}),"Transactions require a proposer"),null!=r.sequenceNum)){e.next=20;break}return e.next=6,tP().get("accessNode.api");case 6:return n=e.sent,e.next=9,tP.first(["sdk.transport","sdk.send"],rk);case 9:return i=e.sent,tM(i,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),e.t0=i,e.next=14,ic([ih(r.addr)]);case 14:return e.t1=e.sent,e.t2={config:tP,response:il,Buffer:tq.Buffer,ix:iu},e.t3={node:n},e.next=19,(0,e.t0)(e.t1,e.t2,e.t3).then(iA).then(function(e){return e.keys}).then(function(e){return e.find(function(e){return e.index===r.keyId})}).then(function(e){return e.sequenceNumber});case 19:t.accounts[r.tempId].sequenceNum=e.sent;case 20:return e.abrupt("return",t);case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function og(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){var n=t[0],i=t[1];return og(function(e,t){var r=t.Ok,o=t.Bad;return n?r(e):o(e,i)})}var o=t[0];return function(e){return o(e,{Ok:nP,Bad:nL})}}var oy=(_=e$(eX().mark(function e(){var t,r,n,i,o=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:[],r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,tP.first(["sdk.transport","sdk.send"],r.send||rk);case 4:return n=e.sent,og(n,"Required value for sdk.transport is not defined in config. See: ".concat("https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21")),e.next=8,tP.first(["sdk.resolve"],r.resolve||op);case 8:if(i=e.sent,e.t0=r.node,e.t0){e.next=14;break}return e.next=13,tP().get("accessNode.api");case 13:e.t0=e.sent;case 14:return r.node=e.t0,Array.isArray(t)&&(t=ir(nS(),t)),e.t1=n,e.next=19,i(t);case 19:return e.t2=e.sent,e.t3={config:tP,response:il,ix:iu,Buffer:tq.Buffer},e.t4=r,e.abrupt("return",(0,e.t1)(e.t2,e.t3,e.t4));case 23:case"end":return e.stop()}},e)})),function(){return _.apply(this,arguments)});function ov(e){return om.apply(this,arguments)}function om(){return(om=e$(eX().mark(function e(t){var r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tP().where(/^decoder\./);case 2:return r=Object.entries(e.sent).map(function(e){var t=eK(e,2),r=t[0],n=t[1];return[r="/".concat(r.replace(/^decoder\./,""),"$/"),n]}),e.abrupt("return",iA(t,Object.fromEntries(r)));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ob(e){return ia("ix.validators",function(t){return Array.isArray(t)?t.push(e):[e]})}function ow(e){return ir([function(t){return t.block.height=e,t},ob(function(e){if("boolean"==typeof e.block.isSealed)throw Error("Unable to specify both block height and isSealed.");if(e.block.id)throw Error("Unable to specify both block height and block id.");return e})])}function o_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sealed,r=void 0!==t&&t,n=e.id,i=e.height,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(tM(!(r&&n||r&&i),'Method: block -- Cannot pass "sealed" with "id" or "height"'),tM(!(n&&i),'Method: block -- Cannot pass "id" and "height" simultaneously'),n)?oy([ip(),ir([function(e){return e.block.id=n,nP(e)},ob(function(e,t){var r=t.Ok,n=t.Bad;return n3(e)?n(e,"Unable to specify a block id with a Get Account interaction."):"boolean"==typeof e.block.isSealed?n(e,"Unable to specify both block id and isSealed."):e.block.height?n(e,"Unable to specify both block id and block height."):r(e)})])],o).then(iA):i?oy([ip(),ow(i)],o).then(iA):oy([ip(r)],o).then(iA)}function oE(e){return function(t){return t.message.computeLimit=e,t}}function ox(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ir(e.map(nj))}function oS(e,t){return{value:e,xform:t}}function oI(){return(oI=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nB(t,{role:nb}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oR(){return(oR=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nB(t,{role:nm}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ok=[],oD="function"==typeof queueMicrotask?queueMicrotask:function(e){return(e_||(e_=Promise.resolve())).then(e).catch(function(e){return setTimeout(function(){throw e},0)})},oA=function(){var e,t=[];return{deliver:function(r){return e$(eX().mark(function n(){return eX().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.push(r),e&&(e(t.shift()),e=void 0);case 2:case"end":return n.stop()}},n)}))()},receive:function(){return new Promise(function(r){var n=t.shift();if(n)return r(n);e=r})}}},oC="INIT",oO="SUBSCRIBE",oT="UNSUBSCRIBE",oN="TERMINATE",oP=("undefined"==typeof self?"undefined":e0(self))==="object"&&self.self===self&&self||(void 0===r.g?"undefined":e0(r.g))==="object"&&r.g.global===r.g&&r.g||("undefined"==typeof window?"undefined":e0(window))==="object"&&window.window===window&&window;oP.FCL_REGISTRY=null==oP.FCL_REGISTRY?{}:oP.FCL_REGISTRY;var oL=0,oU=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(i,o){var s=n.expectReply||!1,a=null!=n.timeout?n.timeout:5e3;s&&a&&setTimeout(function(){return o(Error("Timeout: ".concat(a,"ms passed without a response.")))},a);var u={to:e,from:n.from,tag:t,data:r,timeout:a,reply:i,reject:o};try{oP.FCL_REGISTRY[e]&&oP.FCL_REGISTRY[e].mailbox.deliver(u),s||i(!0)}catch(t){console.error("FCL.Actor -- Could Not Deliver Message",u,oP.FCL_REGISTRY[e],t)}})},oM=function(e){delete oP.FCL_REGISTRY[e]},oB=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=e$(eX().mark(function e(r){var n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t[oC]){e.next=3;break}return e.next=3,t[oC](r);case 3:return e.next=6,r.receive();case 6:if(n=e.sent,e.prev=7,"EXIT"!==n.tag){e.next=13;break}if("function"!=typeof t[oN]){e.next=12;break}return e.next=12,t[oN](r,n,n.data||{});case 12:return e.abrupt("break",25);case 13:return e.next=15,t[n.tag](r,n,n.data||{});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.error("".concat(r.self()," Error"),n,e.t0);case 20:return e.prev=20,e.abrupt("continue",3);case 23:e.next=3;break;case 25:case"end":return e.stop()}},e,null,[[7,17,20,23]])})),function(t){return e.apply(this,arguments)}},oj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t&&(t=++oL),null!=oP.FCL_REGISTRY[t])return t;oP.FCL_REGISTRY[t]={addr:t,mailbox:oA(),subs:new Set,kvs:{},error:null};var r={self:function(){return t},receive:function(){return oP.FCL_REGISTRY[t].mailbox.receive()},send:function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i.from=t,oU(e,r,n,i)},sendSelf:function(e,r,n){oP.FCL_REGISTRY[t]&&oU(t,e,r,n)},broadcast:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.from=t;var i,o=e6(oP.FCL_REGISTRY[t].subs);try{for(o.s();!(i=o.n()).done;){var s=i.value;oU(s,e,r,n)}}catch(e){o.e(e)}finally{o.f()}},subscribe:function(e){return null!=e&&oP.FCL_REGISTRY[t].subs.add(e)},unsubscribe:function(e){return null!=e&&oP.FCL_REGISTRY[t].subs.delete(e)},subscriberCount:function(){return oP.FCL_REGISTRY[t].subs.size},hasSubs:function(){return!!oP.FCL_REGISTRY[t].subs.size},put:function(e,r){null!=e&&(oP.FCL_REGISTRY[t].kvs[e]=r)},get:function(e,r){var n=oP.FCL_REGISTRY[t].kvs[e];return null==n?r:n},delete:function(e){delete oP.FCL_REGISTRY[t].kvs[e]},update:function(e,r){null!=e&&(oP.FCL_REGISTRY[t].kvs[e]=r(oP.FCL_REGISTRY[t].kvs[e]))},keys:function(){return Object.keys(oP.FCL_REGISTRY[t].kvs)},all:function(){return oP.FCL_REGISTRY[t].kvs},where:function(e){return Object.keys(oP.FCL_REGISTRY[t].kvs).reduce(function(r,n){return e.test(n)?e5(e5({},r),{},e2({},n,oP.FCL_REGISTRY[t].kvs[n])):r},{})},merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach(function(r){return oP.FCL_REGISTRY[t].kvs[r]=e[r]})},fatalError:function(e){oP.FCL_REGISTRY[t].error=e;var r,n=e6(oP.FCL_REGISTRY[t].subs);try{for(n.s();!(r=n.n()).done;){var i=r.value;oU(i,"UPDATED")}}catch(e){n.e(e)}finally{n.f()}}};return"object"===e0(e)&&(e=oB(e)),oD(e$(eX().mark(function n(){return eX().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(r);case 2:oM(t);case 3:case"end":return n.stop()}},n)}))),t},oF="config",oz="PUT_CONFIG",oq="GET_CONFIG",oG="GET_ALL_CONFIG",oW="UPDATE_CONFIG",oH="DELETE_CONFIG",oV="CLEAR_CONFIG",oK="WHERE_CONFIG",oJ="CONFIG/UPDATED",o$=function(e){return e},oY=(e2(eE={},oz,function(e,t,r){var n=r.key,i=r.value;if(null==n)throw Error("Missing 'key' for config/put.");e.put(n,i),e.broadcast(oJ,e5({},e.all()))}),e2(eE,oq,function(e,t,r){var n=r.key,i=r.fallback;if(null==n)throw Error("Missing 'key' for config/get");t.reply(e.get(n,i))}),e2(eE,oG,function(e,t){t.reply(e5({},e.all()))}),e2(eE,oW,function(e,t,r){var n=r.key,i=r.fn;if(null==n)throw Error("Missing 'key' for config/update");e.update(n,i||o$),e.broadcast(oJ,e5({},e.all()))}),e2(eE,oH,function(e,t,r){var n=r.key;if(null==n)throw Error("Missing 'key' for config/delete");e.delete(n),e.broadcast(oJ,e5({},e.all()))}),e2(eE,oV,function(e,t){for(var r=Object.keys(e.all()),n=0;n<r.length;n++){var i=r[n];e.delete(i)}e.broadcast(oJ,e5({},e.all()))}),e2(eE,oK,function(e,t,r){var n=r.pattern;if(null==n)throw Error("Missing 'pattern' for config/where");t.reply(e.where(n))}),e2(eE,oO,function(e,t){e.subscribe(t.from),e.send(t.from,oJ,e5({},e.all()))}),e2(eE,oT,function(e,t){e.unsubscribe(t.from)}),eE);function oX(e,t){return oU(oF,oz,{key:e,value:t}),o4()}function oQ(e,t){return oU(oF,oq,{key:e,fallback:t},{expectReply:!0,timeout:10})}function oZ(){return o0.apply(this,arguments)}function o0(){return(o0=e$(eX().mark(function e(){var t,r,n,i,o,s,a=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:[],r=a.length>1?a[1]:void 0,t.length){e.next=4;break}return e.abrupt("return",r);case 4:return i=(n=eZ(t))[0],o=n.slice(1),e.next=7,oQ(i);case 7:if(null!=(s=e.sent)){e.next=10;break}return e.abrupt("return",oZ(o,r));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o1(){return oU(oF,oG,null,{expectReply:!0,timeout:10})}function o2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o$;return oU(oF,oW,{key:e,fn:t}),o4()}function o3(e){return oU(oF,oH,{key:e}),o4()}function o5(e){return oU(oF,oK,{pattern:e},{expectReply:!0,timeout:10})}function o6(e){var t,r,n;return oj(oY,oF),t="@EXIT",n=oj((r=e$(eX().mark(function r(n){var i,o;return eX().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n.send(oF,oO);case 1:return r.next=4,n.receive();case 4:if(i=r.sent,o=oP.FCL_REGISTRY[oF].error,i.tag!==t){r.next=9;break}return n.send(oF,oT),r.abrupt("return");case 9:if(!o){r.next=13;break}return e(null,o),n.send(oF,oT),r.abrupt("return");case 13:e(i.data,null),r.next=1;break;case 16:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)})),function(){return oU(n,t)}}function o8(e){return oU(oF,oV).then(o4(e))}function o4(e){return null!=e&&"object"===e0(e)&&Object.keys(e).map(function(t){return oX(t,e[t])}),{put:oX,get:oQ,all:o1,first:oZ,update:o2,delete:o3,where:o5,subscribe:o6,overload:o9}}oj(oY,oF),o4.put=oX,o4.get=oQ,o4.all=o1,o4.first=oZ,o4.update=o2,o4.delete=o3,o4.where=o5,o4.subscribe=o6,o4.overload=o9;var o7=function(e){return e};function o9(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o7;return new Promise((e=e$(eX().mark(function e(n,i){var o,s;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o1();case 2:return o=e.sent,e.prev=3,o4(t),e.t0=r,e.next=8,o1();case 8:return e.t1=e.sent,e.next=11,(0,e.t0)(e.t1);case 11:return s=e.sent,e.next=14,o8(o);case 14:n(s),e.next=22;break;case 17:return e.prev=17,e.t2=e.catch(3),e.next=21,o8(o);case 21:i(e.t2);case 22:case"end":return e.stop()}},e,null,[[3,17]])})),function(t,r){return e.apply(this,arguments)}))}var se=Object.freeze({debug:5,info:4,log:3,warn:2,error:1}),st=function(e){var t=e.title,r=e.message;return["\n    %c".concat(t,"\n    ============================\n\n    ").concat(r,"\n\n    ============================\n    ").replace(/\n[^\S\r\n]+/g,"\n").trim(),,"font-weight:bold;font-family:monospace;"]},sr=(E=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c,l,f,p,h;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.title,u=t.message,c=t.level,f=void 0!==(l=t.always)&&l,e.next=3,o4.get("logger.level",se.warn);case 3:if(p=e.sent,!(!f&&p<c)){e.next=6;break}return e.abrupt("return");case 6:h=st({title:a,message:u}),e.t0=c,e.next=e.t0===se.debug?10:e.t0===se.info?12:e.t0===se.warn?14:e.t0===se.error?16:18;break;case 10:return(r=console).debug.apply(r,tB(h)),e.abrupt("break",19);case 12:return(n=console).info.apply(n,tB(h)),e.abrupt("break",19);case 14:return(i=console).warn.apply(i,tB(h)),e.abrupt("break",19);case 16:return(o=console).error.apply(o,tB(h)),e.abrupt("break",19);case 18:(s=console).log.apply(s,tB(h));case 19:case"end":return e.stop()}},e)})),function(e){return E.apply(this,arguments)});sr.deprecate=function(e){var t=e.pkg,r=e.subject,n=e.transition,i=e.level,o=void 0===i?se.warn:i,s=e.message,a=void 0===s?"":s,u=e.callback,c=void 0===u?null:u,l=function(){return sr({title:"".concat(t?t+" ":"","Deprecation Notice"),message:"\n      ".concat(r?"".concat(r.charAt(0).toUpperCase()+r.slice(1)," is deprecated and will cease to work in future releases").concat(t?" of "+t:"","."):"").concat(a?"\n"+a:"").concat(n?"\nYou can learn more (including a guide on common transition paths) here: ".concat(n):"","\n    ").trim(),level:o})};return"function"==typeof c?e$(eX().mark(function e(){var t=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.next=4,c.apply(void 0,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)})):l()};var sn=function(e,t,r){return{label:e,asArgument:t,asInjection:r}},si=function(e){return Array.isArray(e)},so=function(e){return"object"===e0(e)},ss=function(e){return null==e},sa=function(e){return"number"==typeof e},su=function(e){return Number.isInteger(e)},sc=function(e){return"string"==typeof e},sl=function(e){throw Error("Type Error: "+e)},sf=function(e){sr.deprecate({pkg:"@onflow/types",subject:"Passing in Number as value for ".concat(e),message:"Going forward, use String as value for ".concat(e,"."),transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0002-[U]Int*-and-Word*-as-Number"})},sp=sn("Identity",function(e){return e},function(e){return e}),sh=sn("UInt",function(e){return sa(e)&&su(e)?(sf("UInt"),{type:"UInt",value:e.toString()}):sc(e)?{type:"UInt",value:e}:void sl("Expected Positive Integer for type Unsigned Int")},function(e){return e}),sd=sn("Int",function(e){return sa(e)&&su(e)?(sf("Int"),{type:"Int",value:e.toString()}):sc(e)?{type:"Int",value:e}:void sl("Expected Integer for type Int")},function(e){return e}),sg=sn("UInt8",function(e){return sa(e)&&su(e)?(sf("UInt8"),{type:"UInt8",value:e.toString()}):sc(e)?{type:"UInt8",value:e}:void sl("Expected integer for UInt8")},function(e){return e}),sy=sn("Int8",function(e){return sa(e)&&su(e)?(sf("Int8"),{type:"Int8",value:e.toString()}):sc(e)?{type:"Int8",value:e}:void sl("Expected positive integer for Int8")},function(e){return e}),sv=sn("UInt16",function(e){return sa(e)&&su(e)?(sf("UInt16"),{type:"UInt16",value:e.toString()}):sc(e)?{type:"UInt16",value:e}:void sl("Expected integer for UInt16")},function(e){return e}),sm=sn("Int16",function(e){return sa(e)&&su(e)?(sf("Int16"),{type:"Int16",value:e.toString()}):sc(e)?{type:"Int16",value:e}:void sl("Expected positive integer for Int16")},function(e){return e}),sb=sn("UInt32",function(e){return sa(e)&&su(e)?(sf("UInt32"),{type:"UInt32",value:e.toString()}):sc(e)?{type:"UInt32",value:e}:void sl("Expected integer for UInt32")},function(e){return e}),sw=sn("Int32",function(e){return sa(e)&&su(e)?(sf("Int32"),{type:"Int32",value:e.toString()}):sc(e)?{type:"Int32",value:e}:void sl("Expected positive integer for Int32")},function(e){return e}),s_=sn("UInt64",function(e){return sa(e)&&su(e)?(sf("UInt64"),{type:"UInt64",value:e.toString()}):sc(e)?{type:"UInt64",value:e}:void sl("Expected integer for UInt64")},function(e){return e}),sE=sn("Int64",function(e){return sa(e)&&su(e)?(sf("Int64"),{type:"Int64",value:e.toString()}):sc(e)?{type:"Int64",value:e}:void sl("Expected positive integer for Int64")},function(e){return e}),sx=sn("UInt128",function(e){return sa(e)&&su(e)?(sf("UInt128"),{type:"UInt128",value:e.toString()}):sc(e)?{type:"UInt128",value:e}:void sl("Expected integer for UInt128")},function(e){return e}),sS=sn("Int128",function(e){return sa(e)&&su(e)?(sf("Int128"),{type:"Int128",value:e.toString()}):sc(e)?{type:"Int128",value:e}:void sl("Expected positive integer for Int128")},function(e){return e}),sI=sn("UInt256",function(e){return sa(e)&&su(e)?(sf("UInt256"),{type:"UInt256",value:e.toString()}):sc(e)?{type:"UInt256",value:e}:void sl("Expected integer for UInt256")},function(e){return e}),sR=sn("Int256",function(e){return sa(e)&&su(e)?(sf("Int256"),{type:"Int256",value:e.toString()}):sc(e)?{type:"Int256",value:e}:void sl("Expected integer for Int256")},function(e){return e}),sk=sn("Word8",function(e){return sa(e)&&su(e)?(sf("Word8"),{type:"Word8",value:e.toString()}):sc(e)?{type:"Word8",value:e}:void sl("Expected positive number for Word8")},function(e){return e}),sD=sn("Word16",function(e){return sa(e)&&su(e)?(sf("Word16"),{type:"Word16",value:e.toString()}):sc(e)?{type:"Word16",value:e}:void sl("Expected positive number for Word16")},function(e){return e}),sA=sn("Word32",function(e){return sa(e)&&su(e)?(sf("Word32"),{type:"Word32",value:e.toString()}):sc(e)?{type:"Word32",value:e}:void sl("Expected positive number for Word32")},function(e){return e}),sC=sn("Word64",function(e){return sa(e)&&su(e)?(sf("Word64"),{type:"Word64",value:e.toString()}):sc(e)?{type:"Word64",value:e}:void sl("Expected positive number for Word64")},function(e){return e}),sO=function(){sr.deprecate({subject:"Passing in Numbers as values for Fix64 and UFix64 types",pkg:"@onflow/types",transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/types/WARNINGS.md#0001-[U]Fix64-as-Number"})},sT=sn("UFix64",function(e){if(sc(e)){var t=e.split(".");return 2!==t.length&&sl("Expected one decimal but found ".concat(t.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==t[1].length||t[1].length>8)&&sl("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(t[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),t[1]=t[1].padEnd(8,"0"),{type:"UFix64",value:e=t.join(".")}}if(sa(e))return sO(),{type:"UFix64",value:e.toString()};sl("Expected String for UFix64")},function(e){return e}),sN=sn("Fix64",function(e){if(sc(e)){var t=e.split(".");return 2!==t.length&&sl("Expected one decimal but found ".concat(t.length," in the [U]Fix64 value. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),(0==t[1].length||t[1].length>8)&&sl("Expected at least one digit, and at most 8 digits following the decimal of the [U]Fix64 value but found ".concat(t[1].length," digits. Find out more about [U]Fix64 types here: https://docs.onflow.org/cadence/json-cadence-spec/#fixed-point-numbers")),t[1]=t[1].padEnd(8,"0"),{type:"Fix64",value:e=t.join(".")}}if(sa(e))return sO(),{type:"Fix64",value:e.toString()};sl("Expected String for Fix64")},function(e){return e}),sP=sn("String",function(e){if(sc(e))return{type:"String",value:e};sl("Expected String for type String")},function(e){return e}),sL=sn("Character",function(e){if(sc(e))return{type:"Character",value:e};sl("Expected Character for type Character")},function(e){return e}),sU=sn("Bool",function(e){if("boolean"==typeof e)return{type:"Bool",value:e};sl("Expected Boolean for type Bool")},function(e){return e}),sM=sn("Address",function(e){if(sc(e))return{type:"Address",value:e};sl("Expected Address for type Address")},function(e){return e}),sB=sn("Void",function(e){if(!e||ss(e))return{type:"Void"};sl("Expected Void for type Void")},function(e){return e}),sj=function(e){return sn("Optional",function(t){return{type:"Optional",value:ss(t)?null:e.asArgument(t)}},function(e){return e})},sF=sn("Reference",function(e){if(so(e))return{type:"Reference",value:e};sl("Expected Object for type Reference")},function(e){return e}),sz=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return sn("Array",function(t){return{type:"Array",value:si(e)?e.map(function(e,r){return e.asArgument(t[r])}):t.map(function(t){return e.asArgument(t)})}},function(e){return e})},sq=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return sn("Dictionary",function(t){if(so(t))return{type:"Dictionary",value:si(e)?e.map(function(e,r){return{key:e.key.asArgument(t[r].key),value:e.value.asArgument(t[r].value)}}):si(t)?t.map(function(t){return{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}}):[{key:e.key.asArgument(t.key),value:e.value.asArgument(t.value)}]};sl("Expected Object for type Dictionary")},function(e){return e})},sG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return sn("Event",function(r){if(so(r))return{type:"Event",value:{id:e,fields:si(t)?t.map(function(e,t){return{name:r.fields[t].name,value:e.value.asArgument(r.fields[t].value)}}):r.fields.map(function(e){return{name:e.name,value:t.value.asArgument(e.value)}})}};sl("Expected Object for type Event")},function(e){return e})},sW=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return sn("Resource",function(r){if(so(r))return{type:"Resource",value:{id:e,fields:si(t)?t.map(function(e,t){return{name:r.fields[t].name,value:e.value.asArgument(r.fields[t].value)}}):r.fields.map(function(e){return{name:e.name,value:t.value.asArgument(e.value)}})}};sl("Expected Object for type Resource")},function(e){return e})},sH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return sn("Struct",function(r){if(so(r))return{type:"Struct",value:{id:e,fields:si(t)?t.map(function(e,t){return{name:r.fields[t].name,value:e.value.asArgument(r.fields[t].value)}}):r.fields.map(function(e){return{name:e.name,value:t.value.asArgument(e.value)}})}};sl("Expected Object for type Struct")},function(e){return e})},sV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return sn("Enum",function(r){if(so(r))return{type:"Enum",value:{id:e,fields:si(t)?t.map(function(e,t){return{name:r.fields[t].name,value:e.value.asArgument(r.fields[t].value)}}):r.fields.map(function(e){return{name:e.name,value:t.value.asArgument(e.value)}})}};sl("Expected Object for type Enum")},function(e){return e})},sK=sn("Path",function(e){if(so(e))return sc(e.domain)||sl("Expected a string for the Path domain but found ".concat(e.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),"storage"===e.domain||"private"===e.domain||"public"===e.domain||sl('Expected either "storage", "private" or "public" as the Path domain but found '.concat(e.domain,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),sc(e.identifier)||sl("Expected a string for the Path identifier but found ".concat(e.identifier,". Find out more about the Path type here: https://docs.onflow.org/cadence/json-cadence-spec/#path")),{type:"Path",value:{domain:e.domain,identifier:e.identifier}};sl("Expected Object for type Path")},function(e){return e}),sJ="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s$=sJ.length;function sY(){for(var e="",t=32;t--;)e+=sJ[Math.random()*s$|0];return e}function sX(e){return sQ.apply(this,arguments)}function sQ(){return(sQ=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1=Object,e.next=4,tP().where(t);case 4:return e.t2=e.sent,e.t3=e.t1.entries.call(e.t1,e.t2).map(function(e){var r=eK(e,2),n=r[0],i=r[1];return[n.replace(t,""),i]}),e.abrupt("return",e.t0.fromEntries.call(e.t0,e.t3));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}tP({"discovery.wallet.method.default":"IFRAME/RPC","fcl.storage.default":{can:"undefined"!=typeof window,get:(x=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JSON.parse(sessionStorage.getItem(t)));case 1:case"end":return e.stop()}},e)})),function(e){return x.apply(this,arguments)}),put:(S=e$(eX().mark(function e(t,r){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sessionStorage.setItem(t,JSON.stringify(r)));case 1:case"end":return e.stop()}},e)})),function(e,t){return S.apply(this,arguments)})}});var sZ="1.3.2",s0=function(e){return function(t){return e0(t)===e}},s1=function(e){return null!=e},s2=s0("object"),s3=s0("string"),s5=s0("function"),s6=s0("number");function s8(e){return s5(e)?e(oS,ek):[]}function s4(e){return s7.apply(this,arguments)}function s7(){return(s7=e$(eX().mark(function e(t){var r,n,i;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return tM(void 0!==(r=t.url),"retrieve({ url }) -- url must be defined"),e.prev=2,e.next=5,t0()(r);case 5:n=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),Error("httpDocumentResolver Error: Failed to retrieve document.");case 11:if(!n.ok){e.next=17;break}return e.next=14,n.json();case 14:e.t1=e.sent,e.next=18;break;case 17:e.t1=null;case 18:return i=e.t1,e.abrupt("return",i);case 20:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}var s9=new Map([["http",s4],["https",s4]]);function ae(){return(ae=e$(eX().mark(function e(t){var r,n,i,o,s,a;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return tM(void 0!==(r=t.url),"retrieve({ url }) -- url must be defined"),tM("string"==typeof r,"retrieve({ url }) -- url must be a string"),e.next=5,tP().where(/^document\.resolver\./);case 5:return Object.keys(n=e.sent).map(function(e){var t=n[e],r=e.replace(/^document\.resolver\./,"");s9.set(r,t)}),tM(i=/^(.*):\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?(.*)$/.exec(r),"Failed to parse URL"),o=i[1],tM(i,"Failed to parse URL protocol"),tM(s=s9.get(o),"No resolver found for protcol=".concat(o)),e.next=15,s({url:r});case 15:return a=e.sent,e.abrupt("return",a);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(e){if(null==e)return null;if("1.0.0"===e.f_version)return e;throw Error("normalizeInteractionTemplate Error: Invalid InteractionTemplate")}function ar(e){var t,r,n=e.network,i=e.template;if(og(void 0!=n,"deriveCadenceByNetwork({ network }) -- network must be defined"),og("string"==typeof n,"deriveCadenceByNetwork({ network }) -- network must be a string"),og(void 0!=i,"generateDependencyPin({ template }) -- template must be defined"),og("object"===e0(i),"generateDependencyPin({ template }) -- template must be an object"),og("InteractionTemplate"===i.f_type,"generateDependencyPin({ template }) -- template must be an InteractionTemplate"),"1.0.0"===(i=at(i)).f_version)return Object.keys(null===(t=i)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.dependencies).map(function(e){var t,r,o,s=Object.values(null===(t=i)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:null===(o=r.dependencies)||void 0===o?void 0:o[e]);og(s,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(e)),og(0===s.length,"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ".concat(e));var a=s[0],u=null==a?void 0:a[n];return og(u,"deriveCadenceByNetwork -- Could not find ".concat(n," network information for dependency: ").concat(e)),[e,u.address]}).reduce(function(e,t){var r=eK(t,2),n=r[0],i=r[1],o=RegExp("(\\b"+n+"\\b)","g");return e.replace(o,i)},i.data.cadence);throw Error("deriveCadenceByNetwork Error: Unsupported template version")}function an(){return(an=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c,l,f,p;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.template,e.next=3,tP.get("flow.network");case 3:tM(i=e.sent,"FCL configureDependencies Error: Missing configuration value for 'flow.network'"),o={},e.t0=n.f_version,e.next="1.0.0"===e.t0?9:12;break;case 9:for(a=0,s=Object.keys(null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.dependencies);a<s.length;a++)c=s[a],tM((f=Object.keys(l=null==n?void 0:null===(u=n.data)||void 0===u?void 0:u.dependencies[c])).length>0,"FCL configureDependencies Error: No contracts found in template for placeholder=".concat(c)),tM(p=l[f[0]][i],"FCL configureDependencies Error: No dependency information for placeholder=".concat(c," contract=").concat(f[0]," network=").concat(i)),tM(null==p?void 0:p.address,"FCL configureDependencies Error: No address information for placeholder=".concat(c," contract=").concat(f[0]," network=").concat(i)),o[c]=t2(null==p?void 0:p.address);return e.abrupt("return",o);case 12:throw Error("FCL configureDependencies Error: Unsupported template version");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ai(e){return ao.apply(this,arguments)}function ao(){return(ao=e$(eX().mark(function e(t){var r,n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s3(null==t?void 0:t.template)){e.next=4;break}return e.next=3,function(e){return ae.apply(this,arguments)}({url:null==t?void 0:t.template});case 3:t.template=e.sent;case 4:if(r={},!(null!=t&&t.template)){e.next=10;break}return t.template=at(null==t?void 0:t.template),e.next=9,function(e){return an.apply(this,arguments)}({template:t.template});case 9:r=e.sent;case 10:if(e.t0=t.cadence,e.t0){e.next=19;break}return e.t1=ar,e.t2=t.template,e.next=16,tP().get("flow.network");case 16:e.t3=e.sent,e.t4={template:e.t2,network:e.t3},e.t0=(0,e.t1)(e.t4);case 19:return n=e.t0,t.cadence=n,t.dependencies=r,e.abrupt("return",t);case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}function as(e,t){return aa.apply(this,arguments)}function aa(){return(aa=e$(eX().mark(function e(t,r){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(tM(s1(r),"".concat(t,"(opts) -- opts is required")),tM(s2(r),"".concat(t,"(opts) -- opts must be an object")),tM(!(r.cadence&&r.template),"".concat(t,"({ template, cadence }) -- cannot pass both cadence and template")),tM(s1(r.cadence||(null==r?void 0:r.template)),"".concat(t,"({ cadence }) -- cadence is required")),tM(s3(r.cadence)||(null==r?void 0:r.template),"".concat(t,"({ cadence }) -- cadence must be a string")),e.t0=tM,e.t1=r.cadence,e.t1){e.next=11;break}return e.next=10,tP().get("flow.network");case 10:e.t1=e.sent;case 11:return e.t2=e.t1,e.t3="".concat(t,'(opts) -- Required value for "flow.network" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t0)(e.t2,e.t3),e.t4=tM,e.next=17,tP().get("accessNode.api");case 17:e.t5=e.sent,e.t6="".concat(t,'(opts) -- Required value for "accessNode.api" not defined in config. See: ',"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration"),(0,e.t4)(e.t5,e.t6);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function au(){return(au=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as("mutate",t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ac(){return(ac=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as("query",t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function al(){return af.apply(this,arguments)}function af(){return(af=e$(eX().mark(function e(){var t,r=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,function(e){return ac.apply(this,arguments)}(t);case 3:return e.next=5,ai(t);case 5:return t=e.sent,e.abrupt("return",tP().overload(t.dependencies||{},e$(eX().mark(function e(){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oy([function(){return ir([nz,is("ix.cadence",nr.apply(void 0,arguments))])}(t.cadence),ox(s8(t.args||[])),t.limit&&"number"==typeof t.limit&&oE(t.limit)]).then(ov));case 1:case"end":return e.stop()}},e)}))));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ap(){return(ap=e$(eX().mark(function e(t,r){var n,i,o,s,a,u;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==t||null==r)){e.next=2;break}return e.abrupt("return",[]);case 2:return(n=new URL(t)).searchParams.append("code",r),e.next=6,fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()});case 6:if(!Array.isArray(i=e.sent)){e.next=9;break}return e.abrupt("return",i);case 9:if(o=[],Array.isArray(i.authorizations)){s=e6(i.authorizations);try{for(s.s();!(a=s.n()).done;)u=a.value,o.push(e5({type:"authz",keyId:i.keyId},u))}catch(e){s.e(e)}finally{s.f()}}return null!=i.provider&&o.push(e5({type:"authn",id:"wallet-provider#authn"},i.provider)),e.abrupt("return",o);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ah(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(tB(e),tB(t))}var ad={f_type:"Service",f_vsn:"1.0.0"},ag={f_type:"Identity",f_vsn:"1.0.0"},ay={f_type:"USER",f_vsn:"1.0.0"},av={f_type:"PollingResponse",f_vsn:"1.0.0"},am={f_type:"CompositeSignature",f_vsn:"1.0.0"};function ab(e){return null==e?null:"1.0.0"===e.f_vsn?e:e5(e5({old:e},ad),{},{type:"frame",endpoint:e.endpoint,params:e.params||{},data:e.data||{}})}function aw(e){return null==e?null:"1.0.0"===e.f_vsn?e:e5(e5({},ad),{},{type:"back-channel-rpc",endpoint:e.endpoint,method:e.method,params:e.params||{},data:e.data||{}})}function a_(e){return null==e?null:(null==e.method&&(e=e5(e5({},e),{},{type:"local-view",method:"VIEW/IFRAME"})),"1.0.0"===e.f_vsn)?e:e5(e5({},ad),{},{type:e.type||"local-view",method:e.method,endpoint:e.endpoint,data:e.data||{},params:e.params||{}})}var aE={"back-channel-rpc":aw,"pre-authz":function(e){return null==e?null:"1.0.0"===e.f_vsn?e:e5(e5({},ad),{},{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:e5(e5({},ag),{},{address:t2(e.addr),keyId:e.keyId}),params:e.params,data:e.data})},authz:function(e){return null==e?null:"1.0.0"===e.f_vsn?e:e5(e5({},ad),{},{type:e.type,uid:e.id,endpoint:e.endpoint,method:e.method,identity:e5(e5({},ag),{},{address:t2(e.addr),keyId:e.keyId}),params:e.params,data:e.data})},authn:function(e){return null==e?null:"1.0.0"===e.f_vsn?e:e5(e5({},ad),{},{type:e.type,uid:e.id,endpoint:e.authn,id:e.pid,provider:{address:t2(e.addr),name:e.name,icon:e.icon}})},frame:ab,"open-id":function(e){return null==e?null:"1.0.0"===e.f_vsn?e:null},"user-signature":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw Error("Invalid user-signature service")},"local-view":a_,"account-proof":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw Error("FCL Normalizer Error: Invalid account-proof service")},"authn-refresh":function(e){if(null==e)return null;if("1.0.0"===e.f_vsn)return e;throw Error("Invalid authn-refresh service")}};function ax(e){return aS.apply(this,arguments)}function aS(){return(aS=e$(eX().mark(function e(t){var r,n;return eX().wrap(function(e){for(var i;;)switch(e.prev=e.next){case 0:return(i=t).addr=i.addr?t2(i.addr):null,i.paddr=i.paddr?t2(i.paddr):null,t=i,e.t0=ah,e.t1=t.services||[],e.next=5,function(e,t){return ap.apply(this,arguments)}(t.hks,t.code);case 5:return e.t2=e.sent,n=function(e,t){return t.find(function(t){return t.type===e})}("authn",r=(0,e.t0)(e.t1,e.t2).map(function(e){return function(e,t){try{return aE[e.type](e,t)}catch(t){return console.error("Unrecognized FCL Service Type [".concat(e.type,"]"),e,t),e}}(e,t)})),e.abrupt("return",e5(e5({},ay),{},{addr:t2(t.addr),cid:tG([n.provider.address||n.provider.name||"UNSPECIFIED",n.id]).toString("hex"),loggedIn:!0,services:r,expiresAt:t.expires}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function aI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return e.type===t})}function aR(e){var t=new URL(e.endpoint);if(t.searchParams.append("l6n",window.location.origin),null!=e.params)for(var r=0,n=Object.entries(e.params||{});r<n.length;r++){var i=eK(n[r],2),o=i[0],s=i[1];t.searchParams.append(o,s)}return t}function ak(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.method||"POST",n="GET"===r?void 0:JSON.stringify(t.data||e.data||{});return fetch(aR(e),{method:r,headers:e5(e5(e5({},e.headers||{}),t.headers||{}),{},{"Content-Type":"application/json"}),body:n}).then(function(e){return e.json()})}function aD(e){var t,r;return null==e?null:"1.0.0"===e.f_vsn?e:e5(e5({},av),{},{status:null!==(t=e.status)&&void 0!==t?t:"APPROVED",reason:null!==(r=e.reason)&&void 0!==r?r:null,data:e.compositeSignature||e.data||e5({},e)||{},updates:aw(e.authorizationUpdates),local:ab((e.local||[])[0])})}var aA={"HTTP/GET":"GET","HTTP/POST":"POST"};function aC(e){return aO.apply(this,arguments)}function aO(){return(aO=e$(eX().mark(function e(t){var r,n,i=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:function(){return!0},tM(t,"Missing Polling Service",{service:t}),r()){e.next=4;break}throw Error("Externally Halted");case 4:return e.next=6,ak(t,{method:(tM(aA[t.method],"Invalid Service Method for type back-channel-rpc",{service:t}),aA[t.method])}).then(aD);case 6:n=e.sent,e.t0=n.status,e.next="APPROVED"===e.t0?10:"DECLINED"===e.t0?11:12;break;case 10:return e.abrupt("return",n.data);case 11:throw Error("Declined: ".concat(n.reason||"No reason supplied."));case 12:return e.next=14,new Promise(function(e){return setTimeout(e,500)});case 14:return e.abrupt("return",aC(n.updates,r));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var aT="FCL_IFRAME";function aN(e){tM(!document.getElementById(aT),"Attempt at triggering multiple Frames",{src:e});var t=document.createElement("iframe");return t.src=e,t.id=aT,t.allow="usb *; hid *",t.frameBorder="0",t.style.cssText="\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n  color-scheme: light;\n",document.body.append(t),[t.contentWindow,function(){document.getElementById(aT)&&document.getElementById(aT).remove()}]}var aP=null,aL=null;function aU(e){var t;return null==aP||null!==(t=aP)&&void 0!==t&&t.closed?aP=function(e,t,r,n,i){var o=r.top.outerHeight/2+r.top.screenY-i/2,s=r.top.outerWidth/2+r.top.screenX-n/2,a=r.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=".concat(n,", height=").concat(i,", top=").concat(o,", left=").concat(s));if(!a)throw Error("Popup failed to open (was it blocked by a popup blocker?)");return a}(e,"FCL_POP",window,640,770):(aL!==e&&aP.location.replace(e),aP.focus()),aL=e,[aP,function(){aP&&!aP.closed&&aP.close(),aP=null}]}var aM=null,aB=null;function aj(e){var t;if(null==aM||null!==(t=aM)&&void 0!==t&&t.closed){if(!(aM=window.open(e,"_blank")))throw Error("Tab failed to open (was it blocked by the browser?)")}else aB!==e&&aM.location.replace(e),aM.focus();return aB=e,[aM,function(){aM&&!aM.closed&&aM.close(),aM=null}]}var aF={"VIEW/IFRAME":aN,"VIEW/POP":aU,"VIEW/TAB":aj};function az(){return(az=e$(eX().mark(function e(t){var r,n=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.prev=1,e.abrupt("return",aF[t.method](aR(t),r));case 5:throw e.prev=5,e.t0=e.catch(1),console.error("execLocal({service, opts = {}})",e.t0,{service:t,opts:r}),e.t0;case 9:case"end":return e.stop()}},e,null,[[1,5]])}))).apply(this,arguments)}function aq(e){return aG.apply(this,arguments)}function aG(){return(aG=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service,n=t.body,i=t.config,t.opts,e.next=3,ak(r,{data:e5({fclVersion:sZ,service:{params:r.params,data:r.data,type:r.type},config:i},n)}).then(aD);case 3:if("APPROVED"!==(o=e.sent).status){e.next=8;break}return e.abrupt("return",o.data);case 8:if("DECLINED"!==o.status){e.next=12;break}throw Error("Declined: ".concat(o.reason||"No reason supplied."));case 12:if("REDIRECT"!==o.status){e.next=16;break}return e.abrupt("return",o);case 16:if("PENDING"!==o.status){e.next=28;break}return s=!0,e.next=20,function(e){return az.apply(this,arguments)}(a_(o.local));case 20:return(a=eK(e.sent,2))[0],u=a[1],c=function(){try{u(),s=!1}catch(e){console.error("Frame Close Error",e)}},e.abrupt("return",aC(o.updates,function(){return s}).then(function(e){return c(),e}).catch(function(e){throw console.error(e),c(),e}));case 28:throw console.error("Auto Decline: Invalid Response",{service:r,resp:o}),Error("Auto Decline: Invalid Response");case 30:case"end":return e.stop()}},e)}))).apply(this,arguments)}var aW="FCL:VIEW:CLOSE",aH="FCL:VIEW:READY",aV="FCL:VIEW:RESPONSE",aK=function(e){return"string"==typeof e&&e.toLowerCase()},aJ=new Set(["monetizationstart","monetizationpending","monetizationprogress","monetizationstop"]),a$=function(e,t){return console.warn("DEPRECATION NOTICE","Received ".concat(e,", please use ").concat(t," for this and future versions of FCL"))},aY=function(e){var t=e.close,r=e.send,n=e.onReady,i=e.onResponse,o=e.onMessage;return function(e){try{if("object"!==e0(e.data)||aJ.has(e.data.type))return;aK(e.data.type)===aK(aW)&&t(),aK(e.data.type)===aK(aH)&&n(e,{send:r,close:t}),aK(e.data.type)===aK(aV)&&i(e,{send:r,close:t}),o(e,{send:r,close:t}),aK(e.data.type)===aK("FCL:FRAME:READY")&&(a$(e.data.type,aH),n(e,{send:r,close:t})),aK(e.data.type)===aK("FCL:FRAME:RESPONSE")&&(a$(e.data.type,aV),i(e,{send:r,close:t})),aK(e.data.type)===aK("FCL:FRAME:CLOSE")&&(a$(e.data.type,aW),t()),aK(e.data.type)===aK("FCL::CHALLENGE::RESPONSE")&&(a$(e.data.type,aV),i(e,{send:r,close:t})),aK(e.data.type)===aK("FCL::AUTHZ_READY")&&(a$(e.data.type,aH),n(e,{send:r,close:t})),aK(e.data.type)===aK("FCL::CHALLENGE::CANCEL")&&(a$(e.data.type,aW),t()),aK(e.data.type)===aK("FCL::CANCEL")&&(a$(e.data.type,aW),t())}catch(e){console.error("Frame Callback Error",e),t()}}},aX=function(){},aQ=function(){},aZ=function(){},a0=function(){},a1={"HTTP/RPC":aq,"HTTP/POST":aq,"IFRAME/RPC":function(e){var t=e.service,r=e.body,n=e.config,i=e.opts;return new Promise(function(e,o){var s=sY(),a=i.includeOlderJsonRpcCall;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e){var r=t.onClose||aX,n=t.onMessage||aX,i=aY({close:function(){try{window.removeEventListener("message",i),a(),r()}catch(e){console.error("Frame Close Error",e)}},send:function(e){try{s.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Frame Send Error",e,t)}},onReady:t.onReady||aX,onResponse:t.onResponse||aX,onMessage:n});window.addEventListener("message",i);var o=eK(aN(aR(e)),2),s=o[0],a=o[1]}}(t,{onReady:function(e,i){return e$(eX().mark(function e(){var o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=i.send,e.prev=1,o({type:"FCL:VIEW:READY:RESPONSE",fclVersion:sZ,body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),o({fclVersion:sZ,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),a&&o({jsonrpc:"2.0",id:s,method:"fcl:sign",params:[r,t.params],deprecated:{message:"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,null,[[1,7]])}))()},onResponse:function(t,r){var n=r.close;try{if("object"!==e0(t.data))return;var i=aD(t.data);switch(i.status){case"APPROVED":e(i.data),n();break;case"DECLINED":o("Declined: ".concat(i.reason||"No reason supplied")),n();break;case"REDIRECT":e(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execIframeRPC onResponse error",e),e}},onMessage:function(t,r){var n=r.close;try{if("object"!==e0(t.data)||"2.0"!==t.data.jsonrpc||t.data.id!==s)return;var i=aD(t.data.result);switch(i.status){case"APPROVED":e(i.data),n();break;case"DECLINED":o("Declined: ".concat(i.reason||"No reason supplied")),n();break;case"REDIRECT":e(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execIframeRPC onMessage error",e),e}},onClose:function(){o("Declined: Externally Halted")}})})},"POP/RPC":function(e){var t=e.service,r=e.body,n=e.config,i=e.opts;return new Promise(function(e,o){var s=sY(),a=i.redir,u=i.includeOlderJsonRpcCall;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e){var r=t.onClose||aQ,n=t.onMessage||aQ,i=aY({close:c,send:function(e){try{s.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Popup Send Error",e,t)}},onReady:t.onReady||aQ,onResponse:t.onResponse||aQ,onMessage:n});window.addEventListener("message",i);var o=eK(aU(aR(e)),2),s=o[0],a=o[1],u=setInterval(function(){s&&s.closed&&c()},500)}function c(){try{window.removeEventListener("message",i),clearInterval(u),a(),r()}catch(e){console.error("Popup Close Error",e)}}}(t,{onReady:function(e,i){return e$(eX().mark(function e(){var o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=i.send,e.prev=1,o({fclVersion:sZ,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),o({fclVersion:sZ,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),u&&o({jsonrpc:"2.0",id:s,method:"fcl:sign",params:[r,t.params]}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,null,[[1,7]])}))()},onResponse:function(t,r){var n=r.close;try{if("object"!==e0(t.data))return;var i=aD(t.data);switch(i.status){case"APPROVED":e(i.data),a||n();break;case"DECLINED":o("Declined: ".concat(i.reason||"No reason supplied")),n();break;case"REDIRECT":e(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execPopRPC onResponse error",e),e}},onMessage:function(t,r){var n=r.close;try{if("object"!==e0(t.data)||"2.0"!==t.data.jsonrpc||t.data.id!==s)return;var i=aD(t.data.result);switch(i.status){case"APPROVED":e(i.data),a||n();break;case"DECLINED":o("Declined: ".concat(i.reason||"No reason supplied")),n();break;case"REDIRECT":e(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execPopRPC onMessage error",e),e}},onClose:function(){o("Declined: Externally Halted")}})})},"TAB/RPC":function(e){var t=e.service,r=e.body,n=e.config,i=e.opts;return new Promise(function(e,o){var s=sY(),a=i.redir,u=i.includeOlderJsonRpcCall;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e){var r=t.onClose||aZ,n=t.onMessage||aZ,i=aY({close:c,send:function(e){try{s.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Tab Send Error",e,t)}},onReady:t.onReady||aZ,onResponse:t.onResponse||aZ,onMessage:n});window.addEventListener("message",i);var o=eK(aj(aR(e)),2),s=o[0],a=o[1],u=setInterval(function(){s&&s.closed&&c()},500)}function c(){try{window.removeEventListener("message",i),clearInterval(u),a(),r()}catch(e){console.error("Tab Close Error",e)}}}(t,{onReady:function(e,i){return e$(eX().mark(function e(){var o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=i.send,e.prev=1,o({fclVersion:sZ,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),o({fclVersion:sZ,type:"FCL:FRAME:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n,deprecated:{message:"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE"}}),u&&o({jsonrpc:"2.0",id:s,method:"fcl:sign",params:[r,t.params]}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,null,[[1,7]])}))()},onResponse:function(t,r){var n=r.close;try{if("object"!==e0(t.data))return;var i=aD(t.data);switch(i.status){case"APPROVED":e(i.data),a||n();break;case"DECLINED":o("Declined: ".concat(i.reason||"No reason supplied")),n();break;case"REDIRECT":e(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execPopRPC onResponse error",e),e}},onMessage:function(t,r){var n=r.close;try{if("object"!==e0(t.data)||"2.0"!==t.data.jsonrpc||t.data.id!==s)return;var i=aD(t.data.result);switch(i.status){case"APPROVED":e(i.data),a||n();break;case"DECLINED":o("Declined: ".concat(i.reason||"No reason supplied")),n();break;case"REDIRECT":e(i),n();break;default:o("Declined: No reason supplied"),n()}}catch(e){throw console.error("execPopRPC onMessage error",e),e}},onClose:function(){o("Declined: Externally Halted")}})})},"EXT/RPC":function(e){var t=e.service,r=e.body,n=e.config;return e.opts,new Promise(function(e,i){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e){var r=t.onClose||a0,n=t.onMessage||a0,i=aY({close:function(){try{window.removeEventListener("message",i),r()}catch(e){console.error("Ext Close Error",e)}},send:o,onReady:t.onReady||a0,onResponse:t.onResponse||a0,onMessage:n});return window.addEventListener("message",i),o({service:e})}function o(e){try{window&&window.postMessage(JSON.parse(JSON.stringify(e||{})),"*")}catch(t){console.error("Ext Send Error",e,t)}}}(t,{onReady:function(e,i){return e$(eX().mark(function e(){var o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=i.send,e.prev=1,o({fclVersion:sZ,type:"FCL:VIEW:READY:RESPONSE",body:r,service:{params:t.params,data:t.data,type:t.type},config:n}),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),e.t0;case 8:case"end":return e.stop()}},e,null,[[1,5]])}))()},onResponse:function(t,r){var n=r.close;try{if("object"!==e0(t.data))return;var o=aD(t.data);switch(o.status){case"APPROVED":e(o.data),n();break;case"DECLINED":i("Declined: ".concat(o.reason||"No reason supplied")),n();break;case"REDIRECT":e(o),n();break;default:i("Declined: No reason supplied"),n()}}catch(e){throw console.error("execExtRPC onResponse error",e),e}},onClose:function(){i("Declined: Externally Halted")}})})}},a2=["ServicePlugin"],a3=["discovery-service"],a5=function(e){var t=e.services,r=e.serviceStrategy;tM(Array.isArray(t)&&t.length,"Array of Discovery Services is required");var n,i=e6(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;tM(s1(o.f_type)&&"Service"===o.f_type,"Service is required"),tM(s1(o.type)&&"authn"===o.type,"Service must be type authn. Received ".concat(o.type)),tM(o.method in a1||r.method===o.method,"Service method ".concat(o.method," is not supported"))}}catch(e){i.e(e)}finally{i.f()}return tM(s1(r),"Service strategy is required"),tM(s1(r.method)&&s3(r.method),"Service strategy method is required"),tM(s1(r.exec)&&s5(r.exec),"Service strategy exec function is required"),{discoveryServices:t,serviceStrategy:r}},a6=function(e){tM(e,"No plugins supplied");var t,r,n=e6(t=Array.isArray(e)?tB(e):[e]);try{for(n.s();!(r=n.n()).done;){var i=r.value;tM(s1(i.name),"Plugin name is required"),tM(s1(i.f_type),"Plugin f_type is required"),tM(a2.includes(i.f_type),"Plugin type ".concat(i.f_type," is not supported"))}}catch(e){n.e(e)}finally{n.f()}return t},a8=(I=new Set,R=new Map(Object.entries(a1)),Object.freeze({add:function(e){if(tM(a3.includes(e.type),"Service Plugin type ".concat(e.type," is not supported")),"discovery-service"===e.type){var t=a5(e),r=t.discoveryServices,n=t.serviceStrategy;I=new Set(tB(r)),R.has(n.method)?tz({title:"Add Service Plugin",message:"Service strategy for ".concat(n.method," already exists"),level:tj.warn}):R.set(n.method,n.exec)}},getServices:function(){return tB(I)},getStrategy:function(e){return R.get(e)},getStrategies:function(){return tB(R.keys())}})),a4=(k=new Map,Object.freeze({add:function(e){var t,r=a6(e),n=e6(r);try{for(n.s();!(t=n.n()).done;){var i=t.value;k.set(i.name,i),"ServicePlugin"===i.f_type&&a8.add(i)}}catch(e){n.e(e)}finally{n.f()}},getPlugins:function(){return k}})),a7=(D=e$(eX().mark(function e(t){var r,n,i,o,s;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service,n=t.body,i=t.config,o=t.opts,s=a8.getStrategy(r.method),e.abrupt("return",s({service:r,body:n,config:i,opts:o}));case 3:case"end":return e.stop()}},e)})),function(e){return D.apply(this,arguments)});function a9(e){return ue.apply(this,arguments)}function ue(){return(ue=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c,l,f,p,h;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.service,a=void 0===(s=t.msg)?{}:s,c=void 0===(u=t.config)?{}:u,f=void 0===(l=t.opts)?{}:l,a.data=o.data,e.next=4,sX(/^service\./);case 4:return e.t0=e.sent,e.next=7,sX(/^app\.detail\./);case 7:return e.t1=e.sent,e.t2=e5(e5({},c.client),{},{fclVersion:sZ,fclLibrary:"https://github.com/onflow/fcl-js",hostname:null!==(r=null===(n=window)||void 0===n?void 0:null===(i=n.location)||void 0===i?void 0:i.hostname)&&void 0!==r?r:null}),p={services:e.t0,app:e.t1,client:e.t2},e.prev=10,e.next=13,a7({service:o,body:a,config:p,opts:f});case 13:if("REDIRECT"!==(h=e.sent).status){e.next=21;break}return tM(o.type===h.data.type,"Cannot shift recursive service type in execService"),e.next=18,a9({service:h.data,msg:a,config:p,opts:f});case 18:return e.abrupt("return",e.sent);case 21:return e.abrupt("return",h);case 22:e.next=28;break;case 24:throw e.prev=24,e.t3=e.catch(10),tz({title:"Error on execService ".concat(null==o?void 0:o.type),message:e.t3,level:tj.error}),e.t3;case 28:case"end":return e.stop()}},e,null,[[10,24]])}))).apply(this,arguments)}function ut(e){return null==e?null:"1.0.0"===e.f_vsn?e:e5(e5({},am),{},{addr:t1(e.addr||e.address),signature:e.signature||e.sig,keyId:e.keyId})}var ur=(A=e$(eX().mark(function e(){var t,r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===(t=window)||void 0===t?void 0:t.fcl_extensions)||[],e.abrupt("return",[].concat(tB(r),tB(a8.getServices())));case 2:case"end":return e.stop()}},e)})),function(){return A.apply(this,arguments)});function un(){return(un=e$(eX().mark(function e(t){var r,n,i,o,s;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tP.get("discovery.authn.include",[]);case 2:return n=e.sent,e.next=5,tP.first(["discovery.wallet.method","discovery.wallet.method.default"]);case 5:if(i=e.sent,o=null!=t&&t.method?t.method:i,!(null!==(r=null==t?void 0:t.endpoint)&&void 0!==r)){e.next=11;break}e.t0=r,e.next=14;break;case 11:return e.next=13,tP.first(["discovery.wallet","challenge.handshake"]);case 13:e.t0=e.sent;case 14:return tM(s=e.t0,'\n    If no service is passed to "authenticate," then "discovery.wallet" must be defined in fcl config.\n    See: "https://docs.onflow.org/fcl/reference/api/#setting-configuration-values"\n    '),e.abrupt("return",e5(e5({},t),{},{type:"authn",endpoint:s,method:o,discoveryAuthnInclude:n}));case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ui(){return(ui=e$(eX().mark(function e(t){var r,n,i,o,s,a;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.types,e.next=3,tP.get("discovery.authn.endpoint");case 3:return tM(Boolean(o=e.sent),'"discovery.authn.endpoint" in config must be defined.'),e.next=7,tP.get("discovery.authn.include",[]);case 7:return s=e.sent,a=new URL(o),e.t0=fetch,e.t1=a,e.t2={"Content-Type":"application/json"},e.t3=JSON,e.t4=i,e.t5=sZ,e.t6=s,e.next=18,ur();case 18:return e.t7=e.sent,e.t8=a8.getStrategies(),e.t9=null===(r=window)||void 0===r?void 0:null===(n=r.navigator)||void 0===n?void 0:n.userAgent,e.t10={type:e.t4,fclVersion:e.t5,include:e.t6,clientServices:e.t7,supportedStrategies:e.t8,userAgent:e.t9},e.t11=e.t3.stringify.call(e.t3,e.t10),e.t12={method:"POST",headers:e.t2,body:e.t11},e.abrupt("return",(0,e.t0)(e.t1,e.t12).then(function(e){return e.json()}));case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}var uo={AUTHN:"authn",RESULTS:"results",SNAPSHOT:"SNAPSHOT",UPDATED:"UPDATED",UPDATE_RESULTS:"UPDATE_RESULTS"},us=function(e,t){e&&console.warn("\n      %cFCL Warning\n      ============================\n      ".concat(t,"\n      For more info, please see the docs: https://docs.onflow.org/fcl/\n      ============================\n      "),"font-weight:bold;font-family:monospace;")},ua=(C=e$(eX().mark(function e(){var t;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e){return ui.apply(this,arguments)}({types:[uo.AUTHN]});case 3:t=e.sent,ta(uo.AUTHN,uo.UPDATE_RESULTS,{results:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),tz({title:"".concat(e.t0.name," Error fetching Discovery API services."),message:e.t0.message,level:tj.error});case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return C.apply(this,arguments)}),uu=(e2(ex={},e9,(O=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:us("undefined"==typeof window,'"fcl.discovery" is only available in the browser.'),"complete"===document.readyState?ua():window.onload=e$(eX().mark(function e(){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ua();case 1:case"end":return e.stop()}},e)}));case 2:case"end":return e.stop()}},e)})),function(e){return O.apply(this,arguments)})),e2(ex,uo.UPDATE_RESULTS,function(e,t,r){e.merge(r),e.broadcast(uo.UPDATED,e5({},e.all()))}),e2(ex,te,function(e,t){e.subscribe(t.from),e.send(t.from,uo.UPDATED,e5({},e.all()))}),e2(ex,tt,function(e,t){return e.unsubscribe(t.from)}),e2(ex,uo.SNAPSHOT,(T=e$(eX().mark(function e(t,r){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.reply(e5({},t.all())));case 1:case"end":return e.stop()}},e)})),function(e,t){return T.apply(this,arguments)})),ex),uc=function(){return tl(uu,uo.AUTHN)},ul={authn:{subscribe:function(e){return tf(uo.AUTHN,uc,e)},snapshot:function(){return tp(uo.AUTHN,uc)},update:function(){return ua()}}},uf="CURRENT_USER",up="CURRENT_USER/UPDATED",uh="SNAPSHOT",ud="SET_CURRENT_USER",ug="DEL_CURRENT_USER",uy='{\n  "f_type": "User",\n  "f_vsn": "1.0.0",\n  "addr":null,\n  "cid":null,\n  "loggedIn":null,\n  "expiresAt":null,\n  "services":[]\n}',uv=(N=e$(eX().mark(function e(t){var r,n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(uy),e.next=3,t.get(uf);case 3:if(!(null!=(n=e.sent)&&r.f_vsn!==n.f_vsn)){e.next=7;break}return t.removeItem(uf),e.abrupt("return",r);case 7:return e.abrupt("return",n||r);case 8:case"end":return e.stop()}},e)})),function(e){return N.apply(this,arguments)}),um=(e2(eS={},e9,(P=e$(eX().mark(function e(t){var r,n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"==typeof window&&console.warn('\n        %cFCL Warning\n        ============================\n        "currentUser" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        ',"font-weight:bold;font-family:monospace;"),t.merge(JSON.parse(uy)),e.next=4,tP.first(["fcl.storage","fcl.storage.default"]);case 4:if(!(r=e.sent).can){e.next=10;break}return e.next=8,uv(r);case 8:var i;(null==(i=n=e.sent).expiresAt||0===i.expiresAt||i.expiresAt>Date.now())&&t.merge(n);case 10:case"end":return e.stop()}},e)})),function(e){return P.apply(this,arguments)})),e2(eS,te,function(e,t){e.subscribe(t.from),e.send(t.from,up,e5({},e.all()))}),e2(eS,tt,function(e,t){e.unsubscribe(t.from)}),e2(eS,uh,(L=e$(eX().mark(function e(t,r){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.reply(e5({},t.all()));case 1:case"end":return e.stop()}},e)})),function(e,t){return L.apply(this,arguments)})),e2(eS,ud,(U=e$(eX().mark(function e(t,r,n){var i;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.merge(n),e.next=3,tP.first(["fcl.storage","fcl.storage.default"]);case 3:(i=e.sent).can&&i.put(uf,t.all()),t.broadcast(up,e5({},t.all()));case 6:case"end":return e.stop()}},e)})),function(e,t,r){return U.apply(this,arguments)})),e2(eS,ug,(M=e$(eX().mark(function e(t,r){var n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.merge(JSON.parse(uy)),e.next=3,tP.first(["fcl.storage","fcl.storage.default"]);case 3:(n=e.sent).can&&n.put(uf,t.all()),t.broadcast(up,e5({},t.all()));case 6:case"end":return e.stop()}},e)})),function(e,t){return M.apply(this,arguments)})),eS),ub=function(){return tl(um,uf)};function uw(){return(uw=e$(eX().mark(function e(){var t,r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tP.get("fcl.accountProof.resolver");case 2:if("function"==typeof(t=e.sent)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,t();case 7:if(null!=(r=e.sent)){e.next=10;break}return e.abrupt("return");case 10:return tM("string"==typeof r.appIdentifier,"appIdentifier must be a string"),tM(/^[0-9a-f]+$/i.test(r.nonce),"Nonce must be a hex string"),e.abrupt("return",r);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var u_=(B=e$(eX().mark(function e(t){var r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.discoveryAuthnInclude,e.t0=r,e.next=4,ur();case 4:return e.t1=e.sent,e.t2=a8.getStrategies(),e.t3={discoveryAuthnInclude:e.t0,clientServices:e.t1,supportedStrategies:e.t2},e.abrupt("return",{client:e.t3});case 8:case"end":return e.stop()}},e)})),function(e){return B.apply(this,arguments)});function uE(){return ux.apply(this,arguments)}function ux(){return(ux=e$(eX().mark(function e(){var t,r,n,i,o,s,a,u=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n=u.length>0&&void 0!==u[0]?u[0]:{}).service,s=void 0!==(o=n.redir)&&o,!(i&&!(null!=i&&null!==(t=i.provider)&&void 0!==t&&t.is_installed)&&null!=i&&null!==(r=i.provider)&&void 0!==r&&r.requires_install)){e.next=4;break}return window.location.href=null==i?void 0:null===(a=i.provider)||void 0===a?void 0:a.install_link,e.abrupt("return");case 4:return e.abrupt("return",new Promise(function(){var e=e$(eX().mark(function e(t,r){var n,o,a,u,c,l,f;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ub(),n={redir:s},e.next=4,uA();case 4:return o=e.sent,e.next=7,function(e){return un.apply(this,arguments)}(i);case 7:return a=e.sent,u=aI(o.services,"authn-refresh"),e.prev=9,e.next=12,function(){return uw.apply(this,arguments)}();case 12:c=e.sent,e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(9),console.error("Error During Authentication: Could not resolve account proof data.\n        ".concat(e.t0)),e.abrupt("return",r(e.t0));case 19:if(!o.loggedIn){e.next=47;break}if(!u){e.next=46;break}return e.prev=21,e.next=24,a9({service:u,msg:c,opts:n});case 24:return l=e.sent,e.t1=ta,e.t2=uf,e.t3=ud,e.next=30,ax(l);case 30:e.t4=e.sent,(0,e.t1)(e.t2,e.t3,e.t4),e.next=37;break;case 34:e.prev=34,e.t5=e.catch(21),console.error("Error: Could not refresh authentication.",e.t5);case 37:return e.prev=37,e.t6=t,e.next=41,uA();case 41:return e.t7=e.sent,e.abrupt("return",(0,e.t6)(e.t7));case 44:e.next=47;break;case 46:return e.abrupt("return",t(o));case 47:return e.prev=47,e.t8=a9,e.t9=a,e.t10=c,e.next=53,u_(a);case 53:return e.t11=e.sent,e.t12=n,e.t13={service:e.t9,msg:e.t10,config:e.t11,opts:e.t12},e.next=58,(0,e.t8)(e.t13);case 58:return f=e.sent,e.t14=ta,e.t15=uf,e.t16=ud,e.next=64,ax(f);case 64:e.t17=e.sent,(0,e.t14)(e.t15,e.t16,e.t17),e.next=71;break;case 68:e.prev=68,e.t18=e.catch(47),console.error("Error while authenticating",e.t18);case 71:return e.prev=71,e.t19=t,e.next=75,uA();case 75:return e.t20=e.sent,(0,e.t19)(e.t20),e.finish(71);case 78:case"end":return e.stop()}},e,null,[[9,15],[21,34,37,44],[47,68,71,78]])}));return function(t,r){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function uS(){ub(),ta(uf,ug)}function uI(e){var t={f_type:"PreAuthzResponse",f_vsn:"1.0.0",proposer:(e||{}).proposer,payer:(e||{}).payer||[],authorization:(e||{}).authorization||[]},r=[];null!=t.proposer&&r.push(["PROPOSER",t.proposer]);var n,i=e6(t.payer||[]);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(["PAYER",o])}}catch(e){i.e(e)}finally{i.f()}var s,a=e6(t.authorization||[]);try{for(a.s();!(s=a.n()).done;){var u=s.value;r.push(["AUTHORIZER",u])}}catch(e){a.e(e)}finally{a.f()}return r.map(function(e){var t=eK(e,2),r=t[0],n=t[1];return{tempId:[n.identity.address,n.identity.keyId].join("|"),addr:n.identity.address,keyId:n.identity.keyId,signingFunction:function(e){return a9({service:n,msg:e})},role:{proposer:"PROPOSER"===r,payer:"PAYER"===r,authorizer:"AUTHORIZER"===r}}})}function uR(e){return uk.apply(this,arguments)}function uk(){return(uk=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ub(),e.abrupt("return",e5(e5({},t),{},{tempId:"CURRENT_USER",resolve:function(e,t){return e$(eX().mark(function r(){var n,i,o,s;return eX().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,uE({redir:!0});case 2:if(i=aI((n=r.sent).services,"authz"),!(o=aI(n.services,"pre-authz"))){r.next=11;break}return r.t0=uI,r.next=9,a9({service:o,msg:t});case 9:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 11:if(!i){r.next=14;break}return("undefined"!=typeof navigator&&/android/i.test(navigator.userAgent)||"undefined"!=typeof navigator&&/iPhone|iPod/.test(navigator.userAgent)||"undefined"!=typeof navigator&&/iPad/.test(navigator.userAgent))&&"WC/RPC"===i.method&&(s=window.open("","_blank")),r.abrupt("return",e5(e5({},e),{},{tempId:"CURRENT_USER",resolve:null,addr:t1(i.identity.address),keyId:i.identity.keyId,sequenceNum:null,signature:null,signingFunction:function(e){return e$(eX().mark(function t(){return eX().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ut,t.next=3,a9({service:i,msg:e,opts:{includeOlderJsonRpcCall:!0,windowRef:s}});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},t)}))()}}));case 14:throw Error("No Authz or PreAuthz Service configured for CURRENT_USER");case 15:case"end":return r.stop()}},r)}))()}}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function uD(e){ub();var t,r="@EXIT",n=tl((t=e$(eX().mark(function t(n){var i;return eX().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.send(uf,te);case 1:return t.next=4,n.receive();case 4:if((i=t.sent).tag!==r){t.next=8;break}return n.send(uf,tt),t.abrupt("return");case 8:e(i.data),t.next=1;break;case 11:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}));return function(){return ta(n,r)}}function uA(){return ub(),ta(uf,uh,null,{expectReply:!0,timeout:0})}function uC(){return uO.apply(this,arguments)}function uO(){return(uO=e$(eX().mark(function e(){var t;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uE();case 2:return t=e.sent.addr,e.abrupt("return",oS(t2(t),sM));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function uT(e){return uN.apply(this,arguments)}function uN(){return(uN=e$(eX().mark(function e(t){var r,n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ub(),e.next=3,uE({redir:!0});case 3:return tM(r=aI(e.sent.services,"user-signature"),"Current user must have authorized a signing service."),e.prev=6,e.next=9,a9({service:r,msg:(tM(/^[0-9a-f]+$/i.test(t),"Message must be a hex string"),{message:t})});case 9:if(!Array.isArray(n=e.sent)){e.next=14;break}return e.abrupt("return",n.map(function(e){return ut(e)}));case 14:return e.abrupt("return",[ut(n)]);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(6),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}},e,null,[[6,17]])}))).apply(this,arguments)}var uP=function(){return{authenticate:uE,unauthenticate:uS,authorization:uR,signUserMessage:uT,subscribe:uD,snapshot:uA,resolveArgument:uC}};function uL(){return(uL=e$(eX().mark(function e(){var t,r,n,i=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},e.prev=1,e.next=4,function(e){return au.apply(this,arguments)}(t);case 4:return e.next=6,ai(t);case 6:return t=e.sent,e.next=9,tP().get("fcl.authz",uP().authorization);case 9:return n=e.sent,r=tP().overload(t.dependencies||{},e$(eX().mark(function e(){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oy([function(){return ir([nq,is("ix.cadence",nr.apply(void 0,arguments)),function(e){return e.message.refBlock=e.message.refBlock||null,e.authorizations=e.authorizations||ok,nP(e)}])}(t.cadence),ox(s8(t.args||[])),t.limit&&s6(t.limit)&&oE(t.limit),function(e){return oI.apply(this,arguments)}(t.proposer||t.authz||n),function(e){return oR.apply(this,arguments)}(t.payer||t.authz||n),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return ir(e.map(function(e){return nB(e,{role:nv})}))}(t.authorizations||[t.authz||n])]).then(ov));case 1:case"end":return e.stop()}},e)}))),e.abrupt("return",r);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}},e,null,[[1,14]])}))).apply(this,arguments)}uP.authenticate=uE,uP.unauthenticate=uS,uP.authorization=uR,uP.signUserMessage=uT,uP.subscribe=uD,uP.snapshot=uA,uP.resolveArgument=uC;var uU=function(e){return tq.Buffer.from(e.padStart(16,"0"),"hex")},uM=function(e){return tq.Buffer.from(e,"hex")},uB=function(e){if(e.appIdentifier){var t=e.appIdentifier,r=e.address,n=e.nonce,i=e.signatures;return tM(s3(t),"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string"),tM(s3(r)&&16===t1(r).length,"verifyAccountProof({ address }) -- address must be a valid address"),tM(/^[0-9a-f]+$/i.test(n),"nonce must be a hex string"),tM(Array.isArray(i)&&i.every(function(e,t,r){return"CompositeSignature"===e.f_type}),"Must include an Array of CompositeSignatures to verify"),tM(i.map(function(e){return e.addr}).every(function(e,t,r){return e===r[0]}),"User signatures to be verified must be from a single account address"),!0}var o=e.message,s=e.address,a=e.compSigs;return tM(/^[0-9a-f]+$/i.test(o),"Signed message must be a hex string"),tM(s3(s)&&16===t1(s).length,"verifyUserSignatures({ address }) -- address must be a valid address"),tM(Array.isArray(a)&&a.every(function(e,t,r){return"CompositeSignature"===e.f_type}),"Must include an Array of CompositeSignatures to verify"),tM(a.map(function(e){return e.addr}).every(function(e,t,r){return e===r[0]}),"User signatures to be verified must be from a single account address"),!0},uj=(j=e$(eX().mark(function e(t,r){var n,i,o;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="ACCOUNT_PROOF"===t?"verifyAccountProofSignatures":"verifyUserSignatures",e.next=3,tP.get("flow.network");case 3:if(i=e.sent){e.next=9;break}return e.next=7,tP.get("env");case 7:(i=e.sent)&&tz.deprecate({pkg:"FCL",subject:'Using the "env" configuration key for specifying the flow network',message:'Please use "flow.network" instead.',transition:"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key"});case 9:return tM(r.fclCryptoContract||"testnet"===i||"mainnet"===i,"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract"),o=r.fclCryptoContract?r.fclCryptoContract:"testnet"===i?"0x74daa6f9c7ef24b1":"0xb4b82a1c9d21d284",e.abrupt("return","\n      import FCLCrypto from ".concat(o,"\n\n      pub fun main(\n          address: Address, \n          message: String, \n          keyIndices: [Int], \n          signatures: [String]\n      ): Bool {\n        return FCLCrypto.").concat(n,"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\n      }\n    "));case 12:case"end":return e.stop()}},e)})),function(e,t){return j.apply(this,arguments)});function uF(){return(uF=e$(eX().mark(function e(t,r){var n,i,o,s,a,u,c,l=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>2&&void 0!==l[2]?l[2]:{},uB({message:t,address:i=t2(r[0].addr),compSigs:r}),o=[],s=[],a=e6(r);try{for(a.s();!(u=a.n()).done;)c=u.value,o.push(c.signature),s.push(c.keyId.toString())}catch(e){a.e(e)}finally{a.f()}return e.t0=al,e.next=10,uj("USER_SIGNATURE",n);case 10:return e.t1=e.sent,e.t2=function(e,r){return[e(i,r.Address),e(t,r.String),e(s,r.Array(r.Int)),e(o,r.Array(r.String))]},e.t3={cadence:e.t1,args:e.t2},e.abrupt("return",(0,e.t0)(e.t3));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}tz.deprecate({pkg:"FCL",subject:"fcl.verifyUserSignatures()",message:"Please use fcl.AppUtils.verifyUserSignatures()",callback:function(e,t){return function(e,t){return uF.apply(this,arguments)}(e,t)}});var uz="POLL",uq=(F=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oy([function(e){return ir([nG,function(t){return t.transaction.id=e,nP(t)}])}(t)]).then(ov));case 1:case"end":return e.stop()}},e)})),function(e){return F.apply(this,arguments)}),uG=function(e){return e.status>=4},uW=function(e){return e.status>=3},uH=function(e){return e.status>=2},uV=(e2(eI={},e9,(z=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.sendSelf(uz);case 1:case"end":return e.stop()}},e)})),function(e){return z.apply(this,arguments)})),e2(eI,te,function(e,t){e.subscribe(t.from),e.send(t.from,tr,e.all())}),e2(eI,tt,function(e,t){e.unsubscribe(t.from)}),e2(eI,tn,(q=e$(eX().mark(function e(t,r){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.reply(t.all());case 1:case"end":return e.stop()}},e)})),function(e,t){return q.apply(this,arguments)})),e2(eI,uz,(G=e$(eX().mark(function e(t){var r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uq(t.self());case 3:r=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",t.fatalError(e.t0));case 9:var n,i;uG(r)||setTimeout(function(){return t.sendSelf(uz)},2500),n=t.all(),i=r,JSON.stringify(n)!==JSON.stringify(i)&&t.broadcast(tr,r),t.merge(r);case 12:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return G.apply(this,arguments)})),eI),uK=function(e){if("object"===e0(e)&&(e=e.transactionId),null==e)throw Error("transactionId required");return e},uJ=function(e){return tl(uV,uK(e))};function u$(e){function t(t){return tf(uK(e),uJ,t)}function r(e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.suppress||!1;return new Promise(function(r,i){var o=t(function(t,s){(s||t.statusCode)&&!n?(i(s||t.errorMessage),o()):e(t)&&(r(t),o())})})}}return{snapshot:function(){return tp(e,uJ)},subscribe:t,onceFinalized:r(uH),onceExecuted:r(uW),onceSealed:r(uG)}}u$.isUnknown=function(e){return e.status>=0},u$.isPending=function(e){return e.status>=1},u$.isFinalized=uH,u$.isExecuted=uW,u$.isSealed=uG,u$.isExpired=function(e){return 5===e.status};var uY="TICK",uX=(W=e$(eX().mark(function e(t){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=setTimeout,e.t1=function(){return t.sendSelf(uY)},e.next=4,tP().get("fcl.eventPollRate",1e4);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)})),function(e){return W.apply(this,arguments)});e2(eR={},uY,(H=e$(eX().mark(function e(t){var r,n,i,o,s;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasSubs()){e.next=2;break}return e.abrupt("return");case 2:if(null!=(r=t.get("hwm"))){e.next=18;break}return e.t0=t,e.t1="hwm",e.next=8,o_();case 8:return e.t2=e.sent,e.t0.put.call(e.t0,e.t1,e.t2),e.t3=t,e.t4=uY,e.next=14,uX(t);case 14:e.t5=e.sent,e.t3.put.call(e.t3,e.t4,e.t5),e.next=34;break;case 18:return e.next=20,o_();case 20:if(n=e.sent,t.put("hwm",n),!(r.height<n.height)){e.next=28;break}return e.next=25,oy([function(e,t,r){return ir([nV,function(n){return n.events.eventType=e,n.events.start=t,n.events.end=r,nP(n)}])}(t.self(),r.height+1,n.height)]).then(ov);case 25:i=e6(e.sent);try{for(i.s();!(o=i.n()).done;)s=o.value,t.broadcast("UPDATED",s.data)}catch(e){i.e(e)}finally{i.f()}case 28:return e.t6=t,e.t7=uY,e.next=32,uX(t);case 32:e.t8=e.sent,e.t6.put.call(e.t6,e.t7,e.t8);case 34:case"end":return e.stop()}},e)})),function(e){return H.apply(this,arguments)})),e2(eR,te,(V=e$(eX().mark(function e(t,r){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasSubs()){e.next=7;break}return e.t0=t,e.t1=uY,e.next=5,uX(t);case 5:e.t2=e.sent,e.t0.put.call(e.t0,e.t1,e.t2);case 7:t.subscribe(r.from);case 8:case"end":return e.stop()}},e)})),function(e,t){return V.apply(this,arguments)})),e2(eR,tt,function(e,t){e.unsubscribe(t.from),e.hasSubs()||(clearTimeout(e.get(uY)),e.delete(uY),e.delete("hwm"))});var uQ={},uZ={},u0={},u1={},u2=function(e,t){return function(r,n){var i=2*n,o=2*t;r[i]=e[o],r[i+1]=e[o+1]}};Object.defineProperty(K=u1,"__esModule",{value:!0}),K.default=void 0,J=u2&&u2.__esModule?u2:{default:u2},K.default=function(e){for(var t=e.A,r=e.C,n=0;n<25;n+=5){for(var i=0;i<5;i++)(0,J.default)(t,n+i)(r,i);for(var o=0;o<5;o++){var s=(n+o)*2,a=(o+1)%5*2,u=(o+2)%5*2;t[s]^=~r[a]&r[u],t[s+1]^=~r[a+1]&r[u+1]}}};var u3={},u5={};Object.defineProperty($=u5,"__esModule",{value:!0}),$.default=void 0,Y=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]),$.default=Y,Object.defineProperty(X=u3,"__esModule",{value:!0}),X.default=void 0,Q=u5&&u5.__esModule?u5:{default:u5},X.default=function(e){var t=e.A,r=2*e.roundIndex;t[0]^=Q.default[r],t[1]^=Q.default[r+1]};var u6={},u8={};Object.defineProperty(Z=u8,"__esModule",{value:!0}),Z.default=void 0,Z.default=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];var u4={};Object.defineProperty(ee=u4,"__esModule",{value:!0}),ee.default=void 0,ee.default=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(u8),r=i(u4),n=i(u2);function i(e){return e&&e.__esModule?e:{default:e}}e.default=function(e){var i=e.A,o=e.C,s=e.W;(0,n.default)(i,1)(s,0);for(var a=0,u=0,c=0,l=32,f=0;f<24;f++){var p=t.default[f],h=r.default[f];(0,n.default)(i,p)(o,0),a=s[0],u=s[1],l=32-h,s[c=h<32?0:1]=a<<h|u>>>l,s[(c+1)%2]=u<<h|a>>>l,(0,n.default)(s,0)(i,p),(0,n.default)(o,0)(s,0)}}}(u6);var u7={};function u9(e){return ce.apply(this,arguments)}function ce(){return(ce=e$(eX().mark(function e(t){var r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new uQ.SHA3(256)).update(tq.Buffer.from(t,"utf8")),e.abrupt("return",r.digest("hex"));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(e){return{contractName:e.contractName,address:e.address,contract:""}}Object.defineProperty(et=u7,"__esModule",{value:!0}),et.default=void 0,er=u2&&u2.__esModule?u2:{default:u2},et.default=function(e){for(var t=e.A,r=e.C,n=e.D,i=e.W,o=0,s=0,a=0;a<5;a++){var u=2*a,c=(a+5)*2,l=(a+10)*2,f=(a+15)*2,p=(a+20)*2;r[u]=t[u]^t[c]^t[l]^t[f]^t[p],r[u+1]=t[u+1]^t[c+1]^t[l+1]^t[f+1]^t[p+1]}for(var h=0;h<5;h++){(0,er.default)(r,(h+1)%5)(i,0),o=i[0],s=i[1],i[0]=o<<1|s>>>31,i[1]=s<<1|o>>>31,n[2*h]=r[(h+4)%5*2]^i[0],n[2*h+1]=r[(h+4)%5*2+1]^i[1];for(var d=0;d<25;d+=5)t[(d+h)*2]^=n[2*h],t[(d+h)*2+1]^=n[2*h+1]}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(u1),r=o(u3),n=o(u6),i=o(u7);function o(e){return e&&e.__esModule?e:{default:e}}e.default=function(){var e=new Uint32Array(10),o=new Uint32Array(10),s=new Uint32Array(2);return function(a){for(var u=0;u<24;u++)(0,i.default)({A:a,C:e,D:o,W:s}),(0,n.default)({A:a,C:e,W:s}),(0,t.default)({A:a,C:e}),(0,r.default)({A:a,roundIndex:u});e.fill(0),o.fill(0),s.fill(0)}}}(u0),Object.defineProperty(en=uZ,"__esModule",{value:!0}),en.default=void 0,ei=u0&&u0.__esModule?u0:{default:u0},eo=function(e,t){for(var r=0;r<e.length;r+=8){var n=r/4;t[n]^=e[r+7]<<24|e[r+6]<<16|e[r+5]<<8|e[r+4],t[n+1]^=e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}return t},es=function(e,t){for(var r=0;r<t.length;r+=8){var n=r/4;t[r]=e[n+1],t[r+1]=e[n+1]>>>8,t[r+2]=e[n+1]>>>16,t[r+3]=e[n+1]>>>24,t[r+4]=e[n],t[r+5]=e[n]>>>8,t[r+6]=e[n]>>>16,t[r+7]=e[n]>>>24}return t},en.default=function(e){var t=this,r=e.capacity,n=e.padding,i=(0,ei.default)(),o=r/8,s=200-r/4,a=0,u=new Uint32Array(50),c=tq.Buffer.allocUnsafe(s);return this.absorb=function(e){for(var r=0;r<e.length;r++)c[a]=e[r],(a+=1)>=s&&(eo(c,u),i(u),a=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||tq.Buffer.allocUnsafe(o),padding:e.padding||n,queue:tq.Buffer.allocUnsafe(c.length),state:new Uint32Array(u.length)};c.copy(t.queue);for(var r=0;r<u.length;r++)t.state[r]=u[r];t.queue.fill(0,a),t.queue[a]|=t.padding,t.queue[s-1]|=128,eo(t.queue,t.state);for(var l=0;l<t.buffer.length;l+=s)i(t.state),es(t.state,t.buffer.slice(l,l+s));return t.buffer},this.reset=function(){return c.fill(0),u.fill(0),a=0,t},this},Object.defineProperty(ea=uQ,"__esModule",{value:!0}),ea.default=ea.SHAKE=ea.SHA3Hash=ea.SHA3=ea.Keccak=void 0,eu=uZ&&uZ.__esModule?uZ:{default:uZ},el=(ec=function(e){var t=e.allowedSizes,r=e.defaultSize,n=e.padding;return function e(){var i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(!this||this.constructor!==e)return new e(o);if(t&&!t.includes(o))throw Error("Unsupported hash length");var s=new eu.default({capacity:o});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(tq.Buffer.isBuffer(e))return s.absorb(e),i;if("string"==typeof e)return i.update(tq.Buffer.from(e,t));throw TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"==typeof e?{format:e}:e,r=s.squeeze({buffer:t.buffer,padding:t.padding||n});return t.format&&"binary"!==t.format?r.toString(t.format):r},this.reset=function(){return s.reset(),i},this}})({allowedSizes:[224,256,384,512],defaultSize:512,padding:1}),ea.Keccak=el,ef=ec({allowedSizes:[224,256,384,512],defaultSize:512,padding:6}),ea.SHA3=ef,ep=ec({allowedSizes:[128,256],defaultSize:256,padding:31}),ea.SHAKE=ep,ea.SHA3Hash=el,ef.SHA3Hash=el,ea.default=ef;function cr(){return(cr=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c,l,f,p,h,d=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.address,n=t.contractName,i=t.blockHeight,o=d.length>1&&void 0!==d[1]?d[1]:{},og(void 0!=r,"generateDependencyPin({ address }) -- address must be defined"),og(void 0!=n,"generateDependencyPin({ contractName }) -- contractName must be defined"),og(void 0!=i,"generateDependencyPin({ blockHeight }) -- blockHeight must be defined"),og("string"==typeof r,"generateDependencyPin({ address }) -- address must be a string"),og("string"==typeof n,"generateDependencyPin({ contractName }) -- contractName must be a string"),og("number"==typeof i,"generateDependencyPin({ blockHeight }) -- blockHeight must be a number"),a=0,u=s=[ct({contractName:n,address:r})];case 10:if(!(a<u.length)){e.next=33;break}return l=u[a],e.t0=oy,e.t1=ih,e.next=16,tP().get(l.address,l.address);case 16:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t4=ow(i),e.t5=[e.t3,e.t4],e.t6=o,e.next=23,(0,e.t0)(e.t5,e.t6).then(ov);case 23:if(f=e.sent,l.contract=null===(c=f.contracts)||void 0===c?void 0:c[l.contractName],l.contract){e.next=28;break}throw console.error("Did not find expected contract",l,f),Error("Did not find expected contract");case 28:p=function(e){var t,r=[],n=e6(e.match(/import ((\w|,| )+)* from 0x\w+/g)||[]);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,s=/import ((\w+|, |)*) from (0x\w+)/g.exec(o),a=/((?:\w+)+),?/g,u=s[1].match(a)||[],c=e6(u);try{for(c.s();!(i=c.n()).done;){var l=i.value;r.push(ct({address:s[3],contractName:l.replace(/,/g,"")}))}}catch(e){c.e(e)}finally{c.f()}}}catch(e){n.e(e)}finally{n.f()}return r}(l.contract),s.push.apply(s,tB(p));case 30:a++,e.next=10;break;case 33:return h=s.map(function(e){return u9(e.contract)}).join(""),e.abrupt("return",u9(h));case 36:case"end":return e.stop()}},e)}))).apply(this,arguments)}var cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uP().authenticate(e)};uP().authorization;var ci=r(3454);let co=ci.env.NEXT_PUBLIC_FLOW_ENV||"testnet",cs={emulator:{flowNetwork:"local",accessApi:ci.env.NEXT_PUBLIC_EMULATOR_API||"http://localhost:8888",walletDiscovery:"https://fcl-discovery.onflow.org/local/authn",walletDiscoveryApi:"https://fcl-discovery.onflow.org/api/local/authn",walletDiscoveryInclude:[],addresses:{FlowToken:"0x0ae53cb6e3f42a79",NonFungibleToken:"0x0ae53cb6e3f42a79",MetadataViews:"0x0ae53cb6e3f42a79",FungibleToken:"0xee82856bf20e2aa6"}},testnet:{flowNetwork:"testnet",accessApi:"https://rest-testnet.onflow.org",walletDiscovery:"https://fcl-discovery.onflow.org/testnet/authn",walletDiscoveryApi:"https://fcl-discovery.onflow.org/api/testnet/authn",walletDiscoveryInclude:["0x82ec283f88a62e65"],addresses:{FlowToken:"0x7e60df042a9c0868",NonFungibleToken:"0x631e88ae7f1d7c20",MetadataViews:"0x631e88ae7f1d7c20",FungibleToken:"0x9a0766d93b6608b7"}},mainnet:{flowNetwork:"mainnet",accessApi:"https://rest-mainnet.onflow.org",walletDiscovery:"https://fcl-discovery.onflow.org/authn",walletDiscoveryApi:"https://fcl-discovery.onflow.org/api/authn",walletDiscoveryInclude:["0xead892083b3e2c6c"],addresses:{FlowToken:"0x1654653399040a61",NonFungibleToken:"0x1d7e57aa55817448",MetadataViews:"0x1d7e57aa55817448",FungibleToken:"0xf233dcee88fe0abe"}}},ca=cs[co];var cu=r(6516),cc=r(1163),cl=r.n(cc),cf=r(7294),cp=r(6559),ch=r.n(cp),cd=r(7187),cg=r.n(cd),cy=r(5150),cv=r(772),cm=r(9107),cb=r(8200);class cw extends cb.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class c_ extends cb.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class cE{constructor(e,t){this.logger=e,this.core=t}}class cx extends cb.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class cS extends cb.q{constructor(e){super()}}class cI{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class cR extends cb.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class ck extends cb.q{constructor(e,t){super(),this.core=e,this.logger=t}}class cD{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class cA{constructor(e){this.client=e}}var cC=r(1050),cO=r(1416),cT=r(6736);let cN="base64url",cP="base58btc";function cL(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function cU(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=cL(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}var cM=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,p=o-1;(0!==l||f<i)&&-1!==p;p--,f++)l+=a*s[p]>>>0,s[p]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var d=new Uint8Array(n+(o-h)),g=n;h!==o;)d[g++]=s[h++];return d}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],p=0,h=s-1;(0!==f||p<n)&&-1!==h;h--,p++)f+=256*c[h]>>>0,c[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=p,i++}for(var d=s-n;d!==s&&0===c[d];)d++;for(var g=u.repeat(r);d<s;++d)g+=e.charAt(c[d]);return g},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let cB=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},cj=e=>new TextEncoder().encode(e),cF=e=>new TextDecoder().decode(e);class cz{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class cq{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return cW(this,e)}}class cG{constructor(e){this.decoders=e}or(e){return cW(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let cW=(e,t)=>new cG({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class cH{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new cz(e,t,r),this.decoder=new cq(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let cV=({name:e,prefix:t,encode:r,decode:n})=>new cH(e,t,r,n),cK=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=cM(r,t);return cV({prefix:e,name:t,encode:n,decode:e=>cB(i(e))})},cJ=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(a+=r)>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw SyntaxError("Unexpected end of data");return s},c$=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},cY=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>cV({prefix:t,name:e,encode:e=>c$(e,n,r),decode:t=>cJ(t,n,r,e)}),cX=cV({prefix:"\x00",name:"identity",encode:e=>cF(e),decode:e=>cj(e)}),cQ=cY({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),cZ=cY({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),c0=cK({prefix:"9",name:"base10",alphabet:"0123456789"}),c1=cY({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),c2=cY({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),c3=cY({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),c5=cY({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),c6=cY({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),c8=cY({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c4=cY({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),c7=cY({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),c9=cY({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),le=cY({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lt=cY({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),lr=cK({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),ln=cK({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),li=cK({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lo=cK({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ls=cY({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),la=cY({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lu=cY({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),lc=cY({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ll=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),lf=ll.reduce((e,t,r)=>(e[r]=t,e),[]),lp=ll.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),lh=cV({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=lf[t],"")},decode:function(e){let t=[];for(let r of e){let e=lp[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});function ld(e,t,r){t=t||[];for(var n=r=r||0;e>=2147483648;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,ld.bytes=r-n+1,t}function lg(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw lg.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return lg.bytes=o-t,n}var ly={encode:ld,decode:lg,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10}};let lv=(e,t,r=0)=>(ly.encode(e,t,r),t),lm=e=>ly.encodingLength(e),lb=(e,t)=>{let r=t.byteLength,n=lm(e),i=n+lm(r),o=new Uint8Array(i+r);return lv(e,o,0),lv(r,o,n),o.set(t,i),new lw(e,r,t,o)};class lw{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let l_=({name:e,code:t,encode:r})=>new lE(e,t,r);class lE{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?lb(this.code,t):t.then(e=>lb(this.code,e))}throw Error("Unknown type, must be binary type")}}let lx=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),lS=l_({name:"sha2-256",code:18,encode:lx("SHA-256")}),lI=l_({name:"sha2-512",code:19,encode:lx("SHA-512")}),lR=e=>lb(0,cB(e)),lk={code:0,name:"identity",encode:cB,digest:lR},lD="raw",lA=85,lC=e=>cB(e),lO=e=>cB(e),lT=new TextEncoder,lN=new TextDecoder,lP="json",lL=512,lU=e=>lT.encode(JSON.stringify(e)),lM=e=>JSON.parse(lN.decode(e));class lB{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:lK,byteLength:lK,code:lV,version:lV,multihash:lV,bytes:lV,_baseCache:lK,asCID:lK})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==lq)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==lG)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return lB.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return lB.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Digest.equals(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?lF(t,n,e||base58btc.encoder):lz(t,n,e||base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return lJ(/^0\.0/,l$),!!(e&&(e[lH]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof lB)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new lB(t,r,n,i||lW(t,r,n.bytes))}if(null==e||!0!==e[lH])return null;{let{version:t,multihash:r,code:n}=e,i=Digest.decode(r);return lB.create(t,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===lq)return new lB(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${lq}) block encoding`);case 1:{let n=lW(e,t,r.bytes);return new lB(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return lB.create(0,lq,e)}static createV1(e,t){return lB.create(1,e,t)}static decode(e){let[t,r]=lB.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=lB.inspectBytes(e),r=t.size-t.multihashSize,n=coerce(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,i,n),s=0===t.version?lB.createV0(o):lB.createV1(t.codec,o);return[s,e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=varint.decode(e.subarray(t));return t+=n,r},n=r(),i=lq;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=lj(e,t),i=lB.decode(n);return i._baseCache.set(r,e),i}}let lj=(e,t)=>{switch(e[0]){case"Q":{let r=t||base58btc;return[base58btc.prefix,r.decode(`${base58btc.prefix}${e}`)]}case base58btc.prefix:{let r=t||base58btc;return[base58btc.prefix,r.decode(e)]}case base32.prefix:{let r=t||base32;return[base32.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},lF=(e,t,r)=>{let{prefix:n}=r;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},lz=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},lq=112,lG=18,lW=(e,t,r)=>{let n=varint.encodingLength(e),i=n+varint.encodingLength(t),o=new Uint8Array(i+r.byteLength);return varint.encodeTo(e,o,0),varint.encodeTo(t,o,n),o.set(r,i),o},lH=Symbol.for("@ipld/js-cid/CID"),lV={writable:!1,configurable:!1,enumerable:!0},lK={writable:!1,enumerable:!1,configurable:!1},lJ=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},l$=null,lY={...eD,...eA,...eC,...eO,...eT,...eN,...eP,...eL,...eU,...eM};function lX(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...eB,...ej});let lQ=lX("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>{let t=new TextEncoder;return t.encode(e.substring(1))}),lZ=lX("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=cL(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),l0={utf8:lQ,"utf-8":lQ,hex:lY.base16,latin1:lZ,ascii:lZ,binary:lZ,...lY};function l1(e,t="utf8"){let r=l0[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function l2(e,t="utf8"){let r=l0[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function l3(e){return l1(l2("string"==typeof e?e:JSON.stringify(e),"utf8"),cN)}function l5(e){let t=l2("K36",cP),r="z"+l1(cU([t,e]),cP);return["did","key",r].join(":")}function l6(e=(0,cO.randomBytes)(32)){return cC._w(e)}async function l8(e,t,r,n,i=(0,cT.fromMiliseconds)(Date.now())){var o,s;let a={alg:"EdDSA",typ:"JWT"},u=l5(n.publicKey),c={iss:u,sub:e,aud:t,iat:i,exp:i+r},l=l2([l3((o={header:a,payload:c}).header),l3(o.payload)].join("."),"utf8"),f=cC.Xx(n.secretKey,l);return[l3((s={header:a,payload:c,signature:f}).header),l3(s.payload),l1(s.signature,cN)].join(".")}r(3014);var l4=r(5501),l7=r(512),l9=r(3294),fe=r(7664),ft=r(3454),fr=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},fn=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},fi=function(e){this.version=e,this.type="node",this.name="node",this.os=ft.platform},fo=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},fs=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},fa=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},fu=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,fc=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],fl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ff(e){var t=""!==e&&fc.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new fs;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=fr(fr([],i,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-i.length),!0)):i=[];var o=i.join("."),s=function(e){for(var t=0,r=fl.length;t<r;t++){var n=fl[t],i=n[0];if(n[1].exec(e))return i}return null}(e),a=fu.exec(e);return a&&a[1]?new fo(r,o,s,a[1]):new fn(r,o,s)}var fp=r(6667),fh=r(8790),fd=r(7563);r(1882);let fg={waku:{publish:"waku_publish",subscribe:"waku_subscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe"},irn:{publish:"irn_publish",subscribe:"irn_subscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe"},iridium:{publish:"iridium_publish",subscribe:"iridium_subscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe"}};var fy=r(3454);function fv(e,t){return e.includes(":")?[e]:t.chains||[]}let fm="base10",fb="base16",fw="base64pad",f_="utf8";function fE(){let e=(0,cO.randomBytes)(32);return l1(e,fb)}function fx(e){let t=(0,l9.vp)(l2(e,f_));return l1(t,fb)}function fS(e){return Number(l1(e,fm))}function fI(e){let t=l2(e,fw),r=t.slice(0,1);if(1===fS(r)){let e=t.slice(1,33),n=t.slice(33,45),i=t.slice(45);return{type:r,sealed:i,iv:n,senderPublicKey:e}}let n=t.slice(1,13),i=t.slice(13);return{type:r,sealed:i,iv:n}}function fR(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function fk(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var fD=Object.defineProperty,fA=Object.getOwnPropertySymbols,fC=Object.prototype.hasOwnProperty,fO=Object.prototype.propertyIsEnumerable,fT=(e,t,r)=>t in e?fD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fN=(e,t)=>{for(var r in t||(t={}))fC.call(t,r)&&fT(e,r,t[r]);if(fA)for(var r of fA(t))fO.call(t,r)&&fT(e,r,t[r]);return e};let fP={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function fL(){return"u">typeof fy&&"u">typeof fy.versions&&"u">typeof fy.versions.node}function fU(e,t){return e.filter(e=>t.includes(e)).length===e.length}function fM(e){return Object.fromEntries(e.entries())}function fB(e){return new Map(Object.entries(e))}function fj(e){let t,r,n;let i=(0,cT.toMiliseconds)(e||cT.FIVE_MINUTES);return{resolve:e=>{n&&t&&(clearTimeout(n),t(e))},reject:e=>{n&&r&&(clearTimeout(n),r(e))},done:()=>new Promise((e,o)=>{n=setTimeout(o,i),t=e,r=o})}}function fF(e,t){return new Promise(async(r,n)=>{let i=setTimeout(()=>n(),t),o=await e;clearTimeout(i),r(o)})}function fz(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function fq(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function fG(e,t){return(0,cT.fromMiliseconds)((t||Date.now())+(0,cT.toMiliseconds)(e))}function fW(e){return Date.now()>=(0,cT.toMiliseconds)(e)}function fH(e,t){return`${e}${t?`:${t}`:""}`}function fV(e){return e?.relay||{protocol:"irn"}}function fK(e){let t=fg[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}var fJ=Object.defineProperty,f$=Object.getOwnPropertySymbols,fY=Object.prototype.hasOwnProperty,fX=Object.prototype.propertyIsEnumerable,fQ=(e,t,r)=>t in e?fJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fZ=(e,t)=>{for(var r in t||(t={}))fY.call(t,r)&&fQ(e,r,t[r]);if(f$)for(var r of f$(t))fX.call(t,r)&&fQ(e,r,t[r]);return e};function f0(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}let f1={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},f2={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function f3(e,t){let{message:r,code:n}=f2[e];return{message:t?`${r} ${t}`:r,code:n}}function f5(e,t){let{message:r,code:n}=f1[e];return{message:t?`${r} ${t}`:r,code:n}}function f6(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function f8(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function f4(e){return typeof e>"u"}function f7(e,t){return!!(t&&f4(e))||"string"==typeof e&&Boolean(e.trim().length)}function f9(e,t){return!!(t&&f4(e))||"number"==typeof e&&!isNaN(e)}function pe(e){return!!(f7(e,!1)&&e.includes(":"))&&2===e.split(":").length}function pt(e){let t=!0;return f6(e)?e.length&&(t=e.every(e=>f7(e,!1))):t=!1,t}function pr(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let o=(n=`${t}, namespace`,i=null,pt(e?.methods)?pt(e?.events)||(i=f5("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=f5("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);o&&(r=o)}),r}function pn(e,t){let r=null;if(e&&f8(e)){let n;let i=pr(e,t);i&&(r=i);let o=(n=null,Object.values(e).forEach(e=>{var r,i;let o;if(n)return;let s=(r=e?.accounts,i=`${t} namespace`,o=null,f6(r)?r.forEach(e=>{o||function(e){if(f7(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&pe(e)}}return!1}(e)||(o=f5("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):o=f5("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),o);s&&(n=s)}),n);o&&(r=o)}else r=f3("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function pi(e){return f7(e.protocol,!0)}function po(e){return"u">typeof e}function ps(e,t){return!(!pe(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...f0(e.accounts))}),t})(e).includes(t))}function pa(e,t,r,n){let i=null,o=Object.keys(e),s=Object.keys(t);return fU(o,s)?o.forEach(n=>{if(i)return;let o=f0(t[n].accounts);fU(fv(n,e[n]),o)?fU(e[n].methods,t[n].methods)?fU(e[n].events,t[n].events)||(i=f3("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${n}`)):i=f3("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${n}`):i=f3("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace chains for ${n}`)}):i=f3("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy ${n}`),i}var pu=r(6186);class pc extends pu.IJsonRpcProvider{constructor(e){super(e),this.events=new cd.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,pu.formatJsonRpcRequest)(e.method,e.params||[]),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,e=>{(0,pu.isJsonRpcError)(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){n(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,pu.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}let pl=()=>"undefined"!=typeof window,pf=void 0!==r.g&&void 0!==r.g.WebSocket?r.g.WebSocket:"undefined"!=typeof window&&void 0!==window.WebSocket?window.WebSocket:r(7026);var pp=class{constructor(e){if(this.url=e,this.events=new cd.EventEmitter,this.registering=!1,!(0,pu.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return void 0!==this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(void 0===this.socket){t(Error("Connection already closed"));return}this.socket.onclose=()=>{this.onClose(),e()},this.socket.close()})}async send(e,t){void 0===this.socket&&(this.socket=await this.register());try{this.socket.send("string"==typeof e?e:JSON.stringify(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,pu.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),void 0===this.socket)return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{let n=(0,pu.isReactNative)()?void 0:{rejectUnauthorized:!(0,pu.isLocalhostUrl)(e)},i=new pf(e,[],n);pl()?i.onerror=e=>{r(this.emitError(e.error))}:i.on("error",e=>{r(this.emitError(e))}),i.onopen=()=>{this.onOpen(i),t(i)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=()=>this.onClose(),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(void 0===e.data)return;let t="string"==typeof e.data?function(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch(t){return e}}(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,pu.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,pu.parseConnectionError)(e,t,"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error((null==e?void 0:e.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",t),t}},ph=r(2307),pd=r.n(ph),pg=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*c+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var f=0,p=o-1;(0!==l||f<i)&&-1!==p;p--,f++)l+=a*s[p]>>>0,s[p]=l%256>>>0,l=l/256>>>0;if(0!==l)throw Error("Non-zero carry");i=f,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var d=new Uint8Array(n+(o-h)),g=n;h!==o;)d[g++]=s[h++];return d}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,c=new Uint8Array(s);i!==o;){for(var f=t[i],p=0,h=s-1;(0!==f||p<n)&&-1!==h;h--,p++)f+=256*c[h]>>>0,c[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw Error("Non-zero carry");n=p,i++}for(var d=s-n;d!==s&&0===c[d];)d++;for(var g=u.repeat(r);d<s;++d)g+=e.charAt(c[d]);return g},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}}};let py=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},pv=e=>new TextEncoder().encode(e),pm=e=>new TextDecoder().decode(e);class pb{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class pw{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return pE(this,e)}}class p_{constructor(e){this.decoders=e}or(e){return pE(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let pE=(e,t)=>new p_({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class px{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new pb(e,t,r),this.decoder=new pw(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let pS=({name:e,prefix:t,encode:r,decode:n})=>new px(e,t,r,n),pI=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=pg(r,t);return pS({prefix:e,name:t,encode:n,decode:e=>py(i(e))})},pR=(e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let s=new Uint8Array(o*r/8|0),a=0,u=0,c=0;for(let t=0;t<o;++t){let o=i[e[t]];if(void 0===o)throw SyntaxError(`Non-${n} character`);u=u<<r|o,(a+=r)>=8&&(a-=8,s[c++]=255&u>>a)}if(a>=r||255&u<<8-a)throw SyntaxError("Unexpected end of data");return s},pk=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},pD=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>pS({prefix:t,name:e,encode:e=>pk(e,n,r),decode:t=>pR(t,n,r,e)}),pA=pS({prefix:"\x00",name:"identity",encode:e=>pm(e),decode:e=>pv(e)});var pC=Object.freeze({__proto__:null,identity:pA});let pO=pD({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pT=Object.freeze({__proto__:null,base2:pO});let pN=pD({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var pP=Object.freeze({__proto__:null,base8:pN});let pL=pI({prefix:"9",name:"base10",alphabet:"0123456789"});var pU=Object.freeze({__proto__:null,base10:pL});let pM=pD({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pB=pD({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var pj=Object.freeze({__proto__:null,base16:pM,base16upper:pB});let pF=pD({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),pz=pD({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pq=pD({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pG=pD({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pW=pD({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),pH=pD({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pV=pD({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pK=pD({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pJ=pD({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var p$=Object.freeze({__proto__:null,base32:pF,base32upper:pz,base32pad:pq,base32padupper:pG,base32hex:pW,base32hexupper:pH,base32hexpad:pV,base32hexpadupper:pK,base32z:pJ});let pY=pI({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pX=pI({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var pQ=Object.freeze({__proto__:null,base36:pY,base36upper:pX});let pZ=pI({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),p0=pI({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var p1=Object.freeze({__proto__:null,base58btc:pZ,base58flickr:p0});let p2=pD({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),p3=pD({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),p5=pD({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),p6=pD({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var p8=Object.freeze({__proto__:null,base64:p2,base64pad:p3,base64url:p5,base64urlpad:p6});let p4=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),p7=p4.reduce((e,t,r)=>(e[r]=t,e),[]),p9=p4.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),he=pS({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=p7[t],"")},decode:function(e){let t=[];for(let r of e){let e=p9[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var ht=Object.freeze({__proto__:null,base256emoji:he});function hr(e,t,r){t=t||[],r=r||0;for(var n=r;e>=2147483648;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,hr.bytes=r-n+1,t}function hn(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw hn.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return hn.bytes=o-t,n}var hi={encode:hr,decode:hn,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10}};let ho=(e,t,r=0)=>(hi.encode(e,t,r),t),hs=e=>hi.encodingLength(e),ha=(e,t)=>{let r=t.byteLength,n=hs(e),i=n+hs(r),o=new Uint8Array(i+r);return ho(e,o,0),ho(r,o,n),o.set(t,i),new hu(e,r,t,o)};class hu{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let hc=({name:e,code:t,encode:r})=>new hl(e,t,r);class hl{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?ha(this.code,t):t.then(e=>ha(this.code,e))}throw Error("Unknown type, must be binary type")}}let hf=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),hp=hc({name:"sha2-256",code:18,encode:hf("SHA-256")}),hh=hc({name:"sha2-512",code:19,encode:hf("SHA-512")});var hd=Object.freeze({__proto__:null,sha256:hp,sha512:hh});let hg=e=>ha(0,py(e));var hy=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:py,digest:hg}});new TextEncoder,new TextDecoder;let hv={...pC,...pT,...pP,...pU,...pj,...p$,...pQ,...p1,...p8,...ht};function hm(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...hd,...hy});let hb=hm("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),hw=hm("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),h_={utf8:hb,"utf-8":hb,hex:hv.base16,latin1:hw,ascii:hw,binary:hw,...hv},hE="core",hx=`wc@2:${hE}:`,hS={name:hE,logger:"error"},hI={database:":memory:"},hR="client_ed25519_seed",hk=cT.ONE_DAY,hD=cT.SIX_HOURS,hA="wss://relay.walletconnect.com",hC={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},hO={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},hT=cT.ONE_SECOND,hN={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},hP=1e3*cT.FIVE_SECONDS,hL={wc_pairingDelete:{req:{ttl:cT.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cT.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cT.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cT.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cT.ONE_DAY,prompt:!1,tag:0},res:{ttl:cT.ONE_DAY,prompt:!1,tag:0}}},hU={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},hM={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"};class hB{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=hx,this.init=async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=f3("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=(0,cm.generateChildLogger)(t,this.name)}get context(){return(0,cm.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,fM(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?fB(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}}class hj{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>{this.isInitialized();let e=await this.getClientSeed(),t=l6(e);return l5(t.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let e=function(){let e=fe.Au();return{privateKey:l1(e.secretKey,fb),publicKey:l1(e.publicKey,fb)}}();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();let t=await this.getClientSeed(),r=l6(t),n=fE();return await l8(n,e,hk,r)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();let n=this.getPrivateKey(e),i=function(e,t){let r=fe.gi(l2(e,fb),l2(t,fb)),n=new l7.t(l9.mE,r).expand(32);return l1(n,fb)}(n,t);return this.setSymKey(i,r)},this.setSymKey=async(e,t)=>{this.isInitialized();let r=t||function(e){let t=(0,l9.vp)(l2(e,fb));return l1(t,fb)}(e);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();let n=fR(r),i="string"==typeof t?t:JSON.stringify(t);if(fk(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let o=this.getSymKey(e),{type:s,senderPublicKey:a}=n;return function(e){let t=l2(`${"u">typeof e.type?e.type:0}`,fm);if(1===fS(t)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let r="u">typeof e.senderPublicKey?l2(e.senderPublicKey,fb):void 0,n="u">typeof e.iv?l2(e.iv,fb):(0,cO.randomBytes)(12),i=new l4.OK(l2(e.symKey,fb)).seal(n,l2(e.message,f_));return function(e){if(1===fS(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return l1(cU([e.type,e.senderPublicKey,e.iv,e.sealed]),fw)}return l1(cU([e.type,e.iv,e.sealed]),fw)}({type:t,sealed:i,iv:n,senderPublicKey:r})}({type:s,symKey:o,message:i,senderPublicKey:a})},this.decode=async(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=fI(e);return fR({type:fS(r.type),senderPublicKey:"u">typeof r.senderPublicKey?l1(r.senderPublicKey,fb):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(fk(n)){let t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}let i=this.getSymKey(e),o=function(e){let t=new l4.OK(l2(e.symKey,fb)),{sealed:r,iv:n}=fI(e.encoded),i=t.open(n,r);if(null===i)throw Error("Failed to decrypt");return l1(i,f_)}({symKey:i,encoded:t});return function(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch(t){return e}}(o)},this.core=e,this.logger=(0,cm.generateChildLogger)(t,this.name),this.keychain=r||new hB(this.core,this.logger)}get context(){return(0,cm.getLoggerContext)(this.logger)}getPayloadType(e){let t=fI(e);return fS(t.type)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(hR)}catch{await this.keychain.set(hR,e=fE())}return function(e,t="utf8"){let r=h_[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}}class hF extends cE{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=hx,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();let r=fx(t),n=this.messages.get(e);return typeof n>"u"&&(n={}),"u">typeof n[r]||(n[r]=t,this.messages.set(e,n),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>{this.isInitialized();let r=this.get(e),n=fx(t);return"u">typeof r[n]},this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=(0,cm.generateChildLogger)(e,this.name),this.core=t}get context(){return(0,cm.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,fM(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?fB(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}}class hz extends cx{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new cd.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=1e4,this.publish=async(e,t,r)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});try{let n=r?.ttl||hD,i=fV(r),o=r?.prompt||!1,s=r?.tag||0,a={topic:e,message:t,opts:{ttl:n,relay:i,prompt:o,tag:s}},u=fx(t);this.queue.set(u,a);try{await await fF(this.rpcPublish(e,t,n,i,o,s),this.publishTimeout),this.relayer.events.emit(hC.publish,a)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(hC.connection_stalled);return}this.onPublish(u,a),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(e),e}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=(0,cm.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,cm.getLoggerContext)(this.logger)}rpcPublish(e,t,r,n,i,o){var s,a,u,c;let l={method:fK(n.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:i,tag:o}};return f4(null==(s=l.params)?void 0:s.prompt)&&(null==(a=l.params)||delete a.prompt),f4(null==(u=l.params)?void 0:u.tag)&&(null==(c=l.params)||delete c.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:l}),this.relayer.provider.request(l)}onPublish(e,t){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:r,opts:n}=e;await this.publish(t,r,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(cv.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}}class hq{constructor(){this.map=new Map,this.set=(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var hG=Object.defineProperty,hW=Object.defineProperties,hH=Object.getOwnPropertyDescriptors,hV=Object.getOwnPropertySymbols,hK=Object.prototype.hasOwnProperty,hJ=Object.prototype.propertyIsEnumerable,h$=(e,t,r)=>t in e?hG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hY=(e,t)=>{for(var r in t||(t={}))hK.call(t,r)&&h$(e,r,t[r]);if(hV)for(var r of hV(t))hJ.call(t,r)&&h$(e,r,t[r]);return e},hX=(e,t)=>hW(e,hH(t));class hQ extends cR{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new hq,this.events=new cd.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=hx,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let r=fV(t),n={topic:e,relay:r};this.pending.set(e,n);let i=await this.rpcSubscribe(e,r);return this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}}),i}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>!!this.topics.includes(e)||await new Promise((t,r)=>{let n=new cT.Watch;n.start(this.pendingSubscriptionWatchLabel);let i=setInterval(()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(i),n.stop(this.pendingSubscriptionWatchLabel),t(!0)),n.elapsed(this.pendingSubscriptionWatchLabel)>=hP&&(clearInterval(i),n.stop(this.pendingSubscriptionWatchLabel),r(!1))},this.pollingInterval)}),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=(0,cm.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,cm.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=fV(r);await this.rpcUnsubscribe(e,t,n);let i=f5("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t){let r={method:fK(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await fF(this.relayer.provider.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(hC.connection_stalled)}return fx(e+this.clientId)}rpcUnsubscribe(e,t,r){let n={method:fK(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.provider.request(n)}onSubscribe(e,t){this.setSubscription(e,hX(hY({},t),{id:e})),this.pending.delete(t.topic)}onResubscribe(e,t){this.addSubscription(e,hX(hY({},t),{id:e})),this.pending.delete(t.topic)}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,hY({},t)),this.topicMap.set(t.topic,e),this.events.emit(hN.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=f3("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(hN.deleted,hX(hY({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(hN.sync)}async reset(){this.cached.length&&await Promise.all(this.cached.map(async e=>await this.resubscribe(e))),this.events.emit(hN.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:e}=f3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async resubscribe(e){if(!this.ids.includes(e.id)){let{topic:t,relay:r}=e,n={topic:t,relay:r};this.pending.set(n.topic,n);let i=await this.rpcSubscribe(n.topic,n.relay);this.onResubscribe(i,n)}}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}checkPending(){this.relayer.transportExplicitlyClosed||this.pending.forEach(async e=>{let t=await this.rpcSubscribe(e.topic,e.relay);this.onSubscribe(t,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(cv.HEARTBEAT_EVENTS.pulse,()=>{this.checkPending()}),this.relayer.on(hC.connect,async()=>{await this.onConnect()}),this.relayer.on(hC.disconnect,()=>{this.onDisconnect()}),this.events.on(hN.created,async e=>{let t=hN.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(hN.deleted,async e=>{let t=hN.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var hZ=Object.defineProperty,h0=Object.getOwnPropertySymbols,h1=Object.prototype.hasOwnProperty,h2=Object.prototype.propertyIsEnumerable,h3=(e,t,r)=>t in e?hZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h5=(e,t)=>{for(var r in t||(t={}))h1.call(t,r)&&h3(e,r,t[r]);if(h0)for(var r of h0(t))h2.call(t,r)&&h3(e,r,t[r]);return e};class h6 extends cS{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new cd.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?(0,cm.generateChildLogger)(e.logger,this.name):ch()((0,cm.getDefaultLoggerOptions)({level:e.logger||"error"})),this.messages=new hF(this.logger,e.core),this.subscriber=new hQ(this,this.logger),this.publisher=new hz(this,this.logger),this.relayUrl=e?.relayUrl||hA,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.provider=await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return(0,cm.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t})}async subscribe(e,t){this.isInitialized();let r="";return await Promise.all([new Promise(t=>{this.subscriber.once(hN.created,r=>{r.topic===e&&t()})}),new Promise(async n=>{r=await this.subscriber.subscribe(e,t),n()})]),r}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(hC.transport_closed))}async transportOpen(e){if(!this.reconnecting){this.relayUrl=e||this.relayUrl,this.transportExplicitlyClosed=!1,this.reconnecting=!0;try{await Promise.all([new Promise(e=>{this.initialized||e(),this.subscriber.once(hN.resubscribed,()=>{e()})}),await Promise.race([new Promise(async e=>{await this.provider.connect(),this.removeListener(hC.transport_closed,this.rejectTransportOpen),e()}),new Promise(e=>this.once(hC.transport_closed,this.rejectTransportOpen))])])}catch(e){if(!/socket hang up/i.test(e.message))throw e;this.logger.error(e),this.events.emit(hC.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||(await this.transportClose(),await new Promise(e=>setTimeout(e,hT)),await this.transportOpen(e))}rejectTransportOpen(){throw Error("closeTransport called before connection was established")}async createProvider(){let e=await this.core.crypto.signJWT(this.relayUrl);return new pc(new pp(function({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:o}){var s;let a;let u=r.split("?"),c=function(e,t,r){let n=function(){var e;let t=e?ff(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new fa:"undefined"!=typeof navigator?ff(navigator.userAgent):void 0!==ft&&ft.version?new fi(ft.version.slice(1)):null;if(null===t)return"unknown";let r=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[r,t.name,t.version].join("-"):[r,t.version].join("-")}(),i=function(){var e;let t=!(0,fp.getDocument)()&&(0,fp.getNavigator)()&&"ReactNative"===navigator.product?fP.reactNative:fL()?fP.node:!fL()&&(0,fp.getNavigator)()?fP.browser:fP.unknown;return t===fP.browser?[t,(null==(e=(0,fp.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",r].join("-"),n,i].join("/")}(e,t,n),l=(s=u[1]||"",a=fN(fN({},a=fd.parse(s)),{auth:i,ua:c,projectId:o}),s=fd.stringify(a));return u[0]+"?"+l}({sdkVersion:"2.4.3",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e})))}async recordMessageEvent(e){let{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;return!await this.subscriber.isSubscribed(t)||this.messages.has(t,r)}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,pu.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n}=t.data,i={topic:r,message:n};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(h5({type:"event",event:t.id},i)),this.events.emit(t.id,i),await this.acknowledgePayload(e),await this.onMessageEvent(i)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(hC.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=(0,pu.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}registerEventListeners(){this.provider.on(hO.payload,e=>this.onProviderPayload(e)),this.provider.on(hO.connect,()=>{this.events.emit(hC.connect)}),this.provider.on(hO.disconnect,()=>{this.events.emit(hC.disconnect),this.attemptToReconnect()}),this.provider.on(hO.error,e=>this.events.emit(hC.error,e)),this.events.on(hC.connection_stalled,async()=>{await this.restartTransport()})}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.transportOpen()},(0,cT.toMiliseconds)(hT))}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}}var h8=Object.defineProperty,h4=Object.getOwnPropertySymbols,h7=Object.prototype.hasOwnProperty,h9=Object.prototype.propertyIsEnumerable,de=(e,t,r)=>t in e?h8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dt=(e,t)=>{for(var r in t||(t={}))h7.call(t,r)&&de(e,r,t[r]);if(h4)for(var r of h4(t))h9.call(t,r)&&de(e,r,t[r]);return e};class dr extends cI{constructor(e,t,r,n=hx,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=hx,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{var t;(null==(t=e?.proposer)?void 0:t.publicKey)?this.map.set(e.id,e):e?.topic?this.map.set(e.topic,e):this.getKey&&null!==e&&!f4(e)&&this.map.set(this.getKey(e),e)}),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>pd()(t[r],e[r]))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=dt(dt({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),await this.persist())},this.logger=(0,cm.generateChildLogger)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,cm.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:t}=f3("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=f3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}}class dn{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(cg()),this.initialized=!1,this.storagePrefix=hx,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]},this.create=async()=>{var e;this.isInitialized();let t=fE(),r=await this.core.crypto.setSymKey(t),n=fG(cT.FIVE_MINUTES),i={protocol:"irn"},o=(e={protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i},`${e.protocol}:${e.topic}@${e.version}?`+fd.stringify(fZ({symKey:e.symKey},function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay))));return await this.pairings.set(r,{topic:r,expiry:n,relay:i,active:!1}),await this.core.relayer.subscribe(r),this.core.expirer.set(r,n),{topic:r,uri:o}},this.pair=async e=>{this.isInitialized(),this.isValidPair(e);let{topic:t,symKey:r,relay:n}=function(e){let t=e.indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),o="u">typeof r?e.substring(r):"",s=fd.parse(o);return{protocol:n,topic:i[0],version:parseInt(i[1],10),symKey:s.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),o=e[t];r[i]=o}}),r}(s)}}(e.uri),i=fG(cT.FIVE_MINUTES),o={topic:t,relay:n,expiry:i,active:!1};return await this.pairings.set(t,o),await this.core.crypto.setSymKey(r,t),await this.core.relayer.subscribe(t,{relay:n}),this.core.expirer.set(t,i),e.activatePairing&&await this.activate({topic:t}),o},this.activate=async({topic:e})=>{this.isInitialized();let t=fG(cT.THIRTY_DAYS);await this.pairings.update(e,{active:!0,expiry:t}),this.core.expirer.set(e,t)},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=fj();this.events.once(fH("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}},this.updateExpiry=async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})},this.updateMetadata=async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",f5("USER_DISCONNECTED")),await this.deletePairing(t))},this.sendRequest=async(e,t,r)=>{let n=(0,pu.formatJsonRpcRequest)(t,r),i=await this.core.crypto.encode(e,n),o=hL[t].req;return this.core.history.set(e,n),await this.core.relayer.publish(e,i,o),n.id},this.sendResult=async(e,t,r)=>{let n=(0,pu.formatJsonRpcResult)(e,r),i=await this.core.crypto.encode(t,n),o=await this.core.history.get(t,e),s=hL[o.request.method].res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)},this.sendError=async(e,t,r)=>{let n=(0,pu.formatJsonRpcError)(e,r),i=await this.core.crypto.encode(t,n),o=await this.core.history.get(t,e),s=hL[o.request.method]?hL[o.request.method].res:hL.unregistered_method.res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,f5("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{let e=this.pairings.getAll().filter(e=>fW(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))},this.onRelayEventRequest=e=>{let{topic:t,payload:r}=e,n=r.method;if(this.pairings.keys.includes(t))switch(n){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;if(this.pairings.keys.includes(t))return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)},this.onPairingPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit("pairing_ping",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onPairingPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,pu.isJsonRpcResult)(t)?this.events.emit(fH("pairing_ping",r),{}):(0,pu.isJsonRpcError)(t)&&this.events.emit(fH("pairing_ping",r),{error:t.error})},500)},this.onPairingDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.sendResult(r,e,!0),await this.deletePairing(e),this.events.emit("pairing_delete",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodRequest=async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=f5("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error(f5("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=e=>{if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`pair() params: ${e}`);throw Error(t)}if(!function(e){if(f7(e,!1))try{return"u">typeof new URL(e)}catch{}return!1}(e.uri)){let{message:t}=f3("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw Error(t)}},this.isValidPing=async e=>{if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!f7(e,!1)){let{message:t}=f3("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=f3("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(fW(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=f3("EXPIRED",`pairing topic: ${e}`);throw Error(t)}},this.core=e,this.logger=(0,cm.generateChildLogger)(t,this.name),this.pairings=new dr(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,cm.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(hC.message,async e=>{let{topic:t,message:r}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;let n=await this.core.crypto.decode(t,r);(0,pu.isJsonRpcRequest)(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):(0,pu.isJsonRpcResponse)(n)&&(await this.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.core.expirer.on(hM.expired,async e=>{let{topic:t}=fq(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}class di extends c_{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new cd.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=hx,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r};this.records.set(n.id,n),this.events.emit(hU.created,n)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,pu.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.events.emit(hU.updated,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic!==e||"u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(hU.deleted,r))})},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,cm.generateChildLogger)(t,this.name)}get context(){return(0,cm.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,pu.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=f3("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(hU.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=f3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(hU.created,e=>{let t=hU.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(hU.updated,e=>{let t=hU.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(hU.deleted,e=>{let t=hU.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}}class ds extends ck{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new cd.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=hx,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}},this.set=(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(hM.created,{target:r,expiration:n})},this.get=e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(hM.deleted,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=(0,cm.generateChildLogger)(t,this.name)}get context(){return(0,cm.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return fz("topic",e);if("number"==typeof e)return fz("id",e);let{message:t}=f3("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(hM.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=f3("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=f3("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,cT.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(hM.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(cv.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(hM.created,e=>{let t=hM.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(hM.expired,e=>{let t=hM.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(hM.deleted,e=>{let t=hM.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}}var da=Object.defineProperty,du=Object.getOwnPropertySymbols,dc=Object.prototype.hasOwnProperty,dl=Object.prototype.propertyIsEnumerable,df=(e,t,r)=>t in e?da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dp=(e,t)=>{for(var r in t||(t={}))dc.call(t,r)&&df(e,r,t[r]);if(du)for(var r of du(t))dl.call(t,r)&&df(e,r,t[r]);return e};class dh extends cw{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=hE,this.events=new cd.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||hA;let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:ch()((0,cm.getDefaultLoggerOptions)({level:e?.logger||hS.logger}));this.logger=(0,cm.generateChildLogger)(t,this.name),this.heartbeat=new cv.HeartBeat,this.crypto=new hj(this,this.logger,e?.keychain),this.history=new di(this,this.logger),this.expirer=new ds(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new cy.ZP(dp(dp({},hI),e?.storageOptions)),this.relayer=new h6({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new dn(this,this.logger)}static async init(e){let t=new dh(e);return await t.initialize(),t}get context(){return(0,cm.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}let dd="client",dg=`wc@2:${dd}:`,dy={name:dd,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},dv=cT.SEVEN_DAYS,dm={wc_sessionPropose:{req:{ttl:cT.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cT.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:cT.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cT.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cT.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cT.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cT.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cT.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cT.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cT.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cT.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cT.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cT.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cT.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cT.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:cT.THIRTY_SECONDS,prompt:!1,tag:1115}}},db={min:cT.FIVE_MINUTES,max:cT.SEVEN_DAYS};var dw=Object.defineProperty,d_=Object.defineProperties,dE=Object.getOwnPropertyDescriptors,dx=Object.getOwnPropertySymbols,dS=Object.prototype.hasOwnProperty,dI=Object.prototype.propertyIsEnumerable,dR=(e,t,r)=>t in e?dw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dk=(e,t)=>{for(var r in t||(t={}))dS.call(t,r)&&dR(e,r,t[r]);if(dx)for(var r of dx(t))dI.call(t,r)&&dR(e,r,t[r]);return e},dD=(e,t)=>d_(e,dE(t));class dA extends cA{constructor(e){super(e),this.name="engine",this.events=new(cg()),this.initialized=!1,this.ignoredPayloadTypes=[1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(dm)}),this.initialized=!0)},this.connect=async e=>{this.isInitialized();let t=dD(dk({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:o,relays:s}=t,a=r,u,c=!1;if(a&&(c=this.client.core.pairing.pairings.get(a).active),!a||!c){let{topic:e,uri:t}=await this.client.core.pairing.create();a=e,u=t}let l=await this.client.core.crypto.generateKeyPair(),f=dk({requiredNamespaces:n,optionalNamespaces:i,relays:s??[{protocol:"irn"}],proposer:{publicKey:l,metadata:this.client.metadata}},o&&{sessionProperties:o}),{reject:p,resolve:h,done:d}=fj();if(this.events.once(fH("session_connect"),async({error:e,session:t})=>{if(e)p(e);else if(t){t.self.publicKey=l;let e=dD(dk({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces});await this.client.session.set(t.topic,e),await this.setExpiry(t.topic,t.expiry),a&&await this.client.core.pairing.updateMetadata({topic:a,metadata:t.peer.metadata}),h(e)}}),!a){let{message:e}=f3("NO_MATCHING_KEY",`connect() pairing topic: ${a}`);throw Error(e)}let g=await this.sendRequest(a,"wc_sessionPropose",f),y=fG(cT.FIVE_MINUTES);return await this.setProposal(g,dk({id:g,expiry:y},f)),{uri:u,approval:d}},this.pair=async e=>(this.isInitialized(),await this.client.core.pairing.pair(e)),this.approve=async e=>{this.isInitialized(),await this.isValidApprove(e);let{id:t,relayProtocol:r,namespaces:n,sessionProperties:i}=e,o=this.client.proposal.get(t),{pairingTopic:s,proposer:a,requiredNamespaces:u,optionalNamespaces:c}=o;f8(u)||(u=function(e,t){let r=pn(e,t);if(r)throw Error(r.message);let n={};for(let[t,r]of Object.entries(e))n[t]={methods:r.methods,events:r.events,chains:r.accounts.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)};return n}(n,"approve()"));let l=await this.client.core.crypto.generateKeyPair(),f=a.publicKey,p=await this.client.core.crypto.generateSharedKey(l,f);s&&t&&(await this.client.core.pairing.updateMetadata({topic:s,metadata:a.metadata}),await this.sendResult(t,s,{relay:{protocol:r??"irn"},responderPublicKey:l}),await this.client.proposal.delete(t,f5("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:s}));let h=dk({relay:{protocol:r??"irn"},namespaces:n,requiredNamespaces:u,optionalNamespaces:c,controller:{publicKey:l,metadata:this.client.metadata},expiry:fG(dv)},i&&{sessionProperties:i});await this.client.core.relayer.subscribe(p);let d=await this.sendRequest(p,"wc_sessionSettle",h),{done:g,resolve:y,reject:v}=fj();this.events.once(fH("session_approve",d),({error:e})=>{e?v(e):y(this.client.session.get(p))});let m=dD(dk({},h),{topic:p,acknowledged:!1,self:h.controller,peer:{publicKey:a.publicKey,metadata:a.metadata},controller:l});return await this.client.session.set(p,m),await this.setExpiry(p,fG(dv)),{topic:p,acknowledged:g}},this.reject=async e=>{this.isInitialized(),await this.isValidReject(e);let{id:t,reason:r}=e,{pairingTopic:n}=this.client.proposal.get(t);n&&(await this.sendError(t,n,r),await this.client.proposal.delete(t,f5("USER_DISCONNECTED")))},this.update=async e=>{this.isInitialized(),await this.isValidUpdate(e);let{topic:t,namespaces:r}=e,n=await this.sendRequest(t,"wc_sessionUpdate",{namespaces:r}),{done:i,resolve:o,reject:s}=fj();return this.events.once(fH("session_update",n),({error:e})=>{e?s(e):o()}),await this.client.session.update(t,{namespaces:r}),{acknowledged:i}},this.extend=async e=>{this.isInitialized(),await this.isValidExtend(e);let{topic:t}=e,r=await this.sendRequest(t,"wc_sessionExtend",{}),{done:n,resolve:i,reject:o}=fj();return this.events.once(fH("session_extend",r),({error:e})=>{e?o(e):i()}),await this.setExpiry(t,fG(dv)),{acknowledged:n}},this.request=async e=>{this.isInitialized(),await this.isValidRequest(e);let{chainId:t,request:r,topic:n,expiry:i}=e,o=await this.sendRequest(n,"wc_sessionRequest",{request:r,chainId:t},i),{done:s,resolve:a,reject:u}=fj(i);return this.events.once(fH("session_request",o),({error:e,result:t})=>{e?u(e):a(t)}),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t}),await s()},this.respond=async e=>{this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:n}=r;(0,pu.isJsonRpcResult)(r)?await this.sendResult(n,t,r.result):(0,pu.isJsonRpcError)(r)&&await this.sendError(n,t,r.error),this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0})},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=await this.sendRequest(t,"wc_sessionPing",{}),{done:r,resolve:n,reject:i}=fj();this.events.once(fH("session_ping",e),({error:e})=>{e?i(e):n()}),await r()}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{this.isInitialized(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e;await this.sendRequest(t,"wc_sessionEvent",{event:r,chainId:n})},this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.client.session.keys.includes(t)?(await this.sendRequest(t,"wc_sessionDelete",f5("USER_DISCONNECTED")),await this.deleteSession(t)):await this.client.core.pairing.disconnect({topic:t})},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),o=!0;return!!fU(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:s}=e.namespaces[t],a=f0(n),u=r[t];fU(fv(t,u),a)&&fU(u.methods,i)&&fU(u.events,s)||(o=!1)}),o)})(t,e))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=async(e,t)=>{let{self:r}=this.client.session.get(e);await this.client.core.relayer.unsubscribe(e),await Promise.all([this.client.session.delete(e,f5("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(r.publicKey),this.client.core.crypto.deleteSymKey(e),t?Promise.resolve():this.client.core.expirer.del(e)])},this.deleteProposal=async(e,t)=>{await Promise.all([this.client.proposal.delete(e,f5("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)])},this.deletePendingSessionRequest=async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&await this.client.session.update(e,{expiry:t}),this.client.core.expirer.set(e,t)},this.setProposal=async(e,t)=>{await this.client.proposal.set(e,t),this.client.core.expirer.set(e,t.expiry)},this.setPendingSessionRequest=async e=>{let t=dm.wc_sessionRequest.req.ttl,{id:r,topic:n,params:i}=e;await this.client.pendingRequest.set(r,{id:r,topic:n,params:i}),t&&this.client.core.expirer.set(r,fG(t))},this.sendRequest=async(e,t,r,n)=>{let i=(0,pu.formatJsonRpcRequest)(t,r),o=await this.client.core.crypto.encode(e,i),s=dm[t].req;return n&&(s.ttl=n),this.client.core.history.set(e,i),this.client.core.relayer.publish(e,o,s),i.id},this.sendResult=async(e,t,r)=>{let n=(0,pu.formatJsonRpcResult)(e,r),i=await this.client.core.crypto.encode(t,n),o=await this.client.core.history.get(t,e),s=dm[o.request.method].res;this.client.core.relayer.publish(t,i,s),await this.client.core.history.resolve(n)},this.sendError=async(e,t,r)=>{let n=(0,pu.formatJsonRpcError)(e,r),i=await this.client.core.crypto.encode(t,n),o=await this.client.core.history.get(t,e),s=dm[o.request.method].res;this.client.core.relayer.publish(t,i,s),await this.client.core.history.resolve(n)},this.cleanup=async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{fW(t.expiry)&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{fW(e.expiry)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession(e)),...t.map(e=>this.deleteProposal(e))])},this.onRelayEventRequest=e=>{let{topic:t,payload:r}=e,n=r.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeRequest(t,r);case"wc_sessionSettle":return this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return this.onSessionExtendRequest(t,r);case"wc_sessionPing":return this.onSessionPingRequest(t,r);case"wc_sessionDelete":return this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return this.onSessionRequest(t,r);case"wc_sessionEvent":return this.onSessionEventRequest(t,r);default:return this.client.logger.info(`Unsupported request method ${n}`)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,n=(await this.client.core.history.get(t,r.id)).request.method;switch(n){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${n}`)}},this.onSessionProposeRequest=async(e,t)=>{let{params:r,id:n}=t;try{this.isValidConnect(dk({},t.params));let i=fG(cT.FIVE_MINUTES),o=dk({id:n,pairingTopic:e,expiry:i},r);await this.setProposal(n,o),this.client.events.emit("session_proposal",{id:n,params:o})}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.onSessionProposeResponse=async(e,t)=>{let{id:r}=t;if((0,pu.isJsonRpcResult)(t)){let{result:n}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:n});let i=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:i});let o=i.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});let s=n.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:s});let a=await this.client.core.crypto.generateSharedKey(o,s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:a});let u=await this.client.core.relayer.subscribe(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:e})}else(0,pu.isJsonRpcError)(t)&&(await this.client.proposal.delete(r,f5("USER_DISCONNECTED")),this.events.emit(fH("session_connect"),{error:t.error}))},this.onSessionSettleRequest=async(e,t)=>{let{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);let{relay:r,controller:i,expiry:o,namespaces:s,requiredNamespaces:a,optionalNamespaces:u,sessionProperties:c}=t.params,l=dk({topic:e,relay:r,expiry:o,namespaces:s,acknowledged:!0,requiredNamespaces:a,optionalNamespaces:u,controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},c&&{sessionProperties:c});await this.sendResult(t.id,e,!0),this.events.emit(fH("session_connect"),{session:l})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionSettleResponse=async(e,t)=>{let{id:r}=t;(0,pu.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(fH("session_approve",r),{})):(0,pu.isJsonRpcError)(t)&&(await this.client.session.delete(e,f5("USER_DISCONNECTED")),this.events.emit(fH("session_approve",r),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{let{params:r,id:n}=t;try{this.isValidUpdate(dk({topic:e},r)),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult(n,e,!0),this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError(n,e,t),this.client.logger.error(t)}},this.onSessionUpdateResponse=(e,t)=>{let{id:r}=t;(0,pu.isJsonRpcResult)(t)?this.events.emit(fH("session_update",r),{}):(0,pu.isJsonRpcError)(t)&&this.events.emit(fH("session_update",r),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,fG(dv)),await this.sendResult(r,e,!0),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionExtendResponse=(e,t)=>{let{id:r}=t;(0,pu.isJsonRpcResult)(t)?this.events.emit(fH("session_extend",r),{}):(0,pu.isJsonRpcError)(t)&&this.events.emit(fH("session_extend",r),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,pu.isJsonRpcResult)(t)?this.events.emit(fH("session_ping",r),{}):(0,pu.isJsonRpcError)(t)&&this.events.emit(fH("session_ping",r),{error:t.error})},500)},this.onSessionDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),this.client.core.relayer.once(hC.publish,async()=>{await this.deleteSession(e)}),await this.sendResult(r,e,!0),this.client.events.emit("session_delete",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionRequest=async(e,t)=>{let{id:r,params:n}=t;try{this.isValidRequest(dk({topic:e},n)),await this.setPendingSessionRequest({id:r,topic:e,params:n}),this.client.events.emit("session_request",{id:r,topic:e,params:n})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionRequestResponse=(e,t)=>{let{id:r}=t;(0,pu.isJsonRpcResult)(t)?this.events.emit(fH("session_request",r),{result:t.result}):(0,pu.isJsonRpcError)(t)&&this.events.emit(fH("session_request",r),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{let{id:r,params:n}=t;try{this.isValidEmit(dk({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.isValidConnect=async e=>{let t;if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:o,relays:s}=e;if(f4(r)||await this.isValidPairingTopic(r),t=!1,s?s&&f6(s)&&s.length&&s.forEach(e=>{t=pi(e)}):t=!0,!t){let{message:e}=f3("MISSING_OR_INVALID",`connect() relays: ${s}`);throw Error(e)}f4(n)||0===f8(n)||this.validateNamespaces(n,"requiredNamespaces"),f4(i)||0===f8(i)||this.validateNamespaces(i,"optionalNamespaces"),f4(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(e,t)=>{let r=function(e,t,r){let n=null;if(e&&f8(e)){let r;let i=pr(e,t);i&&(n=i);let o=(r=null,Object.entries(e).forEach(([e,n])=>{var i,o;let s;if(r)return;let a=(i=fv(e,n),o=`${t} requiredNamespace`,s=null,f6(i)?i.forEach(t=>{!s&&(pe(t)&&t.includes(e)||(s=f5("UNSUPPORTED_CHAINS",`${o}, chain ${t} should be a string and conform to "namespace:chainId" format`)))}):s=f5("UNSUPPORTED_CHAINS",`${o}, chains ${i} should be an array of strings conforming to "namespace:chainId" format`),s);a&&(r=a)}),r);o&&(n=o)}else n=f3("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}(e,"connect()",t);if(r)throw Error(r.message)},this.isValidApprove=async e=>{if(!po(e))throw Error(f3("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i}=e;await this.isValidProposalId(t);let o=this.client.proposal.get(t),s=pn(r,"approve()");if(s)throw Error(s.message);let a=pa(o.requiredNamespaces,r,"approve()","requiredNamespaces");if(a)throw Error(a.message);if(!f7(n,!0)){let{message:e}=f3("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}if(Object.keys(r).length>Object.keys(o.requiredNamespaces).length){let e=Object.keys(o.optionalNamespaces).filter(e=>r[e]),t={};for(let r in o.optionalNamespaces)e.includes(r)&&(t[r]=o.optionalNamespaces[r]);let n=pa(t,r,"approve()","optionalNamespaces");if(n)throw Error(n.message)}f4(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async e=>{if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(await this.isValidProposalId(t),!r||"object"!=typeof r||!r.code||!f9(r.code,!1)||!r.message||!f7(r.message,!1)){let{message:e}=f3("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidSessionSettleRequest=e=>{let t;if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:r,controller:n,namespaces:i,expiry:o}=e;if(!pi(r)){let{message:e}=f3("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let s=(t=null,f7(n?.publicKey,!1)||(t=f3("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),t);if(s)throw Error(s.message);let a=pn(i,"onSessionSettleRequest()");if(a)throw Error(a.message);if(fW(o)){let{message:e}=f3("EXPIRED","onSessionSettleRequest()");throw Error(e)}},this.isValidUpdate=async e=>{if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=pn(r,"update()");if(i)throw Error(i.message);let o=pa(n.requiredNamespaces,r,"update()","requiredNamespaces");if(o)throw Error(o.message)},this.isValidExtend=async e=>{if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{var t;if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:r,request:n,chainId:i,expiry:o}=e;await this.isValidSessionTopic(r);let{namespaces:s}=this.client.session.get(r);if(!ps(s,i)){let{message:e}=f3("MISSING_OR_INVALID",`request() chainId: ${i}`);throw Error(e)}if(f4(n)||!f7(n.method,!1)){let{message:e}=f3("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw Error(e)}if(!(f7(t=n.method,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{f0(e.accounts).includes(t)&&r.push(...e.methods)}),r})(s,i).includes(t))){let{message:e}=f3("MISSING_OR_INVALID",`request() method: ${n.method}`);throw Error(e)}if(o&&(!f9(o,!1)||!(o<=db.max)||!(o>=db.min))){let{message:e}=f3("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${db.min} and ${db.max}`);throw Error(e)}},this.isValidRespond=async e=>{if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:t,response:r}=e;if(await this.isValidSessionTopic(t),f4(r)||f4(r.result)&&f4(r.error)||!f9(r.id,!1)||!f7(r.jsonrpc,!1)){let{message:e}=f3("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidPing=async e=>{if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{var t;if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:r,event:n,chainId:i}=e;await this.isValidSessionTopic(r);let{namespaces:o}=this.client.session.get(r);if(!ps(o,i)){let{message:e}=f3("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw Error(e)}if(f4(n)||!f7(n.name,!1)){let{message:e}=f3("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw Error(e)}if(!(f7(t=n.name,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{f0(e.accounts).includes(t)&&r.push(...e.events)}),r})(o,i).includes(t))){let{message:e}=f3("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw Error(e)}},this.isValidDisconnect=async e=>{if(!po(e)){let{message:t}=f3("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.validateSessionProps=(e,t)=>{Object.values(e).forEach(e=>{if(!f7(e,!1)){let{message:r}=f3("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`);throw Error(r)}})}}isInitialized(){if(!this.initialized){let{message:e}=f3("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(hC.message,async e=>{let{topic:t,message:r}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(r)))return;let n=await this.client.core.crypto.decode(t,r);(0,pu.isJsonRpcRequest)(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):(0,pu.isJsonRpcResponse)(n)&&(await this.client.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.client.core.expirer.on(hM.expired,async e=>{let{topic:t,id:r}=fq(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,f3("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}isValidPairingTopic(e){if(!f7(e,!1)){let{message:t}=f3("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=f3("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(fW(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=f3("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!f7(e,!1)){let{message:t}=f3("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=f3("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(fW(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:t}=f3("EXPIRED",`session topic: ${e}`);throw Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(f7(e,!1)){let{message:t}=f3("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=f3("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=f3("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=f3("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(fW(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:t}=f3("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class dC extends dr{constructor(e,t){super(e,t,"proposal",dg),this.core=e,this.logger=t}}class dO extends dr{constructor(e,t){super(e,t,"session",dg),this.core=e,this.logger=t}}class dT extends dr{constructor(e,t){super(e,t,"request",dg),this.core=e,this.logger=t}}class dN extends cD{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=dy.name,this.events=new cd.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}},this.update=async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}},this.request=async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}},this.find=e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.name=e?.name||dy.name,this.metadata=e?.metadata||(0,fh.D)()||{name:"",description:"",url:"",icons:[""]};let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:ch()((0,cm.getDefaultLoggerOptions)({level:e?.logger||dy.logger}));this.core=e?.core||new dh(e),this.logger=(0,cm.generateChildLogger)(t,this.name),this.session=new dO(this.core,this.logger),this.proposal=new dC(this.core,this.logger),this.pendingRequest=new dT(this.core,this.logger),this.engine=new dA(this)}static async init(e){let t=new dN(e);return await t.initialize(),t}get context(){return(0,cm.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var dP=r(4337),dL=r.n(dP),dU=null,dM=(eh=e$(eX().mark(function e(){return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tP.get("flow.network");case 2:tM("mainnet"===(dU=e.sent)||"testnet"===dU,"FCL Configuration value for 'flow.network' is required (testnet || mainnet)");case 4:case"end":return e.stop()}},e)})),function(){return eh.apply(this,arguments)}),dB=(ed=e$(eX().mark(function e(t){var r;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://explorer-api.walletconnect.com/v3/wallets?projectId=".concat(t,"&chains=flow:").concat(dU,"&entries=5&page=1")).then(function(e){return e.json()});case 3:if(!((null==(r=e.sent)?void 0:r.count)>0)){e.next=6;break}return e.abrupt("return",Object.values(r.listings).filter(function(e){return"wallet"===e.app_type}).map(function(e){var t,r,n,i;return{f_type:"Service",f_vsn:"1.0.0",type:"authn",method:"WC/RPC",uid:null===(t=e.mobile)||void 0===t?void 0:t.universal,endpoint:"flow_authn",optIn:!0,provider:{address:null,name:e.name,icon:null===(r=e.image_url)||void 0===r?void 0:r.sm,description:e.description,website:e.homepage,color:null===(n=e.metadata)||void 0===n?void 0:null===(i=n.colors)||void 0===i?void 0:i.primary,supportEmail:null}}}));case 6:return e.abrupt("return",[]);case 9:e.prev=9,e.t0=e.catch(0),tz({title:"".concat(e.t0.name," Error fetching wallets from WalletConnect API"),message:e.t0.message,level:tj.error});case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(e){return ed.apply(this,arguments)});function dj(){return"undefined"!=typeof navigator&&/iPhone|iPod/.test(navigator.userAgent)||"undefined"!=typeof navigator&&/iPad/.test(navigator.userAgent)}function dF(){return"undefined"!=typeof navigator&&/android/i.test(navigator.userAgent)||dj()}var dz={FLOW_AUTHN:"flow_authn",FLOW_AUTHZ:"flow_authz",FLOW_USER_SIGN:"flow_user_sign"},dq={SESSION_REQUEST:"session_proposal",SIGNING_REQUEST:"signing_request"},dG=(eg=e$(eX().mark(function e(t){var r,n=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,function(e){return dV.apply(this,arguments)}(r);case 3:return e.t0=e.sent,e.t1={method:"WC/RPC",exec:dW(t,r)},e.abrupt("return",{name:"fcl-plugin-service-walletconnect",f_type:"ServicePlugin",type:"discovery-service",services:e.t0,serviceStrategy:e.t1});case 6:case"end":return e.stop()}},e)})),function(e){return eg.apply(this,arguments)}),dW=function(e,t){var r=t.wcRequestHook,n=t.pairingModalOverride;return function(t){var i,o=t.service,s=t.body,a=t.opts;return new Promise((i=e$(eX().mark(function t(i,u){var c,l,f,p,h,d,g,y,v,m,b,w,_,E,x,S,I,R,k,D;return eX().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(D=function(){u("Declined: Externally Halted")},k=function(e){try{if("object"!==e0(e))return;switch(e.status){case"APPROVED":i(e.data);break;case"DECLINED":u("Declined: ".concat(e.reason||"No reason supplied"));break;case"REDIRECT":i(e);break;default:u("Declined: No reason supplied")}}catch(e){throw tz({title:"".concat(e.name,' "WC/RPC onResponse error"'),message:e.message,level:tj.error}),e}},R=function(e){var t=eK(Object.values(e.namespaces).map(function(e){return e.accounts}).flat().filter(function(e){return e.startsWith("flow:")})[0].split(":"),3),r=t[0],n=t[1],i=t[2];return["".concat(r,":").concat(n),i,i]},I=function(){if(f){if(h.startsWith("http")&&!dj()){var e=document.createElement("a");e.href=h,e.target="_blank",e.rel="noreferrer noopener",e.click()}else f.location.href=h}else tz({title:"Problem opening deep link in new window",message:"Window failed to open (was it blocked by the browser?)",level:tj.warn})},S=function(e){var t=e.uid;return t&&/^(ftp|http|https):\/\/[^ "]+$/.test(t)||tz({title:"WalletConnect Service Warning",message:"service.uid should be a valid universal link url. Found: ".concat(t),level:tj.warn}),t},tM(e,"WalletConnect is not initialized"),p=o.endpoint,h=S(o),(d=e.pairing.getAll({active:!0})).length>0&&(l=null==d?void 0:d.find(function(e){var t;return(null===(t=e.peerMetadata)||void 0===t?void 0:t.url)===o.uid})),e.session.length>0&&(g=e.session.keys.length-1,c=e.session.get(e.session.keys.at(g))),dF()&&(f=a.windowRef?a.windowRef:window.open("","_blank")),null!=c){t.next=16;break}return t.next=15,function(e){return dH.apply(this,arguments)}({service:o,onClose:D,appLink:h,windowRef:f,client:e,method:p,pairing:l,wcRequestHook:r,pairingModalOverride:n});case 15:c=t.sent;case 16:return r&&r instanceof Function&&r({type:dq.SIGNING_REQUEST,method:p,service:o,session:null!==(y=c)&&void 0!==y?y:null,pairing:null!==(v=l)&&void 0!==v?v:null,uri:null}),dF()&&p!==dz.FLOW_AUTHN&&I(),m=R(c),w=(b=eK(m,3))[0],_=b[1],E=b[2],x=JSON.stringify(e5(e5({},s),{},{addr:_,address:E})),t.prev=20,t.next=23,e.request({topic:c.topic,chainId:w,request:{method:p,params:[x]}});case 23:k(t.sent),t.next=31;break;case 27:t.prev=27,t.t0=t.catch(20),tz({title:"".concat(t.t0.name," Error on WalletConnect client ").concat(p," request"),message:t.t0.message,level:tj.error}),u("Declined: Externally Halted");case 31:return t.prev=31,f&&!f.closed&&f.close(),t.finish(31);case 34:case"end":return t.stop()}},t,null,[[20,27,31,34]])})),function(e,t){return i.apply(this,arguments)}))}};function dH(){return(dH=e$(eX().mark(function e(t){var r,n,i,o,s,a,u,c,l,f,p,h,d,g,y,v,m;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service,n=t.onClose,i=t.appLink,o=t.windowRef,s=t.client,a=t.method,u=t.pairing,c=t.wcRequestHook,l=t.pairingModalOverride,f={flow:{methods:[dz.FLOW_AUTHN,dz.FLOW_AUTHZ,dz.FLOW_USER_SIGN],chains:["flow:".concat(dU)],events:["chainChanged","accountsChanged"]}},e.prev=2,e.next=5,s.connect({pairingTopic:null==u?void 0:u.topic,requiredNamespaces:f});case 5:return h=(p=e.sent).uri,d=p.approval,g=h,c&&c instanceof Function&&c({type:dq.SESSION_REQUEST,method:a,service:r,session:null!=m?m:null,pairing:null!=u?u:null,uri:null!=h?h:null}),u||tM(h,"Cannot establish connection, WalletConnect URI is undefined"),dF()?(y=new URLSearchParams({uri:h}).toString(),v=null==u?i+"?"+y:i,o.location.href=v):u||(l?l(h,n):dL().open(h,function(){n()})),e.next=14,d();case 14:return m=e.sent,e.abrupt("return",m);case 18:throw e.prev=18,e.t0=e.catch(2),tz({title:"".concat(e.t0.name," Error establishing WalletConnect session"),message:"\n        ".concat(e.t0.message,"\n        uri: ").concat(g,"\n      "),level:tj.error}),n(),e.t0;case 23:return e.prev=23,o&&!o.closed&&o.close(),dL().close(),e.finish(23);case 27:case"end":return e.stop()}},e,null,[[2,18,23,27]])}))).apply(this,arguments)}function dV(){return(dV=e$(eX().mark(function e(t){var r,n,i,o,s,a,u;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.projectId,i=t.includeBaseWC,o=t.wallets,s={f_type:"Service",f_vsn:"1.0.0",type:"authn",method:"WC/RPC",uid:"https://walletconnect.com",endpoint:"flow_authn",optIn:!i,provider:{address:null,name:"WalletConnect",icon:"https://avatars.githubusercontent.com/u/37784886",description:"WalletConnect Base Service",website:"https://walletconnect.com",color:null,supportEmail:null}},e.next=4,dB(n);case 4:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=8;break}e.t0=void 0!==r;case 8:if(!e.t0){e.next=12;break}e.t2=r,e.next=13;break;case 12:e.t2=[];case 13:return a=e.t2,u="testnet"===dU?o:[],e.abrupt("return",[s].concat(tB(a),tB(u)));case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}var dK=null,dJ=(ey=e$(eX().mark(function e(t){var r,n;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.projectId,n=t.metadata,tM(null!=r,"FCL Wallet Connect Error: WalletConnect projectId is required"),e.prev=2,e.next=5,dN.init({logger:"debug",relayUrl:"wss://relay.walletconnect.com",projectId:r,metadata:n});case 5:return dK=e.sent,e.abrupt("return",dK);case 9:throw e.prev=9,e.t0=e.catch(2),tz({title:"".concat(e.t0.name," fcl-wc Init Client"),message:e.t0.message,level:tj.error}),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,9]])})),function(e){return ey.apply(this,arguments)}),d$=(ev=e$(eX().mark(function e(){var t,r,n,i,o,s,a,u,c,l,f,p,h,d,g=arguments;return eX().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=g.length>0&&void 0!==g[0]?g[0]:{}).projectId,i=r.metadata,s=void 0!==(o=r.includeBaseWC)&&o,u=void 0===(a=r.wcRequestHook)?null:a,l=void 0===(c=r.pairingModalOverride)?null:c,p=void 0===(f=r.wallets)?[]:f,e.next=3,dM();case 3:if(!(null!==(t=dK)&&void 0!==t)){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,dJ({projectId:n,metadata:i});case 9:e.t0=e.sent;case 10:return h=e.t0,e.next=13,dG(h,{projectId:n,includeBaseWC:s,wcRequestHook:u,pairingModalOverride:l,wallets:p});case 13:return d=e.sent,ul.authn.update(),e.abrupt("return",{FclWcServicePlugin:d,client:dK});case 16:case"end":return e.stop()}},e)})),function(){return ev.apply(this,arguments)}),dY=r(3454);let dX=(0,cf.createContext)({}),dQ=()=>{let e=(0,cf.useContext)(dX);if(void 0===e)throw Error("useWeb3Context must be used within a Web3ContextProvider");return e},dZ=e=>{let{children:t}=e,[r,n]=(0,cf.useState)({loggedIn:null,addr:""}),[i,o]=(0,cf.useState)(!1),[s,a]=(0,cf.useState)(null),[u,c]=(0,cf.useState)(""),[l,f]=(0,cf.useState)(null),[p,h]=(0,cf.useState)(null),d=(0,cf.useCallback)(async(e,t)=>{try{let r={name:e,description:e,url:window.location.origin,icons:[t]},{FclWcServicePlugin:n,client:i}=await d$({projectId:"12ed93a2aae83134c4c8473ca97d9399",metadata:r,includeBaseWC:!0});h(i),a4.add(n)}catch(e){throw e}},[]);(0,cf.useEffect)(()=>{let{flowNetwork:e,accessApi:t,walletDiscovery:r,walletDiscoveryApi:n,walletDiscoveryInclude:i,addresses:o}=ca,s=window.location.origin+"/images/wallet-icon.png",a=dY.env.NEXT_PUBLIC_APP_NAME||"Valoropds";tP({"app.detail.title":a,"app.detail.icon":s,"accessNode.api":t,"flow.network":e,"discovery.wallet":r,"discovery.authn.endpoint":n,"discovery.authn.include":i,"0xFungibleToken":o.FungibleToken,"0xFlowToken":o.FlowToken,"0xNonFungibleToken":o.NonFungibleToken,"0xMetadataViews":o.MetadataViews}),p||d(a,s)},[]),(0,cf.useEffect)(()=>uP.subscribe(n),[]);let g=(0,cf.useCallback)(()=>{cn()},[]),y=(0,cf.useCallback)(async()=>{await uP().unauthenticate(),console.log("loggedout"),cl().push(cu.Z.HOME)},[]),v=(0,cf.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(!0),a(-1);let n=await (function(){return uL.apply(this,arguments)})({cadence:e,args:t,limit:r.limit||50}).catch(e=>{o(!1),a(500),c(String(e))});n&&(f(n),u$(n).subscribe(e=>{a(e.status),o(!1)}))},[]),m=(0,cf.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>[];try{return await al({cadence:e,args:t})}catch(e){console.error(e)}},[]),b=(0,cf.useMemo)(()=>({connect:g,logout:y,user:r,executeTransaction:v,executeScript:m,transaction:{id:l,inProgress:i,status:s,errorMessage:u}}),[g,y,l,i,s,u,v,m,r]);return(0,eq.jsx)(dX.Provider,{value:{...b},children:t})}},6505:function(e,t,r){"use strict";r.r(t);var n=r(5893),i=r(7073);let o=e=>{let{Component:t,pageProps:r}=e;return(0,n.jsx)(i.vP,{children:(0,n.jsx)(t,{...r})})};t.default=o},7663:function(e){!function(){var t={229:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u=[],c=!1,l=-1;function f(){c&&n&&(c=!1,n.length?u=n.concat(u):l=-1,u.length&&p())}function p(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(n=u,u=[];++l<t;)n&&n[l].run();l=-1,t=u.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function d(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab="//";var i=n(229);e.exports=i}()},1163:function(e,t,r){e.exports=r(880)},3300:function(e,t,r){"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},7423:function(e,t,r){"use strict";r.r(t),r.d(t,{Children:function(){return eg},Component:function(){return b},Fragment:function(){return m},PureComponent:function(){return el},Suspense:function(){return ev},SuspenseList:function(){return ew},cloneElement:function(){return eU},createContext:function(){return L},createElement:function(){return g},createFactory:function(){return eP},createPortal:function(){return eS},createRef:function(){return v},default:function(){return eF},findDOMNode:function(){return eB},forwardRef:function(){return eh},hydrate:function(){return eD},isValidElement:function(){return eL},lazy:function(){return eb},memo:function(){return ef},render:function(){return ek},unmountComponentAtNode:function(){return eM},unstable_batchedUpdates:function(){return ej},useCallback:function(){return Z},useContext:function(){return ee},useDebugValue:function(){return et},useEffect:function(){return J},useErrorBoundary:function(){return er},useImperativeHandle:function(){return X},useLayoutEffect:function(){return $},useMemo:function(){return Q},useReducer:function(){return K},useRef:function(){return Y},useState:function(){return V},version:function(){return eN}});var n,i,o,s,a,u,c,l={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function h(e,t){for(var r in t)e[r]=t[r];return e}function d(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,r){var n,i=arguments,o={};for(n in t)"key"!==n&&"ref"!==n&&(o[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(i[n]);if(null!=r&&(o.children=r),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===o[n]&&(o[n]=e.defaultProps[n]);return y(e,o,t&&t.key,t&&t.ref,null)}function y(e,t,r,i,o){var s={type:e,props:t,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return null==o&&(s.__v=s),n.vnode&&n.vnode(s),s}function v(){return{}}function m(e){return e.children}function b(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?w(e):null}function _(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!o++||a!==n.debounceRendering)&&((a=n.debounceRendering)||s)(E)}function E(){for(var e;o=i.length;)e=i.sort(function(e,t){return e.__v.__b-t.__v.__b}),i=[],e.some(function(e){var t,r,n,i,o,s;e.__d&&(o=(i=e.__v).__e,(s=e.__P)&&(t=[],(r=h({},i)).__v=r,n=D(s,i,r,e.__n,void 0!==s.ownerSVGElement,null,t,null==o?w(i):o),A(t,i),n!=o&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(i)))})}function x(e,t,r,n,i,o,s,a,u){var c,p,h,g,y,v,m,b=r&&r.__k||f,_=b.length;if(a==l&&(a=null!=o?o[0]:_?w(r,0):null),c=0,t.__k=S(t.__k,function(r){if(null!=r){if(r.__=t,r.__b=t.__b+1,null===(h=b[c])||h&&r.key==h.key&&r.type===h.type)b[c]=void 0;else for(p=0;p<_;p++){if((h=b[p])&&r.key==h.key&&r.type===h.type){b[p]=void 0;break}h=null}if(g=D(e,r,h=h||l,n,i,o,s,a,u),(p=r.ref)&&h.ref!=p&&(m||(m=[]),h.ref&&m.push(h.ref,null,r),m.push(p,r.__c||g,r)),null!=g){var f;if(null==v&&(v=g),void 0!==r.__d)f=r.__d,r.__d=void 0;else if(o==h||g!=a||null==g.parentNode){e:if(null==a||a.parentNode!==e)e.appendChild(g),f=null;else{for(y=a,p=0;(y=y.nextSibling)&&p<_;p+=2)if(y==g)break e;e.insertBefore(g,a),f=a}"option"==t.type&&(e.value="")}a=void 0!==f?f:g.nextSibling,"function"==typeof t.type&&(t.__d=a)}else a&&h.__e==a&&a.parentNode!=e&&(a=w(h))}return c++,r}),t.__e=v,null!=o&&"function"!=typeof t.type)for(c=o.length;c--;)null!=o[c]&&d(o[c]);for(c=_;c--;)null!=b[c]&&O(b[c],b[c]);if(m)for(c=0;c<m.length;c++)C(m[c],m[++c],m[++c])}function S(e,t,r){if(null==r&&(r=[]),null==e||"boolean"==typeof e)t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)S(e[n],t,r);else r.push(t?t("string"==typeof e||"number"==typeof e?y(null,e,null,null,e):null!=e.__e||null!=e.__c?y(e.type,e.props,e.key,null,e.__v):e):e);return r}function I(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]="number"==typeof r&&!1===p.test(t)?r+"px":null==r?"":r}function R(e,t,r,n,i){var o,s,a,u,c;if(i?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t){if(o=e.style,"string"==typeof r)o.cssText=r;else{if("string"==typeof n&&(o.cssText="",n=null),n)for(u in n)r&&u in r||I(o,u,"");if(r)for(c in r)n&&r[c]===n[c]||I(o,c,r[c])}}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),t=((a=t.toLowerCase())in e?a:t).slice(2),r?(n||e.addEventListener(t,k,s),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,k,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!i&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null!=r&&(!1!==r||/^ar/.test(t))?e.setAttribute(t,r):e.removeAttribute(t))}function k(e){this.l[e.type](n.event?n.event(e):e)}function D(e,t,r,i,o,s,a,u,c){var p,d,g,y,v,w,_,E,S,I,k=t.type;if(void 0!==t.constructor)return null;(p=n.__b)&&p(t);try{e:if("function"==typeof k){if(E=t.props,S=(p=k.contextType)&&i[p.__c],I=p?S?S.props.value:p.__:i,r.__c?_=(d=t.__c=r.__c).__=d.__E:("prototype"in k&&k.prototype.render?t.__c=d=new k(E,I):(t.__c=d=new b(E,I),d.constructor=k,d.render=T),S&&S.sub(d),d.props=E,d.state||(d.state={}),d.context=I,d.__n=i,g=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=k.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=h({},d.__s)),h(d.__s,k.getDerivedStateFromProps(E,d.__s))),y=d.props,v=d.state,g)null==k.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==k.getDerivedStateFromProps&&E!==y&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(E,I),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(E,d.__s,I)||t.__v===r.__v&&!d.__){for(d.props=E,d.state=d.__s,t.__v!==r.__v&&(d.__d=!1),d.__v=t,t.__e=r.__e,t.__k=r.__k,d.__h.length&&a.push(d),p=0;p<t.__k.length;p++)t.__k[p]&&(t.__k[p].__=t);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(E,d.__s,I),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(y,v,w)})}d.context=I,d.props=E,d.state=d.__s,(p=n.__r)&&p(t),d.__d=!1,d.__v=t,d.__P=e,p=d.render(d.props,d.state,d.context),t.__k=null!=p&&p.type==m&&null==p.key?p.props.children:Array.isArray(p)?p:[p],null!=d.getChildContext&&(i=h(h({},i),d.getChildContext())),g||null==d.getSnapshotBeforeUpdate||(w=d.getSnapshotBeforeUpdate(y,v)),x(e,t,r,i,o,s,a,u,c),d.base=t.__e,d.__h.length&&a.push(d),_&&(d.__E=d.__=null),d.__e=!1}else null==s&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,o,s,a){var u,c,p,h,d,g=r.props,y=t.props;if(i="svg"===t.type||i,null!=o){for(u=0;u<o.length;u++)if(null!=(c=o[u])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,o[u]=null;break}}if(null==e){if(null===t.type)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,y.is&&{is:y.is}),o=null,a=!1}if(null===t.type)g!==y&&e.data!=y&&(e.data=y);else{if(null!=o&&(o=f.slice.call(e.childNodes)),p=(g=r.props||l).dangerouslySetInnerHTML,h=y.dangerouslySetInnerHTML,!a){if(g===l)for(g={},d=0;d<e.attributes.length;d++)g[e.attributes[d].name]=e.attributes[d].value;(h||p)&&(h&&p&&h.__html==p.__html||(e.innerHTML=h&&h.__html||""))}(function(e,t,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in t||R(e,o,null,r[o],n);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===t[o]||R(e,o,t[o],r[o],n)})(e,y,g,i,a),h?t.__k=[]:(t.__k=t.props.children,x(e,t,r,n,"foreignObject"!==t.type&&i,o,s,l,a)),a||("value"in y&&void 0!==(u=y.value)&&u!==e.value&&R(e,"value",u,g.value,!1),"checked"in y&&void 0!==(u=y.checked)&&u!==e.checked&&R(e,"checked",u,g.checked,!1))}return e}(r.__e,t,r,i,o,s,a,c);(p=n.diffed)&&p(t)}catch(e){t.__v=null,n.__e(e,t,r)}return t.__e}function A(e,t){n.__c&&n.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){n.__e(e,t.__v)}})}function C(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function O(e,t,r){var i,o,s;if(n.unmount&&n.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||C(i,null,t)),r||"function"==typeof e.type||(r=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){n.__e(e,t)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&O(i[s],t,r);null!=o&&d(o)}function T(e,t,r){return this.constructor(e,r)}function N(e,t,r){var i,o,s;n.__&&n.__(e,t),o=(i=r===u)?null:r&&r.__k||t.__k,e=g(m,null,[e]),s=[],D(t,(i?t:r||t).__k=e,o||l,l,void 0!==t.ownerSVGElement,r&&!i?[r]:o?null:f.slice.call(t.childNodes),s,r||l,i),A(s,e)}function P(e,t){var r,n;for(n in t=h(h({},e.props),t),arguments.length>2&&(t.children=f.slice.call(arguments,2)),r={},t)"key"!==n&&"ref"!==n&&(r[n]=t[n]);return y(e.type,r,t.key||e.key,t.ref||e.ref,null)}function L(e){var t={},r={__c:"__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i=this;return this.getChildContext||(n=[],this.getChildContext=function(){return t[r.__c]=i,t},this.shouldComponentUpdate=function(e){i.props.value!==e.value&&n.some(function(t){t.context=e.value,_(t)})},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}n={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),null!=r.componentDidCatch&&(n=!0,r.componentDidCatch(e)),n)return _(r.__E=r)}catch(t){e=t}throw e}},b.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(r,this.props)),e&&h(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),_(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_(this))},b.prototype.render=m,i=[],o=0,s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=l,c=0;var U,M,B,j=0,F=[],z=n.__r,q=n.diffed,G=n.__c,W=n.unmount;function H(e,t){n.__h&&n.__h(M,e,j||t),j=0;var r=M.__H||(M.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function V(e){return j=1,K(ea,e)}function K(e,t,r){var n=H(U++,2);return n.__c||(n.__c=M,n.__=[r?r(t):ea(void 0,t),function(t){var r=e(n.__[0],t);n.__[0]!==r&&(n.__[0]=r,n.__c.setState({}))}]),n.__}function J(e,t){var r=H(U++,3);!n.__s&&es(r.__H,t)&&(r.__=e,r.__H=t,M.__H.__h.push(r))}function $(e,t){var r=H(U++,4);!n.__s&&es(r.__H,t)&&(r.__=e,r.__H=t,M.__h.push(r))}function Y(e){return j=5,Q(function(){return{current:e}},[])}function X(e,t,r){j=6,$(function(){"function"==typeof e?e(t()):e&&(e.current=t())},null==r?r:r.concat(e))}function Q(e,t){var r=H(U++,7);return es(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function Z(e,t){return j=8,Q(function(){return e},t)}function ee(e){var t=M.context[e.__c],r=H(U++,9);return r.__c=e,t?(null==r.__&&(r.__=!0,t.sub(M)),t.props.value):e.__}function et(e,t){n.useDebugValue&&n.useDebugValue(t?t(e):e)}function er(e){var t=H(U++,10),r=V();return t.__=e,M.componentDidCatch||(M.componentDidCatch=function(e){t.__&&t.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}function en(){F.some(function(e){if(e.__P)try{e.__H.__h.forEach(ei),e.__H.__h.forEach(eo),e.__H.__h=[]}catch(t){return e.__H.__h=[],n.__e(t,e.__v),!0}}),F=[]}function ei(e){e.t&&e.t()}function eo(e){var t=e.__();"function"==typeof t&&(e.t=t)}function es(e,t){return!e||t.some(function(t,r){return t!==e[r]})}function ea(e,t){return"function"==typeof t?t(e):t}function eu(e,t){for(var r in t)e[r]=t[r];return e}function ec(e,t){for(var r in e)if("__source"!==r&&!(r in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}n.__r=function(e){z&&z(e),U=0,(M=e.__c).__H&&(M.__H.__h.forEach(ei),M.__H.__h.forEach(eo),M.__H.__h=[])},n.diffed=function(e){q&&q(e);var t=e.__c;if(t){var r=t.__H;r&&r.__h.length&&(1!==F.push(t)&&B===n.requestAnimationFrame||((B=n.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);"undefined"!=typeof window&&(t=requestAnimationFrame(r))})(en))}},n.__c=function(e,t){t.some(function(e){try{e.__h.forEach(ei),e.__h=e.__h.filter(function(e){return!e.__||eo(e)})}catch(r){t.some(function(e){e.__h&&(e.__h=[])}),t=[],n.__e(r,e.__v)}}),G&&G(e,t)},n.unmount=function(e){W&&W(e);var t=e.__c;if(t){var r=t.__H;if(r)try{r.__.forEach(function(e){return e.t&&e.t()})}catch(e){n.__e(e,t.__v)}}};var el=function(e){var t;function r(t){var r;return(r=e.call(this,t)||this).isPureReactComponent=!0,r}return(t=r).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,r.prototype.shouldComponentUpdate=function(e,t){return ec(this.props,e)||ec(this.state,t)},r}(b);function ef(e,t){function r(e){var r=this.props.ref,n=r==e.ref;return!n&&r&&(r.call?r(null):r.current=null),t?!t(this.props,e)||!n:ec(this.props,e)}function n(t){return this.shouldComponentUpdate=r,g(e,eu({},t))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(e.displayName||e.name)+")",n.t=!0,n}var ep=n.__b;function eh(e){function t(t){var r=eu({},t);return delete r.ref,e(r,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}n.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),ep&&ep(e)};var ed=function(e,t){return e?S(e).reduce(function(e,r,n){return e.concat(t(r,n))},[]):null},eg={map:ed,forEach:ed,count:function(e){return e?S(e).length:0},only:function(e){if(1!==(e=S(e)).length)throw Error("Children.only() expects only one child.");return e[0]},toArray:S},ey=n.__e;function ev(){this.__u=0,this.o=null,this.__b=null}function em(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function eb(e){var t,r,n;function i(i){if(t||(t=e()).then(function(e){r=e.default||e},function(e){n=e}),n)throw n;if(!r)throw t;return g(r,i)}return i.displayName="Lazy",i.t=!0,i}function ew(){this.i=null,this.l=null}n.__e=function(e,t,r){if(e.then){for(var n,i=t;i=i.__;)if((n=i.__c)&&n.__c)return n.__c(e,t.__c)}ey(e,t,r)},(ev.prototype=new b).__c=function(e,t){var r=this;null==r.o&&(r.o=[]),r.o.push(t);var n=em(r.__v),i=!1,o=function(){i||(i=!0,n?n(s):s())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var s=function(){var e;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});e=r.o.pop();)e.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),e.then(o,o)},ev.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=function e(t){return t&&((t=eu({},t)).__c=null,t.__k=t.__k&&t.__k.map(e)),t}(this.__b),this.__b=null),[g(b,null,t.u?null:e.children),t.u&&e.fallback]};var e_=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};(ew.prototype=new b).u=function(e){var t=this,r=em(t.__v),n=t.l.get(e);return n[0]++,function(i){var o=function(){t.props.revealOrder?(n.push(i),e_(t,e,n)):i()};r?r(o):o()}},ew.prototype.render=function(e){this.i=null,this.l=new Map;var t=S(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},ew.prototype.componentDidUpdate=ew.prototype.componentDidMount=function(){var e=this;e.l.forEach(function(t,r){e_(e,r,t)})};var eE=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function ex(e){var t=this,r=e.container,n=g(eE,{context:t.context},e.vnode);return t.s&&t.s!==r&&(t.v.parentNode&&t.s.removeChild(t.v),O(t.h),t.p=!1),e.vnode?t.p?(r.__k=t.__k,N(n,r),t.__k=r.__k):(t.v=document.createTextNode(""),N("",r,u),r.appendChild(t.v),t.p=!0,t.s=r,N(n,r,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),O(t.h)),t.h=n,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),O(t.h)},null}function eS(e,t){return g(ex,{vnode:e,container:t})}var eI=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;b.prototype.isReactComponent={};var eR="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function ek(e,t,r){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return N(e,t),"function"==typeof r&&r(),e?e.__c:null}function eD(e,t,r){return N(e,t,u),"function"==typeof r&&r(),e?e.__c:null}var eA=n.event;function eC(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}n.event=function(e){eA&&(e=eA(e)),e.persist=function(){};var t=!1,r=!1,n=e.stopPropagation;e.stopPropagation=function(){n.call(e),t=!0};var i=e.preventDefault;return e.preventDefault=function(){i.call(e),r=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return r},e.nativeEvent=e};var eO={configurable:!0,get:function(){return this.class}},eT=n.vnode;n.vnode=function(e){e.$$typeof=eR;var t,r,n,i=e.type,o=e.props;if(i){if(o.class!=o.className&&(eO.enumerable="className"in o,null!=o.className&&(o.class=o.className),Object.defineProperty(o,"className",eO)),"function"!=typeof i){for(n in o.defaultValue&&void 0!==o.value&&(o.value||0===o.value||(o.value=o.defaultValue),delete o.defaultValue),Array.isArray(o.value)&&o.multiple&&"select"===i&&(S(o.children).forEach(function(e){-1!=o.value.indexOf(e.props.value)&&(e.props.selected=!0)}),delete o.value),o)if(t=eI.test(n))break;if(t)for(n in r=e.props={},o)r[eI.test(n)?n.replace(/[A-Z0-9]/,"-$&").toLowerCase():n]=o[n]}!function(){var t=e.type,r=e.props;if(r&&"string"==typeof t){var n={};for(var i in r)/^on(Ani|Tra|Tou)/.test(i)&&(r[i.toLowerCase()]=r[i],delete r[i]),n[i.toLowerCase()]=i;if(n.ondoubleclick&&(r.ondblclick=r[n.ondoubleclick],delete r[n.ondoubleclick]),n.onbeforeinput&&(r.onbeforeinput=r[n.onbeforeinput],delete r[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var o=n.oninput||"oninput";r[o]||(r[o]=r[n.onchange],delete r[n.onchange])}}}(),"function"==typeof i&&!i.m&&i.prototype&&(eC(i.prototype,"componentWillMount"),eC(i.prototype,"componentWillReceiveProps"),eC(i.prototype,"componentWillUpdate"),i.m=!0)}eT&&eT(e)};var eN="16.8.0";function eP(e){return g.bind(null,e)}function eL(e){return!!e&&e.$$typeof===eR}function eU(e){return eL(e)?P.apply(null,arguments):e}function eM(e){return!!e.__k&&(N(null,e),!0)}function eB(e){return e&&(e.base||1===e.nodeType&&e)||null}var ej=function(e,t){return e(t)},eF={useState:V,useReducer:K,useEffect:J,useLayoutEffect:$,useRef:Y,useImperativeHandle:X,useMemo:Q,useCallback:Z,useContext:ee,useDebugValue:et,version:"16.8.0",Children:eg,render:ek,hydrate:ek,unmountComponentAtNode:eM,createPortal:eS,createElement:g,createContext:L,createFactory:eP,cloneElement:eU,createRef:v,Fragment:m,isValidElement:eL,findDOMNode:eB,Component:b,PureComponent:el,memo:ef,forwardRef:eh,unstable_batchedUpdates:ej,Suspense:ev,SuspenseList:ew,lazy:eb}},2592:function(e,t,r){var n=r(7138),i=r(5115),o=r(6907),s=r(3776);function a(e,t,r,o,s){var a=[].slice.call(arguments,1),u=a.length,c="function"==typeof a[u-1];if(!c&&!n())throw Error("Callback required as last argument");if(c){if(u<2)throw Error("Too few arguments provided");2===u?(s=r,r=t,t=o=void 0):3===u&&(t.getContext&&void 0===s?(s=o,o=void 0):(s=o,o=r,r=t,t=void 0))}else{if(u<1)throw Error("Too few arguments provided");return 1===u?(r=t,t=o=void 0):2!==u||t.getContext||(o=r,r=t,t=void 0),new Promise(function(n,s){try{var a=i.create(r,o);n(e(a,t,o))}catch(e){s(e)}})}try{var l=i.create(r,o);s(null,e(l,t,o))}catch(e){s(e)}}t.create=i.create,t.toCanvas=a.bind(null,o.render),t.toDataURL=a.bind(null,o.renderToDataURL),t.toString=a.bind(null,function(e,t,r){return s.render(e,r)})},7138:function(e){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1845:function(e,t,r){var n=r(242).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,r=n(e),i=145===r?26:2*Math.ceil((r-13)/(2*t-2)),o=[r-7],s=1;s<t-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()},t.getPositions=function(e){for(var r=[],n=t.getRowColCoords(e),i=n.length,o=0;o<i;o++)for(var s=0;s<i;s++)(0!==o||0!==s)&&(0!==o||s!==i-1)&&(o!==i-1||0!==s)&&r.push([n[o],n[s]]);return r}},8260:function(e,t,r){var n=r(6910),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=n.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},7245:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){return(this.buffer[Math.floor(e/8)]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},3280:function(e,t,r){var n=r(9131);function i(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=n.alloc(e*e),this.reservedBit=n.alloc(e*e)}i.prototype.set=function(e,t,r,n){var i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},i.prototype.get=function(e,t){return this.data[e*this.size+t]},i.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},i.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=i},3424:function(e,t,r){var n=r(9131),i=r(6910);function o(e){this.mode=i.BYTE,this.data=n.from(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=o},5393:function(e,t,r){var n=r(4908),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return i[(e-1)*4+0];case n.M:return i[(e-1)*4+1];case n.Q:return i[(e-1)*4+2];case n.H:return i[(e-1)*4+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return o[(e-1)*4+0];case n.M:return o[(e-1)*4+1];case n.Q:return o[(e-1)*4+2];case n.H:return o[(e-1)*4+3];default:return}}},4908:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw Error("Unknown EC Level: "+e)}}(e)}catch(e){return r}}},6526:function(e,t,r){var n=r(242).getSymbolSize;t.getPositions=function(e){var t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},1642:function(e,t,r){var n=r(242),i=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){for(var r=e.bit<<3|t,o=r<<10;n.getBCHDigit(o)-i>=0;)o^=1335<<n.getBCHDigit(o)-i;return(r<<10|o)^21522}},9729:function(e,t,r){var n=r(9131),i=n.alloc(512),o=n.alloc(256);!function(){for(var e=1,t=0;t<255;t++)i[t]=e,o[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)i[t]=i[t-255]}(),t.log=function(e){if(e<1)throw Error("log("+e+")");return o[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[o[e]+o[t]]}},5442:function(e,t,r){var n=r(6910),i=r(242);function o(e){this.mode=n.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=i.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r=(r>>>8&255)*192+(255&r),e.put(r,13)}},e.exports=o},7126:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var r={N1:3,N2:3,N3:40,N4:10};t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,n=0,i=0,o=0,s=null,a=null,u=0;u<t;u++){i=o=0,s=a=null;for(var c=0;c<t;c++){var l=e.get(u,c);l===s?i++:(i>=5&&(n+=r.N1+(i-5)),s=l,i=1),(l=e.get(c,u))===a?o++:(o>=5&&(n+=r.N1+(o-5)),a=l,o=1)}i>=5&&(n+=r.N1+(i-5)),o>=5&&(n+=r.N1+(o-5))}return n},t.getPenaltyN2=function(e){for(var t=e.size,n=0,i=0;i<t-1;i++)for(var o=0;o<t-1;o++){var s=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(4===s||0===s)&&n++}return n*r.N2},t.getPenaltyN3=function(e){for(var t=e.size,n=0,i=0,o=0,s=0;s<t;s++){i=o=0;for(var a=0;a<t;a++)i=i<<1&2047|e.get(s,a),a>=10&&(1488===i||93===i)&&n++,o=o<<1&2047|e.get(a,s),a>=10&&(1488===o||93===o)&&n++}return n*r.N3},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,i=0;i<n;i++)t+=e.data[i];return Math.abs(Math.ceil(100*t/n/5)-10)*r.N4},t.applyMask=function(e,r){for(var n=r.size,i=0;i<n;i++)for(var o=0;o<n;o++)r.isReserved(o,i)||r.xor(o,i,function(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2==0;case t.Patterns.PATTERN001:return r%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(r+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return r*n%2+r*n%3==0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}(e,o,i))},t.getBestMask=function(e,r){for(var n=Object.keys(t.Patterns).length,i=0,o=1/0,s=0;s<n;s++){r(s),t.applyMask(s,e);var a=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),a<o&&(o=a,i=s)}return i}},6910:function(e,t,r){var n=r(3114),i=r(7007);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!n.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw Error("Unknown mode: "+e)}}(e)}catch(e){return r}}},1085:function(e,t,r){var n=r(6910);function i(e){this.mode=n.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(t=0;t+3<=this.data.length;t+=3)r=parseInt(this.data.substr(t,3),10),e.put(r,10);var t,r,n=this.data.length-t;n>0&&(r=parseInt(this.data.substr(t),10),e.put(r,3*n+1))},e.exports=i},6143:function(e,t,r){var n=r(9131),i=r(9729);t.mul=function(e,t){for(var r=n.alloc(e.length+t.length-1),o=0;o<e.length;o++)for(var s=0;s<t.length;s++)r[o+s]^=i.mul(e[o],t[s]);return r},t.mod=function(e,t){for(var r=n.from(e);r.length-t.length>=0;){for(var o=r[0],s=0;s<t.length;s++)r[s]^=i.mul(t[s],o);for(var a=0;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},t.generateECPolynomial=function(e){for(var r=n.from([1]),o=0;o<e;o++)r=t.mul(r,[1,i.exp(o)]);return r}},5115:function(e,t,r){var n=r(9131),i=r(242),o=r(4908),s=r(7245),a=r(3280),u=r(1845),c=r(6526),l=r(7126),f=r(5393),p=r(2882),h=r(3103),d=r(1642),g=r(6910),y=r(6130),v=r(5826);function m(e,t,r){var n,i,o=e.size,s=d.getEncodedBits(t,r);for(n=0;n<15;n++)i=(s>>n&1)==1,n<6?e.set(n,8,i,!0):n<8?e.set(n+1,8,i,!0):e.set(o-15+n,8,i,!0),n<8?e.set(8,o-n-1,i,!0):n<9?e.set(8,15-n-1+1,i,!0):e.set(8,15-n-1,i,!0);e.set(o-8,8,1,!0)}t.create=function(e,t){if(void 0===e||""===e)throw Error("No input text");var r,d,b=o.M;return void 0!==t&&(b=o.from(t.errorCorrectionLevel,o.M),r=h.from(t.version),d=l.from(t.maskPattern),t.toSJISFunc&&i.setToSJISFunction(t.toSJISFunc)),function(e,t,r,o){if(v(e))d=y.fromArray(e);else if("string"==typeof e){var d,b=t;if(!b){var w=y.rawSplit(e);b=h.getBestVersionForData(w,r)}d=y.fromString(e,b||40)}else throw Error("Invalid data");var _=h.getBestVersionForData(d,r);if(!_)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<_)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+_+".\n")}else t=_;var E=function(e,t,r){var o=new s;r.forEach(function(t){o.put(t.mode.bit,4),o.put(t.getLength(),g.getCharCountIndicator(t.mode,e)),t.write(o)});var a=(i.getSymbolTotalCodewords(e)-f.getTotalCodewordsCount(e,t))*8;for(o.getLengthInBits()+4<=a&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var u=(a-o.getLengthInBits())/8,c=0;c<u;c++)o.put(c%2?17:236,8);return function(e,t,r){for(var o,s,a=i.getSymbolTotalCodewords(t),u=f.getTotalCodewordsCount(t,r),c=f.getBlocksCount(t,r),l=c-a%c,h=Math.floor((a-u)/c),d=h+1,g=Math.floor(a/c)-h,y=new p(g),v=0,m=Array(c),b=Array(c),w=0,_=n.from(e.buffer),E=0;E<c;E++){var x=E<l?h:d;m[E]=_.slice(v,v+x),b[E]=y.encode(m[E]),v+=x,w=Math.max(w,x)}var S=n.alloc(a),I=0;for(o=0;o<w;o++)for(s=0;s<c;s++)o<m[s].length&&(S[I++]=m[s][o]);for(o=0;o<g;o++)for(s=0;s<c;s++)S[I++]=b[s][o];return S}(o,e,t)}(t,r,d),x=i.getSymbolSize(t),S=new a(x);return function(e,t){for(var r=e.size,n=c.getPositions(t),i=0;i<n.length;i++)for(var o=n[i][0],s=n[i][1],a=-1;a<=7;a++)if(!(o+a<=-1)&&!(r<=o+a))for(var u=-1;u<=7;u++)s+u<=-1||r<=s+u||(a>=0&&a<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===a||6===a)||a>=2&&a<=4&&u>=2&&u<=4?e.set(o+a,s+u,!0,!0):e.set(o+a,s+u,!1,!0))}(S,t),function(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2==0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}(S),function(e,t){for(var r=u.getPositions(t),n=0;n<r.length;n++)for(var i=r[n][0],o=r[n][1],s=-2;s<=2;s++)for(var a=-2;a<=2;a++)-2===s||2===s||-2===a||2===a||0===s&&0===a?e.set(i+s,o+a,!0,!0):e.set(i+s,o+a,!1,!0)}(S,t),m(S,r,0),t>=7&&function(e,t){for(var r,n,i,o=e.size,s=h.getEncodedBits(t),a=0;a<18;a++)r=Math.floor(a/3),n=a%3+o-8-3,i=(s>>a&1)==1,e.set(r,n,i,!0),e.set(n,r,i,!0)}(S,t),function(e,t){for(var r=e.size,n=-1,i=r-1,o=7,s=0,a=r-1;a>0;a-=2)for(6===a&&a--;;){for(var u=0;u<2;u++)if(!e.isReserved(i,a-u)){var c=!1;s<t.length&&(c=(t[s]>>>o&1)==1),e.set(i,a-u,c),-1==--o&&(s++,o=7)}if((i+=n)<0||r<=i){i-=n,n=-n;break}}}(S,E),isNaN(o)&&(o=l.getBestMask(S,m.bind(null,S,r))),l.applyMask(o,S),m(S,r,o),{modules:S,version:t,errorCorrectionLevel:r,maskPattern:o,segments:d}}(e,r,b,d)}},2882:function(e,t,r){var n=r(9131),i=r(6143),o=r(6772).lW;function s(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}s.prototype.initialize=function(e){this.degree=e,this.genPoly=i.generateECPolynomial(this.degree)},s.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");var t=n.alloc(this.degree),r=o.concat([e,t],e.length+this.degree),s=i.mod(r,this.genPoly),a=this.degree-s.length;if(a>0){var u=n.alloc(this.degree);return s.copy(u,a),u}return s},e.exports=s},7007:function(e,t){var r="[0-9]+",n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=RegExp(n,"g"),t.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=RegExp(i,"g"),t.NUMERIC=RegExp(r,"g"),t.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");var o=RegExp("^"+n+"$"),s=RegExp("^"+r+"$"),a=RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return s.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},6130:function(e,t,r){var n=r(6910),i=r(1085),o=r(8260),s=r(3424),a=r(5442),u=r(7007),c=r(242),l=r(5987);function f(e){return unescape(encodeURIComponent(e)).length}function p(e,t,r){for(var n,i=[];null!==(n=e.exec(r));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function h(e){var t,r,i=p(u.NUMERIC,n.NUMERIC,e),o=p(u.ALPHANUMERIC,n.ALPHANUMERIC,e);return c.isKanjiModeEnabled()?(t=p(u.BYTE,n.BYTE,e),r=p(u.KANJI,n.KANJI,e)):(t=p(u.BYTE_KANJI,n.BYTE,e),r=[]),i.concat(o,t,r).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function d(e,t){switch(t){case n.NUMERIC:return i.getBitsLength(e);case n.ALPHANUMERIC:return o.getBitsLength(e);case n.KANJI:return a.getBitsLength(e);case n.BYTE:return s.getBitsLength(e)}}function g(e,t){var r,u=n.getBestModeForData(e);if((r=n.from(t,u))!==n.BYTE&&r.bit<u.bit)throw Error('"'+e+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(u));switch(r!==n.KANJI||c.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new i(e);case n.ALPHANUMERIC:return new o(e);case n.KANJI:return new a(e);case n.BYTE:return new s(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(g(t,null)):t.data&&e.push(g(t.data,t.mode)),e},[])},t.fromString=function(e,r){for(var i=function(e,t){for(var r={},i={start:{}},o=["start"],s=0;s<e.length;s++){for(var a=e[s],u=[],c=0;c<a.length;c++){var l=a[c],f=""+s+c;u.push(f),r[f]={node:l,lastCount:0},i[f]={};for(var p=0;p<o.length;p++){var h=o[p];r[h]&&r[h].node.mode===l.mode?(i[h][f]=d(r[h].lastCount+l.length,l.mode)-d(r[h].lastCount,l.mode),r[h].lastCount+=l.length):(r[h]&&(r[h].lastCount=l.length),i[h][f]=d(l.length,l.mode)+4+n.getCharCountIndicator(l.mode,t))}}o=u}for(p=0;p<o.length;p++)i[o[p]].end=0;return{map:i,table:r}}(function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];switch(i.mode){case n.NUMERIC:t.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:t.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:t.push([i,{data:i.data,mode:n.BYTE,length:f(i.data)}]);break;case n.BYTE:t.push([{data:i.data,mode:n.BYTE,length:f(i.data)}])}}return t}(h(e,c.isKanjiModeEnabled())),r),o=l.find_path(i.map,"start","end"),s=[],a=1;a<o.length-1;a++)s.push(i.table[o[a]].node);return t.fromArray(s.reduce(function(e,t){var r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[]))},t.rawSplit=function(e){return t.fromArray(h(e,c.isKanjiModeEnabled()))}},242:function(e,t){var r,n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},3114:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},3103:function(e,t,r){var n=r(242),i=r(5393),o=r(4908),s=r(6910),a=r(3114),u=r(5826),c=n.getBCHDigit(7973);function l(e,t){return s.getCharCountIndicator(e,t)+4}t.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,r){if(!a.isValid(e))throw Error("Invalid QR Code version");void 0===r&&(r=s.BYTE);var o=(n.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t))*8;if(r===s.MIXED)return o;var u=o-l(r,e);switch(r){case s.NUMERIC:return Math.floor(u/10*3);case s.ALPHANUMERIC:return Math.floor(u/11*2);case s.KANJI:return Math.floor(u/13);case s.BYTE:default:return Math.floor(u/8)}},t.getBestVersionForData=function(e,r){var n,i=o.from(r,o.M);if(u(e)){if(e.length>1)return function(e,r){for(var n=1;n<=40;n++)if(function(e,t){var r=0;return e.forEach(function(e){r+=l(e.mode,t)+e.getBitsLength()}),r}(e,n)<=t.getCapacity(n,r,s.MIXED))return n}(e,i);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,r,n){for(var i=1;i<=40;i++)if(r<=t.getCapacity(i,n,e))return i}(n.mode,n.getLength(),i)},t.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw Error("Invalid QR Code version");for(var t=e<<12;n.getBCHDigit(t)-c>=0;)t^=7973<<n.getBCHDigit(t)-c;return e<<12|t}},6907:function(e,t,r){var n=r(9653);t.render=function(e,t,r){var i,o=r,s=t;void 0!==o||t&&t.getContext||(o=t,t=void 0),t||(s=function(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}()),o=n.getOptions(o);var a=n.getImageWidth(e.modules.size,o),u=s.getContext("2d"),c=u.createImageData(a,a);return n.qrToImageData(c.data,e,o),i=s,u.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px",u.putImageData(c,0,0),s},t.renderToDataURL=function(e,r,n){var i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});var o=t.render(e,r,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}},3776:function(e,t,r){var n=r(9653);function i(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function o(e,t,r){var n=e+t;return void 0!==r&&(n+=" "+r),n}t.render=function(e,t,r){var s=n.getOptions(t),a=e.modules.size,u=e.modules.data,c=a+2*s.margin,l=s.color.light.a?"<path "+i(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",f="<path "+i(s.color.dark,"stroke")+' d="'+function(e,t,r){for(var n="",i=0,s=!1,a=0,u=0;u<e.length;u++){var c=Math.floor(u%t),l=Math.floor(u/t);c||s||(s=!0),e[u]?(a++,u>0&&c>0&&e[u-1]||(n+=s?o("M",c+r,.5+l+r):o("m",i,0),i=0,s=!1),c+1<t&&e[u+1]||(n+=o("h",a),a=0)):i++}return n}(u,a,s.margin)+'"/>',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+('viewBox="0 0 '+c)+" "+c+'" shape-rendering="crispEdges">'+l+f+"</svg>\n";return"function"==typeof r&&r(null,p),p}},9653:function(e,t){function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,r){var n=t.getScale(e,r);return Math.floor((e+2*r.margin)*n)},t.qrToImageData=function(e,r,n){for(var i=r.modules.size,o=r.modules.data,s=t.getScale(i,n),a=Math.floor((i+2*n.margin)*s),u=n.margin*s,c=[n.color.light,n.color.dark],l=0;l<a;l++)for(var f=0;f<a;f++){var p=(l*a+f)*4,h=n.color.light;l>=u&&f>=u&&l<a-u&&f<a-u&&(h=c[o[Math.floor((l-u)/s)*i+Math.floor((f-u)/s)]?1:0]),e[p++]=h.r,e[p++]=h.g,e[p++]=h.b,e[p]=h.a}}},9131:function(e,t,r){"use strict";var n=r(5826);o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}();var i=o.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function o(e,t,r){return o.TYPED_ARRAY_SUPPORT||this instanceof o?"number"==typeof e?u(this,e):function(e,t,r,n){if("number"==typeof t)throw TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,r,n){var i;if(r<0||t.byteLength<r)throw RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw RangeError("'length' is out of bounds");return i=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),o.TYPED_ARRAY_SUPPORT?i.__proto__=o.prototype:i=c(e,i),i}(e,t,r,n);if("string"==typeof t){var i,u,l;return(l=(u=a(e,i=0|f(t))).write(t))!==i&&(u=u.slice(0,l)),u}return function(e,t){if(o.isBuffer(t)){var r,n=0|s(t.length),i=a(e,n);return 0===i.length||t.copy(i,0,0,n),i}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):c(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return c(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,r):new o(e,t,r)}function s(e){if(e>=i)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function a(e,t){var r;return o.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t)).__proto__=o.prototype:(null===(r=e)&&(r=new o(t)),r.length=t),r}function u(e,t){var r=a(e,t<0?0:0|s(t));if(!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function c(e,t){for(var r=t.length<0?0:0|s(t.length),n=a(e,r),i=0;i<r;i+=1)n[i]=255&t[i];return n}function l(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function f(e){return o.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length)?0:l(e).length}o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),o.prototype.write=function(e,t,r){void 0===t?(r=this.length,t=0):void 0===r&&"string"==typeof t?(r=this.length,t=0):isFinite(t)&&(t|=0,isFinite(r)?r|=0:r=void 0);var n,i,o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");return n=t,i=r,function(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}(l(e,this.length-n),this,n,i)},o.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+e]}return r},o.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("sourceStart out of bounds");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,s=n-r;if(this===e&&r<t&&t<n)for(i=s-1;i>=0;--i)e[i+t]=this[i+r];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},o.prototype.fill=function(e,t,r){if("string"==typeof e){if("string"==typeof t?(t=0,r=this.length):"string"==typeof r&&(r=this.length),1===e.length){var n,i=e.charCodeAt(0);i<256&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{var s=o.isBuffer(e)?e:new o(e),a=s.length;for(n=0;n<r-t;++n)this[n+t]=s[n%a]}return this},o.concat=function(e,t){if(!n(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a(null,0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,i=u(null,t),s=0;for(r=0;r<e.length;++r){var c=e[r];if(!o.isBuffer(c))throw TypeError('"list" argument must be an Array of Buffers');c.copy(i,s),s+=c.length}return i},o.byteLength=f,o.prototype._isBuffer=!0,o.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},e.exports.alloc=function(e){var t=new o(e);return t.fill(0),t},e.exports.from=function(e){return new o(e)}},6772:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n=r(9742),i=r(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|d(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(A(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(A(e,ArrayBuffer)||e&&A(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(A(e,SharedArrayBuffer)||e&&A(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t,r=0|h(e.length),n=s(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),s(e<0?0:0|h(e))}function f(e){for(var t=e.length<0?0:0|h(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function h(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function d(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||A(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(e).length;default:if(i)return n?-1:R(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){var i,o,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=C[e[o]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=t,o=r,0===i&&o===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){f=!1;break}if(f)return o}return -1}function b(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function E(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function x(e,t,r,n,o){return t=+t,r>>>=0,o||E(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function S(e,t,r,n,o){return t=+t,r>>>=0,o||E(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.lW=a,t.h2=50,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(A(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),A(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(A(o,Uint8Array))i+o.length>n.length?a.from(o).copy(n,i):Uint8Array.prototype.set.call(n,o,i);else if(a.isBuffer(o))o.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return n},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):g.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(A(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,u=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,c,l,f,p=this.length-t;if((void 0===r||r>p)&&(r=p),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var h=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(a!=a)break;e[r+s]=a}return s}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,D(R(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=r,D(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,s,a);case"base64":return u=t,c=r,D(k(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=r,D(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-l),this,l,f);default:if(h)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return x(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return x(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,n),u=s.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%u]}return this};var I=/[^+/0-9A-Za-z-_]/g;function R(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function k(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function A(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var C=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},7563:function(e,t,r){"use strict";let n=r(8218),i=r(4020),o=r(500),s=r(2806),a=e=>null==e,u=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function f(e,t){return t.decode?i(e):e}function p(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function h(e){e=p(e);let t=e.indexOf("?");return -1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function g(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"comma":case"separator":return(t,r,n)=>{let i="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!i&&f(r,e).includes(e.arrayFormatSeparator);r=o?f(r,e):r;let s=i||o?r.split(e.arrayFormatSeparator).map(t=>f(t,e)):null===r?r:f(r,e);n[t]=s};case"bracket-separator":return(t,r,n)=>{let i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i){n[t]=r?f(r,e):r;return}let o=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>f(t,e));if(void 0===n[t]){n[t]=o;return}n[t]=[].concat(n[t],o)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let i of e.split("&")){if(""===i)continue;let[e,s]=o(t.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?s:f(s,t),r(f(e,t),s,n)}for(let e of Object.keys(n)){let r=n[e];if("object"==typeof r&&null!==r)for(let e of Object.keys(r))r[e]=d(r[e],t);else n[e]=d(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=h,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&a(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),"[",i,"]"].join("")]:[...r,[l(t,e),"[",l(i,e),"]=",l(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),"[]"].join("")]:[...r,[l(t,e),"[]=",l(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[l(t,e),":list="].join("")]:[...r,[l(t,e),":list=",l(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length)?[[l(r,e),t,l(i,e)].join("")]:[[n,l(i,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,l(t,e)]:[...r,[l(t,e),"=",l(n,e)].join("")]}}(t),i={};for(let t of Object.keys(e))r(t)||(i[t]=e[t]);let o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(r=>{let i=e[r];return void 0===i?"":null===i?l(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?l(r,t)+"[]":i.reduce(n(r),[]).join("&"):l(r,t)+"="+l(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:g(h(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:f(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[u]:!0},r);let n=p(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),s=Object.assign(o,e.query),a=t.stringify(s,r);a&&(a=`?${a}`);let c=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(c=`#${r[u]?l(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${a}${c}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[u]:!1},n);let{url:i,query:o,fragmentIdentifier:a}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:s(o,r),fragmentIdentifier:a},n)},t.exclude=(e,r,n)=>{let i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},5346:function(e){"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,n){var i=n&&n.stringify||t;if("object"==typeof e&&null!==e){var o=r.length+1;if(1===o)return e;var s=Array(o);s[0]=i(e);for(var a=1;a<o;a++)s[a]=i(r[a]);return s.join(" ")}if("string"!=typeof e)return e;var u=r.length;if(0===u)return e;for(var c="",l=0,f=-1,p=e&&e.length||0,h=0;h<p;){if(37===e.charCodeAt(h)&&h+1<p){switch(f=f>-1?f:0,e.charCodeAt(h+1)){case 100:case 102:if(l>=u||null==r[l])break;f<h&&(c+=e.slice(f,h)),c+=Number(r[l]),f=h+2,h++;break;case 105:if(l>=u||null==r[l])break;f<h&&(c+=e.slice(f,h)),c+=Math.floor(Number(r[l])),f=h+2,h++;break;case 79:case 111:case 106:if(l>=u||void 0===r[l])break;f<h&&(c+=e.slice(f,h));var d=typeof r[l];if("string"===d){c+="'"+r[l]+"'",f=h+2,h++;break}if("function"===d){c+=r[l].name||"<anonymous>",f=h+2,h++;break}c+=i(r[l]),f=h+2,h++;break;case 115:if(l>=u)break;f<h&&(c+=e.slice(f,h)),c+=String(r[l]),f=h+2,h++;break;case 37:f<h&&(c+=e.slice(f,h)),c+="%",f=h+2,h++,l--}++l}++h}return -1===f?e:(f<p&&(c+=e.slice(f)),c)}},3954:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch(t){return e}},t.safeJsonStringify=function(e){return"string"==typeof e?e:JSON.stringify(e,(e,t)=>void 0===t?null:t)}},5682:function(e,t,r){"use strict";var n,i=r(8764),o=(n=r(9274))&&n.__esModule?n:{default:n},s=function(e){var t=e.allowedSizes,r=e.defaultSize,n=e.padding;return function e(){var s=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(!this||this.constructor!==e)return new e(a);if(t&&!t.includes(a))throw Error("Unsupported hash length");var u=new o.default({capacity:a});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(i.Buffer.isBuffer(e))return u.absorb(e),s;if("string"==typeof e)return s.update(i.Buffer.from(e,t));throw TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"==typeof e?{format:e}:e,r=u.squeeze({buffer:t.buffer,padding:t.padding||n});return t.format&&"binary"!==t.format?r.toString(t.format):r},this.reset=function(){return u.reset(),s},this}},a=s({allowedSizes:[224,256,384,512],defaultSize:512,padding:1}),u=s({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});s({allowedSizes:[128,256],defaultSize:256,padding:31}),u.SHA3Hash=a},9274:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(8764),o=(n=r(9618))&&n.__esModule?n:{default:n},s=function(e,t){for(var r=0;r<e.length;r+=8){var n=r/4;t[n]^=e[r+7]<<24|e[r+6]<<16|e[r+5]<<8|e[r+4],t[n+1]^=e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}return t},a=function(e,t){for(var r=0;r<t.length;r+=8){var n=r/4;t[r]=e[n+1],t[r+1]=e[n+1]>>>8,t[r+2]=e[n+1]>>>16,t[r+3]=e[n+1]>>>24,t[r+4]=e[n],t[r+5]=e[n]>>>8,t[r+6]=e[n]>>>16,t[r+7]=e[n]>>>24}return t};t.default=function(e){var t=this,r=e.capacity,n=e.padding,u=(0,o.default)(),c=r/8,l=200-r/4,f=0,p=new Uint32Array(50),h=i.Buffer.allocUnsafe(l);return this.absorb=function(e){for(var r=0;r<e.length;r++)h[f]=e[r],(f+=1)>=l&&(s(h,p),u(p),f=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||i.Buffer.allocUnsafe(c),padding:e.padding||n,queue:i.Buffer.allocUnsafe(h.length),state:new Uint32Array(p.length)};h.copy(t.queue);for(var r=0;r<p.length;r++)t.state[r]=p[r];t.queue.fill(0,f),t.queue[f]|=t.padding,t.queue[l-1]|=128,s(t.queue,t.state);for(var o=0;o<t.buffer.length;o+=l)u(t.state),a(t.state,t.buffer.slice(o,o+l));return t.buffer},this.reset=function(){return h.fill(0),p.fill(0),f=0,t},this}},1298:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(6605))&&n.__esModule?n:{default:n};t.default=function(e){for(var t=e.A,r=e.C,n=0;n<25;n+=5){for(var o=0;o<5;o++)(0,i.default)(t,n+o)(r,o);for(var s=0;s<5;s++){var a=(n+s)*2,u=(s+1)%5*2,c=(s+2)%5*2;t[a]^=~r[u]&r[c],t[a+1]^=~r[u+1]&r[c+1]}}}},6605:function(e){"use strict";e.exports=function(e,t){return function(r,n){var i=2*n,o=2*t;r[i]=e[o],r[i+1]=e[o+1]}}},9618:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1298)),i=a(r(6533)),o=a(r(9420)),s=a(r(7959));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=new Uint32Array(10),t=new Uint32Array(10),r=new Uint32Array(2);return function(a){for(var u=0;u<24;u++)(0,s.default)({A:a,C:e,D:t,W:r}),(0,o.default)({A:a,C:e,W:r}),(0,n.default)({A:a,C:e}),(0,i.default)({A:a,roundIndex:u});e.fill(0),t.fill(0),r.fill(0)}}},6533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1306))&&n.__esModule?n:{default:n};t.default=function(e){var t=e.A,r=2*e.roundIndex;t[0]^=i.default[r],t[1]^=i.default[r+1]}},1306:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);t.default=r},9420:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(6325)),i=s(r(3010)),o=s(r(6605));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.A,r=e.C,s=e.W;(0,o.default)(t,1)(s,0);for(var a=0,u=0,c=0,l=32,f=0;f<24;f++){var p=n.default[f],h=i.default[f];(0,o.default)(t,p)(r,0),a=s[0],u=s[1],l=32-h,s[c=h<32?0:1]=a<<h|u>>>l,s[(c+1)%2]=u<<h|a>>>l,(0,o.default)(s,0)(t,p),(0,o.default)(r,0)(s,0)}}},6325:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1]},3010:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44]},7959:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(6605))&&n.__esModule?n:{default:n};t.default=function(e){for(var t=e.A,r=e.C,n=e.D,o=e.W,s=0,a=0,u=0;u<5;u++){var c=2*u,l=(u+5)*2,f=(u+10)*2,p=(u+15)*2,h=(u+20)*2;r[c]=t[c]^t[l]^t[f]^t[p]^t[h],r[c+1]=t[c+1]^t[l+1]^t[f+1]^t[p+1]^t[h+1]}for(var d=0;d<5;d++){(0,i.default)(r,(d+1)%5)(o,0),s=o[0],a=o[1],o[0]=s<<1|a>>>31,o[1]=a<<1|s>>>31,n[2*d]=r[(d+4)%5*2]^o[0],n[2*d+1]=r[(d+4)%5*2+1]^o[1];for(var g=0;g<25;g+=5)t[(g+d)*2]^=n[2*d],t[(g+d)*2+1]^=n[2*d+1]}}},500:function(e){"use strict";e.exports=(e,t)=>{if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let r=e.indexOf(t);return -1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},8218:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},1742:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||r.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},655:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return _},__await:function(){return m},__awaiter:function(){return l},__classPrivateFieldGet:function(){return I},__classPrivateFieldSet:function(){return R},__createBinding:function(){return p},__decorate:function(){return a},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return S},__importStar:function(){return x},__makeTemplateObject:function(){return E},__metadata:function(){return c},__param:function(){return u},__read:function(){return g},__rest:function(){return s},__spread:function(){return y},__spreadArrays:function(){return v},__values:function(){return d}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function f(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function p(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function h(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof m?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=d(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function R(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},7026:function(e){"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},5883:function(){},7061:function(e,t,r){var n=r(8698).default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,o=r.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var i,o,a=Object.create((t&&t.prototype instanceof g?t:g).prototype);return s(a,"_invoke",{value:(i=new R(n||[]),o="suspendedStart",function(t,n){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===t)throw n;return D()}for(i.method=t,i.arg=n;;){var s=i.delegate;if(s){var a=function e(t,r){var n=r.method,i=t.iterator[n];if(void 0===i)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),d;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var s=o.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,d):s:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,d)}(s,i);if(a){if(a===d)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===o)throw o="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o="executing";var u=h(e,r,i);if("normal"===u.type){if(o=i.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(o="completed",i.method="throw",i.arg=u.arg)}})}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var d={};function g(){}function y(){}function v(){}var m={};f(m,u,function(){return this});var b=Object.getPrototypeOf,w=b&&b(b(k([])));w&&w!==r&&o.call(w,u)&&(m=w);var _=v.prototype=g.prototype=Object.create(m);function E(e){["next","throw","return"].forEach(function(t){f(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var r;s(this,"_invoke",{value:function(i,s){function a(){return new t(function(r,a){!function r(i,s,a,u){var c=h(e[i],e,s);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,u)},function(e){r("throw",e,a,u)}):t.resolve(f).then(function(e){l.value=e,a(l)},function(e){return r("throw",e,a,u)})}u(c.arg)}(i,s,r,a)})}return r=r?r.then(a,a):a()}})}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:D}}function D(){return{value:void 0,done:!0}}return y.prototype=v,s(_,"constructor",{value:v,configurable:!0}),s(v,"constructor",{value:y,configurable:!0}),y.displayName=f(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,f(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(x.prototype),f(x.prototype,c,function(){return this}),t.AsyncIterator=x,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new x(p(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then(function(e){return e.done?e.value:s.next()})},E(_),f(_,l,"Generator"),f(_,u,function(){return this}),f(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(a&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4687:function(e,t,r){var n=r(7061)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},6559:function(e,t,r){"use strict";let n=r(5346);e.exports=o;let i=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function o(e){var t;(e=e||{}).browser=e.browser||{};let r=e.browser.transmit;if(r&&"function"!=typeof r.send)throw Error("pino: transmit option must have a send function");let n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);let l=e.serializers||{},f=function(e,t){if(Array.isArray(e)){let t=e.filter(function(e){return"!stdSerializers.err"!==e});return t}return!0===e&&Object.keys(t)}(e.browser.serialize,l),g=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(g=!1),"function"==typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");let y=e.level||"info",v=Object.create(n);v.log||(v.log=p),Object.defineProperty(v,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(v,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,s(m,v,"error","log"),s(m,v,"fatal","error"),s(m,v,"warn","error"),s(m,v,"info","log"),s(m,v,"debug","log"),s(m,v,"trace","log")}});let m={transmit:r,serialize:f,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(t=e).timestamp?t.timestamp:!1===t.timestamp?h:d};return v.levels=o.levels,v.level=y,v.setMaxListeners=v.getMaxListeners=v.emit=v.addListener=v.on=v.prependListener=v.once=v.prependOnceListener=v.removeListener=v.removeAllListeners=v.listeners=v.listenerCount=v.eventNames=v.write=v.flush=p,v.serializers=l,v._serialize=f,v._stdErrSerialize=g,v.child=function(t,n){if(!t)throw Error("missing bindings for child Pino");n=n||{},f&&t.serializers&&(n.serializers=t.serializers);let i=n.serializers;if(f&&i){var o=Object.assign({},l,i),s=!0===e.browser.serialize?Object.keys(o):f;delete t.serializers,a([t],s,o,this._stdErrSerialize)}function p(e){this._childLevel=(0|e._childLevel)+1,this.error=u(e,t,"error"),this.fatal=u(e,t,"fatal"),this.warn=u(e,t,"warn"),this.info=u(e,t,"info"),this.debug=u(e,t,"debug"),this.trace=u(e,t,"trace"),o&&(this.serializers=o,this._serialize=s),r&&(this._logEvent=c([].concat(e._logEvent.bindings,t)))}return p.prototype=this,new p(this)},r&&(v._logEvent=c()),v}function s(e,t,r,s){let u=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?p:u[r]?u[r]:i[r]||i[s]||p,function(e,t,r){if(e.transmit||t[r]!==p){var s;t[r]=(s=t[r],function(){let u=e.timestamp(),l=Array(arguments.length),f=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var p=0;p<l.length;p++)l[p]=arguments[p];if(e.serialize&&!e.asObject&&a(l,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?s.call(f,function(e,t,r,i){e._serialize&&a(r,e._serialize,e.serializers,e._stdErrSerialize);let s=r.slice(),u=s[0],c={};i&&(c.time=i),c.level=o.levels.values[t];let l=(0|e._childLevel)+1;if(l<1&&(l=1),null!==u&&"object"==typeof u){for(;l--&&"object"==typeof s[0];)Object.assign(c,s.shift());u=s.length?n(s.shift(),s):void 0}else"string"==typeof u&&(u=n(s.shift(),s));return void 0!==u&&(c.msg=u),c}(this,r,l,u)):s.apply(f,l),e.transmit){let n=e.transmit.level||t.level,i=o.levels.values[n],s=o.levels.values[r];if(s<i)return;(function(e,t,r){let n=t.send,i=t.ts,o=t.methodLevel,s=t.methodValue,u=t.val,l=e._logEvent.bindings;a(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(e){return -1===l.indexOf(e)}),e._logEvent.level.label=o,e._logEvent.level.value=s,n(o,e._logEvent,u),e._logEvent=c(l)})(this,{ts:u,methodLevel:r,methodValue:s,transmitLevel:n,transmitValue:o.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},l)}})}}(e,t,r)}function a(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=o.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(let n in e[i])t&&t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function u(e,t,r){return function(){let n=Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function c(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function l(){return{}}function f(e){return e}function p(){}function h(){return!1}function d(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers={mapHttpRequest:l,mapHttpResponse:l,wrapRequestSerializer:f,wrapResponseSerializer:f,wrapErrorSerializer:f,req:l,res:l,err:function(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}},o.stdTimeFunctions=Object.assign({},{nullTime:h,epochTime:d,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(6840),t(880)}),_N_E=e.O()}]);